//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
//

#include <stdbool.h>
#include <stdint.h>

// ---------------- Integer Types Definitions -----------------

typedef int64_t int128_t;

// ----------------- Float Types Definitions ------------------

typedef double float64_t;

// ------------------- Function Prototypes --------------------

int64_t entry_point(void);
int64_t function_100003670(void);
int64_t function_1000038d0(void);
int64_t function_100003b4c(void);
int64_t function_100003d08(void);
int64_t function_100003efc(int64_t a1, int64_t a2, int64_t a3, int64_t a4);
void function_100003f08(int64_t * ptr);
int32_t function_100003f14(char * format, ...);
int32_t function_100003f20(int32_t c);
int32_t function_100003f2c(char * s);
int32_t function_100003f38(void);
int64_t * function_100003f44(int64_t * ptr, int32_t size);

// --------------------- Global Variables ---------------------

float64_t g1 = 2147483647.0; // 0x100003f50
int64_t g2 = 0x100000cfeedfacf; // 0x100008000
int32_t * g3 = (int32_t *)0x200000000; // 0x100008008
int32_t * g4 = (int32_t *)0x50800000012; // 0x100008010
int32_t * g5 = (int32_t *)0x20008500000508; // 0x100008014
int64_t g6 = 0x200085; // 0x100008018

// ------- Dynamically Linked Functions Without Header --------

int64_t ___memset_chk(int64_t a1, int64_t a2, int64_t a3, int64_t a4);
void _free(int64_t * a1);
int32_t _printf(char * a1, ...);
int32_t _putchar(int32_t a1);
int32_t _puts(char * a1);
int32_t _rand(void);
int64_t * _realloc(int64_t * a1, int32_t a2);

// ------------------------ Functions -------------------------

// Address range: 0x100003670 - 0x1000038d0
int64_t function_100003670(void) {
    // 0x100003670
    int64_t v1; // 0x100003670
    int32_t v2 = v1; // 0x100003680
    int32_t v3 = v1; // 0x100003684
    *(int32_t *)&g4 = v2;
    *(int32_t *)&g5 = v3;
    int64_t * v4 = _realloc((int64_t *)g6, 4 * (int32_t)((v1 + 2) * v1)); // 0x1000036f0
    int64_t v5 = (int64_t)v4; // 0x1000036f0
    g6 = v5;
    int32_t v6 = *(int32_t *)&g4;
    int64_t v7 = 4 * (int64_t)v6 + v5; // 0x100003708
    g2 = v7;
    int32_t v8 = -v6; // 0x100003730
    int32_t v9 = v6; // 0x100003738
    int64_t v10 = v7; // 0x100003738
    if (v8 < 0 != (v6 & v8) < 0) {
        // 0x100003740
        *(int32_t *)v4 = 6;
        int32_t v11 = *(int32_t *)&g4; // 0x10000372c
        int32_t v12 = 1 - v11; // 0x100003730
        int32_t v13 = 1; // 0x100003738
        v9 = v11;
        if (v12 < 0 != (v12 & v11) < 0) {
            *(int32_t *)(4 * (int64_t)v13 + g6) = 6;
            int32_t v14 = v13 + 1; // 0x100003760
            int32_t v15 = *(int32_t *)&g4; // 0x10000372c
            int32_t v16 = v14 - v15; // 0x100003730
            v13 = v14;
            v9 = v15;
            while (v16 < 0 != ((v16 ^ v14) & (v15 ^ v14)) < 0) {
                // 0x100003740
                *(int32_t *)(4 * (int64_t)v13 + g6) = 6;
                v14 = v13 + 1;
                v15 = *(int32_t *)&g4;
                v16 = v14 - v15;
                v13 = v14;
                v9 = v15;
            }
        }
        // 0x100003720
        v10 = g2;
    }
    // 0x10000376c
    *(int64_t *)&g3 = v10;
    int32_t v17 = -v3; // 0x100003794
    if (v17 < 0 == (v17 & v3) < 0) {
        // 0x100003898
        return ___memset_chk((int64_t)(int32_t *)v10, 0, 4 * (int64_t)v9, -1);
    }
    // 0x1000037b0
    float64_t v18; // 0x100003670
    int32_t v19 = v18 * g1; // 0x100003698
    int32_t v20 = v2 - 1; // 0x1000037b4
    int32_t v21 = 0; // 0x10000388c
    int32_t v22 = _rand();
    int32_t v23 = v22 - v19;
    bool v24 = v23 < 0 == ((v23 ^ v22) & (v22 ^ v19)) < 0; // 0x1000037c4
    bool v25 = v23 < 0 == ((v23 ^ v22) & (v22 ^ v19)) < 0; // 0x1000037c4
    int32_t v26; // 0x100003670
    int32_t v27; // 0x1000037f0
    int32_t v28; // 0x1000037f8
    int32_t v29; // 0x100003808
    int32_t v30; // 0x1000037b4
    int32_t v31; // 0x100003670
    int32_t v32; // 0x100003670
    if (v20 != 0) {
        v27 = v24 ? 0 : 4;
        v28 = _rand();
        v29 = v28 - v19;
        *(int64_t *)&g3 = (int64_t)g3 + 4;
        *g3 = (v29 < 0 == ((v29 ^ v28) & (v28 ^ v19)) < 0 ? 0 : 2) | v27;
        v30 = v20 - 1;
        v31 = _rand();
        v32 = v31 - v19;
        v26 = v30;
        v25 = v32 < 0 == ((v32 ^ v31) & (v31 ^ v19)) < 0;
        while (v30 != 0) {
            // 0x1000037cc
            v27 = v32 < 0 == ((v32 ^ v31) & (v31 ^ v19)) < 0 ? 0 : 4;
            v28 = _rand();
            v29 = v28 - v19;
            *(int64_t *)&g3 = (int64_t)g3 + 4;
            *g3 = (v29 < 0 == ((v29 ^ v28) & (v28 ^ v19)) < 0 ? 0 : 2) | v27;
            v30 = v26 - 1;
            v31 = _rand();
            v32 = v31 - v19;
            v26 = v30;
            v25 = v32 < 0 == ((v32 ^ v31) & (v31 ^ v19)) < 0;
        }
    }
    // 0x100003840
    *(int64_t *)&g3 = (int64_t)g3 + 4;
    *g3 = v25 ? 2 : 6;
    v21++;
    while (v21 - v3 < 0 != ((v21 - v3 ^ v21) & (v21 ^ v3)) < 0) {
        // 0x1000037b0
        v22 = _rand();
        v23 = v22 - v19;
        v24 = v23 < 0 == ((v23 ^ v22) & (v22 ^ v19)) < 0;
        v25 = v23 < 0 == ((v23 ^ v22) & (v22 ^ v19)) < 0;
        if (v20 != 0) {
            v27 = v24 ? 0 : 4;
            v28 = _rand();
            v29 = v28 - v19;
            *(int64_t *)&g3 = (int64_t)g3 + 4;
            *g3 = (v29 < 0 == ((v29 ^ v28) & (v28 ^ v19)) < 0 ? 0 : 2) | v27;
            v30 = v20 - 1;
            v31 = _rand();
            v32 = v31 - v19;
            v26 = v30;
            v25 = v32 < 0 == ((v32 ^ v31) & (v31 ^ v19)) < 0;
            while (v30 != 0) {
                // 0x1000037cc
                v27 = v32 < 0 == ((v32 ^ v31) & (v31 ^ v19)) < 0 ? 0 : 4;
                v28 = _rand();
                v29 = v28 - v19;
                *(int64_t *)&g3 = (int64_t)g3 + 4;
                *g3 = (v29 < 0 == ((v29 ^ v28) & (v28 ^ v19)) < 0 ? 0 : 2) | v27;
                v30 = v26 - 1;
                v31 = _rand();
                v32 = v31 - v19;
                v26 = v30;
                v25 = v32 < 0 == ((v32 ^ v31) & (v31 ^ v19)) < 0;
            }
        }
        // 0x100003840
        *(int64_t *)&g3 = (int64_t)g3 + 4;
        *g3 = v25 ? 2 : 6;
        v21++;
    }
    int32_t v33 = *(int32_t *)&g4; // 0x100003670
    // 0x100003898
    return ___memset_chk((int64_t)g3, 0, 4 * (int64_t)v33, -1);
}

// Address range: 0x1000038d0 - 0x100003b4c
int64_t function_1000038d0(void) {
    int32_t v1 = *(int32_t *)&g4; // 0x1000038f0
    int32_t v2 = -v1; // 0x1000038f4
    int32_t v3 = 0; // 0x1000038fc
    if (v2 < 0 != (v1 & v2) < 0) {
        _printf("+--");
        v3++;
        int32_t v4 = *(int32_t *)&g4; // 0x1000038f0
        while (v3 - v4 < 0 != ((v3 - v4 ^ v3) & (v4 ^ v3)) < 0) {
            // 0x100003904
            _printf("+--");
            v3++;
            v4 = *(int32_t *)&g4;
        }
    }
    int32_t result = _puts("+"); // 0x10000392c
    int32_t v5 = *(int32_t *)&g5; // 0x100003944
    int32_t v6 = -v5; // 0x100003948
    if (v5 != 0 && v6 < 0 == (v5 & v6) < 0) {
        // 0x100003b40
        return result;
    }
    int32_t v7 = 0;
    _putchar(v7 != v5 ? 124 : 32);
    int32_t v8 = *(int32_t *)&g4; // 0x10000399c
    int32_t v9 = -v8; // 0x1000039a0
    int32_t v10 = v8; // 0x1000039a8
    int32_t v11 = 0; // 0x1000039a8
    uint32_t v12; // 0x1000039e0
    int32_t v13; // 0x100003a1c
    int32_t v14; // 0x100003a2c
    int32_t v15; // 0x100003a58
    int32_t v16; // 0x10000399c
    int32_t v17; // 0x1000039a0
    if (v9 < 0 != (v8 & v9) < 0) {
        v12 = *(int32_t *)(g2 + (int64_t)(4 * (v10 * v7 + v11)));
        _printf(v12 % 2 == 0 ? "  " : "[]");
        v13 = *(int32_t *)&g4;
        v14 = *(int32_t *)(g2 + (int64_t)(4 * (v13 * v7 + v11)));
        _putchar((v14 & 2) == 0 ? 32 : 124);
        v15 = v11 + 1;
        v16 = *(int32_t *)&g4;
        v17 = v15 - v16;
        v11 = v15;
        while (v17 < 0 != ((v17 ^ v15) & (v16 ^ v15)) < 0) {
            // 0x1000039b0
            v12 = *(int32_t *)(g2 + (int64_t)(4 * (v16 * v7 + v11)));
            _printf(v12 % 2 == 0 ? "  " : "[]");
            v13 = *(int32_t *)&g4;
            v14 = *(int32_t *)(g2 + (int64_t)(4 * (v13 * v7 + v11)));
            _putchar((v14 & 2) == 0 ? 32 : 124);
            v15 = v11 + 1;
            v16 = *(int32_t *)&g4;
            v17 = v15 - v16;
            v11 = v15;
        }
    }
    int32_t result2 = _putchar(10); // 0x100003a84
    while (v7 != *(int32_t *)&g5) {
        int32_t v18 = *(int32_t *)&g4; // 0x100003aa4
        int32_t v19 = -v18; // 0x100003aa8
        int32_t v20 = v18; // 0x100003ab0
        int32_t v21 = 0; // 0x100003ab0
        if (v19 < 0 != (v18 & v19) < 0) {
            int32_t v22 = *(int32_t *)(g2 + (int64_t)(4 * (v20 * v7 + v21))); // 0x100003ae0
            _printf((v22 & 4) == 0 ? "+  " : "+--");
            int32_t v23 = v21 + 1; // 0x100003b14
            int32_t v24 = *(int32_t *)&g4; // 0x100003aa4
            int32_t v25 = v23 - v24; // 0x100003aa8
            v21 = v23;
            while (v25 < 0 != ((v25 ^ v23) & (v24 ^ v23)) < 0) {
                // 0x100003ab8
                v22 = *(int32_t *)(g2 + (int64_t)(4 * (v24 * v7 + v21)));
                _printf((v22 & 4) == 0 ? "+  " : "+--");
                v23 = v21 + 1;
                v24 = *(int32_t *)&g4;
                v25 = v23 - v24;
                v21 = v23;
            }
        }
        int32_t v26 = _puts("+"); // 0x100003b28
        int32_t v27 = v7 + 1; // 0x100003b34
        int32_t v28 = *(int32_t *)&g5; // 0x100003944
        int32_t v29 = v27 - v28; // 0x100003948
        result2 = v26;
        if (v29 != 0 && v29 < 0 == ((v29 ^ v27) & (v28 ^ v27)) < 0) {
            // break -> 0x100003b40
            break;
        }
        v7 = v27;
        _putchar(v7 != v28 ? 124 : 32);
        v8 = *(int32_t *)&g4;
        v9 = -v8;
        v10 = v8;
        v11 = 0;
        if (v9 < 0 != (v8 & v9) < 0) {
            v12 = *(int32_t *)(g2 + (int64_t)(4 * (v10 * v7 + v11)));
            _printf(v12 % 2 == 0 ? "  " : "[]");
            v13 = *(int32_t *)&g4;
            v14 = *(int32_t *)(g2 + (int64_t)(4 * (v13 * v7 + v11)));
            _putchar((v14 & 2) == 0 ? 32 : 124);
            v15 = v11 + 1;
            v16 = *(int32_t *)&g4;
            v17 = v15 - v16;
            v11 = v15;
            while (v17 < 0 != ((v17 ^ v15) & (v16 ^ v15)) < 0) {
                // 0x1000039b0
                v12 = *(int32_t *)(g2 + (int64_t)(4 * (v16 * v7 + v11)));
                _printf(v12 % 2 == 0 ? "  " : "[]");
                v13 = *(int32_t *)&g4;
                v14 = *(int32_t *)(g2 + (int64_t)(4 * (v13 * v7 + v11)));
                _putchar((v14 & 2) == 0 ? 32 : 124);
                v15 = v11 + 1;
                v16 = *(int32_t *)&g4;
                v17 = v15 - v16;
                v11 = v15;
            }
        }
        // 0x100003a64
        result2 = _putchar(10);
    }
    // 0x100003b40
    return result2;
}

// Address range: 0x100003b4c - 0x100003d08
int64_t function_100003b4c(void) {
    // 0x100003b4c
    int64_t v1; // 0x100003b4c
    uint32_t v2 = (int32_t)v1;
    if (v2 % 2 != 0) {
        // 0x100003cf8
        return 0;
    }
    int32_t * v3 = (int32_t *)v1; // 0x100003b58
    *v3 = v2 | 1;
    if (g3 <= v3) {
        // 0x100003cf8
        return 1;
    }
    // 0x100003bb8
    int64_t v4; // 0x100003b4c
    int32_t v5 = *(int32_t *)&v4; // 0x100003bbc
    if ((v5 & 4) == 0) {
        // 0x100003bd0
        if ((int32_t)function_100003b4c() != 0) {
            // 0x100003cf8
            return 1;
        }
    }
    if ((v5 & 2) == 0) {
        // 0x100003c18
        if ((int32_t)function_100003b4c() != 0) {
            // 0x100003cf8
            return 1;
        }
    }
    // 0x100003c3c
    if ((*(int32_t *)(v1 - 4) & 2) == 0) {
        // 0x100003c54
        if ((int32_t)function_100003b4c() != 0) {
            // 0x100003cf8
            return 1;
        }
    }
    int32_t v6 = *(int32_t *)(v1 + (int64_t)-((4 * *(int32_t *)&g4))); // 0x100003c90
    int64_t result = 0; // 0x100003ca4
    if ((v6 & 4) == 0) {
        // 0x100003cac
        result = (int32_t)function_100003b4c() != 0;
    }
    // 0x100003cf8
    return result;
}

// Address range: 0x100003d08 - 0x100003db4
int64_t function_100003d08(void) {
    int32_t v1 = *(int32_t *)&g4; // 0x100003d28
    int32_t v2 = -v1;
    int32_t v3; // 0x100003d08
    int32_t v4; // 0x100003d08
    if (v2 < 0 == (v1 & v2) < 0) {
        // 0x100003d8c
        v4 = 0;
        v3 = v2;
        return v3 < 0 != ((v4 ^ v3) & (v4 ^ v1)) < 0;
    }
    int32_t v5 = 0;
    while ((int32_t)function_100003b4c() == 0) {
        int32_t v6 = v5 + 1; // 0x100003d80
        int32_t v7 = *(int32_t *)&g4; // 0x100003d28
        int32_t v8 = v6 - v7;
        int32_t v9 = v8; // 0x100003d3c
        int32_t v10 = v7; // 0x100003d3c
        int32_t v11 = v6; // 0x100003d3c
        if (v8 < 0 == ((v8 ^ v6) & (v7 ^ v6)) < 0) {
            // 0x100003d8c
            v4 = v11;
            v3 = v9;
            return v3 < 0 != ((v4 ^ v3) & (v4 ^ v10)) < 0;
        }
        v5 = v6;
    }
    int32_t v12 = *(int32_t *)&g4;
    // 0x100003d8c
    v4 = v5;
    v3 = v5 - v12;
    return v3 < 0 != ((v4 ^ v3) & (v4 ^ v12)) < 0;
}

// Address range: 0x100003db4 - 0x100003efc
int64_t entry_point(void) {
    // 0x100003db4
    function_100003670();
    function_100003d08();
    function_1000038d0();
    _puts("\nrunning 10x10 grids 10000 times for each p:");
    for (int32_t i = 1; i < 10; i++) {
        // 0x100003e14
        __asm_sshll(0.0f, 0);
        int32_t v1 = 0;
        function_100003670();
        function_100003d08();
        int32_t v2 = v1 + 1; // 0x100003e68
        __asm_sshll(0.0f, 0);
        while (v1 < 0x270f != (0x270e - v1 & v2) < 0) {
            // 0x100003e2c
            v1 = v2;
            function_100003670();
            function_100003d08();
            v2 = v1 + 1;
            __asm_sshll(0.0f, 0);
        }
        int128_t v3 = __asm_sshll(0.0f, 0); // 0x100003e94
        __asm_sshll(0.0f, 0);
        int128_t v4; // 0x100003db4
        _printf("p = %3g: %.4f\n", (float64_t)(int64_t)v3, (float64_t)(int64_t)v4);
    }
    // 0x100003edc
    _free((int64_t *)g6);
    return 0;
}

// Address range: 0x100003efc - 0x100003f08
int64_t function_100003efc(int64_t a1, int64_t a2, int64_t a3, int64_t a4) {
    // 0x100003efc
    return ___memset_chk(a1, a2, a3, a4);
}

// Address range: 0x100003f08 - 0x100003f14
void function_100003f08(int64_t * ptr) {
    // 0x100003f08
    _free(ptr);
}

// Address range: 0x100003f14 - 0x100003f20
int32_t function_100003f14(char * format, ...) {
    // 0x100003f14
    return _printf(format);
}

// Address range: 0x100003f20 - 0x100003f2c
int32_t function_100003f20(int32_t c) {
    // 0x100003f20
    return _putchar(c);
}

// Address range: 0x100003f2c - 0x100003f38
int32_t function_100003f2c(char * s) {
    // 0x100003f2c
    return _puts(s);
}

// Address range: 0x100003f38 - 0x100003f44
int32_t function_100003f38(void) {
    // 0x100003f38
    return _rand();
}

// Address range: 0x100003f44 - 0x100003f50
int64_t * function_100003f44(int64_t * ptr, int32_t size) {
    // 0x100003f44
    return _realloc(ptr, size);
}

// --------------------- Meta-Information ---------------------

// Detected functions: 12

