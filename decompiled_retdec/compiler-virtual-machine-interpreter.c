//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
//

#include <stdbool.h>
#include <stdint.h>
#include <stdlib.h>
#include <string.h>
#include <unistd.h>

// ------------------------ Structures ------------------------

struct _IO_FILE {
    int32_t e0;
};

// ------------------- Function Prototypes --------------------

int64_t entry_point(void);
int64_t function_100002eac(void);
int64_t function_100002f18(int32_t a1, int32_t a2, int32_t a3);
int64_t function_1000034a4(void);
int64_t function_10000360c(void);
int64_t function_1000036b4(void);
int64_t function_1000037f4(void);
int64_t function_1000038c0(void);
int64_t function_100003968(void);
int64_t function_1000039cc(void);
int64_t function_100003c50(void);
int64_t function_100003db8(void);
int64_t function_100003e24(int64_t a1);
int64_t function_100003e30(int64_t * a1, int64_t a2, int64_t a3, int64_t a4, int64_t a5);
int32_t function_100003e3c(char * nptr);
void function_100003e48(int32_t status);
int32_t function_100003e54(struct _IO_FILE * stream);
struct _IO_FILE * function_100003e60(char * filename, char * modes);
int32_t function_100003e6c(int32_t c);
int64_t * function_100003e78(int32_t size);
int32_t function_100003e84(char * format, ...);
int64_t * function_100003e90(int64_t * ptr, int32_t size);
int32_t function_100003e9c(char * s1, char * s2);
char * function_100003ea8(char * s);
int32_t function_100003eb4(char * s);
char * function_100003ec0(char * s, char * delim);

// --------------------- Global Variables ---------------------

int32_t * g1 = (int32_t *)0x20000000003ecc; // 0x100008000
int64_t g2 = 0x100000cfeedfacf; // 0x100008180
int32_t g3 = 0; // 0x100008188
int32_t g4 = 2; // 0x10000818c
struct _IO_FILE * g5 = (struct _IO_FILE *)0x55800000012; // 0x100008190
int64_t g6 = 0; // 0x100008198
int32_t g7 = 0; // 0x1000081a0

// ------- Dynamically Linked Functions Without Header --------

int64_t ___chkstk_darwin(void);
int64_t ___stack_chk_fail(int64_t a1);
int64_t ___vsprintf_chk(int64_t * a1, int64_t a2, int64_t a3, int64_t a4, int64_t a5);
int32_t _atoi(char * a1);
int32_t _fgetc(struct _IO_FILE * a1);
struct _IO_FILE * _fopen(char * a1, char * a2);
int32_t _isspace(int32_t a1);
int64_t * _malloc(int32_t a1);
int32_t _printf(char * a1, ...);
int64_t * _realloc(int64_t * a1, int32_t a2);
int32_t _strcmp(char * a1, char * a2);
int32_t _strlen(char * a1);
char * _strtok(char * a1, char * a2);

// ------------------------ Functions -------------------------

// Address range: 0x100002eac - 0x100002f18
int64_t function_100002eac(void) {
    // 0x100002eac
    int64_t v1; // 0x100002eac
    int64_t v2; // bp-1032, 0x100002eac
    int64_t v3; // 0x100002eac
    ___vsprintf_chk(&v2, 0, 1000, v3, (int64_t)&v1);
    _printf("error: %s\n", NULL);
    _exit(1);
    // UNREACHABLE
}

// Address range: 0x100002f18 - 0x100003444
int64_t function_100002f18(int32_t a1, int32_t a2, int32_t a3) {
    // 0x100002f18
    int64_t result; // 0x100002f18
    unsigned char v1 = (char)result;
    if (v1 >= 23 != v1 != 23) {
        // 0x100002f7c
        return result;
    }
    // 0x100003414
    function_100002eac();
    // UNREACHABLE
}

// Address range: 0x1000034a4 - 0x10000360c
int64_t function_1000034a4(void) {
    int32_t v1 = 0; // 0x1000034bc
    int64_t result; // 0x1000035f0
    int32_t v2; // 0x1000034a4
    while (true) {
        // 0x1000034c0
        int64_t v3; // 0x1000034a4
        *(int32_t *)v3 = v1;
        int32_t v4 = _fgetc(g5); // 0x1000034cc
        int64_t v5; // 0x1000034a4
        v2 = *(int32_t *)&v5;
        switch (v4) {
            case -1: {
            }
            case 10: {
                // 0x1000034fc
                result = 0;
                if (v2 != 0) {
                    // 0x1000035d8
                    *(char *)(g6 + (int64_t)v2) = 0;
                    result = g6;
                }
                // 0x1000035fc
                return result;
            }
        }
        int32_t v6 = v2 + 1; // 0x100003528
        int32_t v7 = *(int32_t *)((int64_t)&g1 + 416); // 0x100003530
        int32_t v8 = v6 - v7; // 0x100003534
        int64_t v9; // 0x1000034a4
        if (v8 < 0 == ((v8 ^ v6) & (v7 ^ v6)) < 0) {
            int32_t v10 = g7; // 0x100003548
            int32_t v11 = v10 == 0 ? 128 : 2 * v10;
            g7 = v11;
            int64_t v12 = (int64_t)_realloc((int64_t *)g6, v11); // 0x100003598
            g6 = v12;
            v9 = v12;
        } else {
            // 0x100003520
            v9 = g6;
        }
        // 0x1000035a8
        *(char *)(v9 + (int64_t)v2) = (char)v4;
        v1 = *(int32_t *)&v5 + 1;
    }
    // 0x1000034fc
    result = 0;
    if (v2 != 0) {
        // 0x1000035d8
        *(char *)(g6 + (int64_t)v2) = 0;
        result = g6;
    }
    // 0x1000035fc
    return result;
}

// Address range: 0x10000360c - 0x1000036b4
int64_t function_10000360c(void) {
    // 0x10000360c
    int64_t result; // 0x10000360c
    int32_t v1 = result;
    if (v1 < 1) {
        // 0x100003690
        *(char *)(result + (int64_t)v1) = 0;
        return result;
    }
    uint32_t v2 = v1 - 1; // 0x100003650
    char v3 = *(char *)(result + (int64_t)v2); // 0x100003654
    int32_t v4 = v1; // 0x100003670
    while (_isspace((int32_t)v3) != 0) {
        // 0x10000367c
        *(int32_t *)result = v2;
        int64_t v5; // 0x10000360c
        int32_t v6 = *(int32_t *)&v5; // 0x100003628
        v4 = v6;
        if (v6 < 1) {
            // break -> 0x100003690
            break;
        }
        v2 = v6 - 1;
        v3 = *(char *)(result + (int64_t)v2);
        v4 = v6;
    }
    // 0x100003690
    *(char *)(result + (int64_t)v4) = 0;
    return result;
}

// Address range: 0x1000036b4 - 0x1000037f4
int64_t function_1000036b4(void) {
    // 0x1000036b4
    int64_t v1; // 0x1000036b4
    int64_t v2 = v1;
    int64_t result = v2 + (int64_t)((char)v2 == 34);
    char * v3 = (char *)result; // 0x1000036e8
    char v4 = *v3; // 0x100003700
    char v5 = v4; // 0x10000371c
    int64_t v6 = result; // 0x10000371c
    int64_t v7 = result; // 0x10000371c
    if (v4 == 0) {
        // 0x1000037e8
        return result;
    }
    char * v8 = v3; // 0x10000371c
    char v9; // 0x1000036b4
    char * v10; // 0x1000036b4
    char * v11; // 0x1000036b4
    while (true) {
      lab_0x100003724:;
        int64_t v12 = v7;
        char * v13 = (char *)(v12 + 1);
        v10 = v13;
        if (v5 == 92) {
            char v14 = *v13;
            v9 = v14;
            v11 = v13;
            switch (v14) {
                case 110: {
                    // 0x100003754
                    *v8 = 10;
                    v10 = (char *)(v12 + 2);
                    goto lab_0x1000037a4;
                }
                case 92: {
                    // 0x10000378c
                    v10 = (char *)(v12 + 2);
                    goto lab_0x1000037a4;
                }
                default: {
                    goto lab_0x1000037a4_2;
                }
            }
        } else {
            goto lab_0x1000037a4;
        }
    }
  lab_0x1000037e8:
    // 0x1000037e8
    return result;
  lab_0x1000037a4:
    // 0x1000037a4
    v9 = *v10;
    v11 = v10;
    goto lab_0x1000037a4_2;
  lab_0x1000037a4_2:;
    char * v15 = v11;
    char v16 = v9; // 0x1000037b4
    char * v17 = v15; // 0x1000037b4
    if (v9 == 34) {
        char * v18 = (char *)((int64_t)v15 + 1); // 0x1000037c0
        char * v19 = *v18 == 0 ? v18 : v15;
        v16 = *v19;
        v17 = v19;
    }
    // 0x1000037e4
    v6++;
    char * v20 = (char *)v6;
    *v20 = v16;
    if (v16 == 0) {
        // break -> 0x1000037e8
        goto lab_0x1000037e8;
    }
    // 0x1000037e4
    v5 = *v17;
    v7 = (int64_t)v17;
    v8 = v20;
    goto lab_0x100003724;
}

// Address range: 0x1000037f4 - 0x1000038c0
int64_t function_1000037f4(void) {
    int64_t v1 = 0; // 0x100003874
    int64_t v2 = 16 * v1; // 0x100003828
    int64_t v3 = *(int64_t *)(v2 + (int64_t)&g1); // 0x100003834
    int64_t v4; // 0x1000037f4
    while (_strcmp((char *)v3, (char *)v4) != 0) {
        // 0x100003810
        v1++;
        if (v1 >= 24) {
            // 0x100003880
            function_100002eac();
            // UNREACHABLE
        }
        v2 = 16 * v1;
        v3 = *(int64_t *)(v2 + (int64_t)&g1);
    }
    // 0x100003850
    return (int64_t)*(int32_t *)(v2 + (int64_t)&g1 + 8);
}

// Address range: 0x1000038c0 - 0x100003968
int64_t function_1000038c0(void) {
    int32_t v1 = g3; // 0x1000038dc
    int32_t v2 = v1 - g4; // 0x1000038e8
    int32_t v3 = v1; // 0x1000038f0
    int64_t v4 = g2; // 0x1000038f0
    int64_t result; // 0x1000038c0
    if (v2 < 0 == ((v2 ^ v1) & (g4 ^ v1)) < 0) {
        int32_t v5 = g4 + 32; // 0x10000390c
        g4 = v5;
        v4 = (int64_t)_realloc((int64_t *)g2, v5);
        g2 = v4;
        v3 = g3;
        result = v4;
    }
    // 0x100003934
    g3 = v3 + 1;
    int64_t v6; // 0x1000038c0
    *(char *)(v4 + (int64_t)v3) = (char)v6;
    return result;
}

// Address range: 0x100003968 - 0x1000039cc
int64_t function_100003968(void) {
    int64_t result; // 0x1000039a8
    for (int64_t i = 0; i < 4; i++) {
        // 0x10000399c
        result = function_1000038c0();
    }
    // 0x1000039c0
    return result;
}

// Address range: 0x1000039cc - 0x100003c50
int64_t function_1000039cc(void) {
    // 0x1000039cc
    function_1000034a4();
    _strtok((char *)function_10000360c(), " ");
    int64_t v1; // 0x1000039cc
    *(int32_t *)v1 = _atoi(_strtok(NULL, " "));
    _strtok(NULL, " ");
    int32_t v2 = _atoi(_strtok(NULL, " ")); // 0x100003a48
    int64_t result = (int64_t)_malloc(8 * v2); // 0x100003a58
    int32_t v3 = -v2; // 0x100003a70
    int32_t v4 = 0; // 0x100003a78
    if (v3 < 0 != (v2 & v3) < 0) {
        function_1000034a4();
        function_10000360c();
        char * v5 = _strdup((char *)function_1000036b4()); // 0x100003ab0
        *(int64_t *)(8 * (int64_t)v4 + result) = (int64_t)v5;
        v4++;
        while (v4 - v2 < 0 != ((v4 - v2 ^ v4) & (v4 ^ v2)) < 0) {
            // 0x100003a80
            function_1000034a4();
            function_10000360c();
            v5 = _strdup((char *)function_1000036b4());
            *(int64_t *)(8 * (int64_t)v4 + result) = (int64_t)v5;
            v4++;
        }
    }
    // 0x100003ad8
    if (function_1000034a4() == 0) {
        // 0x100003c40
        return result;
    }
    _atoi(_strtok((char *)function_10000360c(), " "));
    _strtok(NULL, " ");
    int64_t v6 = function_1000037f4(); // 0x100003b44
    function_1000038c0();
    char * v7 = _strtok(NULL, " "); // 0x100003b5c
    int32_t v8 = v6; // 0x100003b68
    int64_t v9; // 0x100003c00
    char * v10; // 0x100003c0c
    int64_t v11; // 0x100003bb0
    char * v12; // 0x100003bbc
    if (v8 == 1 || v8 == 0) {
        // 0x100003bfc
        v9 = (int64_t)v7 + 1;
        v10 = (char *)v9;
        *(char *)(v9 + (int64_t)(_strlen(v10) - 1)) = 0;
        _atoi(v10);
        function_100003968();
    } else {
        if (v8 == 2) {
            // 0x100003bec
            _atoi(v7);
            function_100003968();
        } else {
            if (v8 != 18 != v8 != 19) {
                // 0x100003bac
                v11 = (int64_t)v7 + 1;
                v12 = (char *)v11;
                *(char *)(v11 + (int64_t)(_strlen(v12) - 1)) = 0;
                _atoi(v12);
                function_100003968();
            }
        }
    }
    while (function_1000034a4() != 0) {
        // 0x100003afc
        _atoi(_strtok((char *)function_10000360c(), " "));
        _strtok(NULL, " ");
        v6 = function_1000037f4();
        function_1000038c0();
        v7 = _strtok(NULL, " ");
        v8 = v6;
        if (v8 == 1 || v8 == 0) {
            // 0x100003bfc
            v9 = (int64_t)v7 + 1;
            v10 = (char *)v9;
            *(char *)(v9 + (int64_t)(_strlen(v10) - 1)) = 0;
            _atoi(v10);
            function_100003968();
        } else {
            if (v8 == 2) {
                // 0x100003bec
                _atoi(v7);
                function_100003968();
            } else {
                if (v8 != 18 != v8 != 19) {
                    // 0x100003bac
                    v11 = (int64_t)v7 + 1;
                    v12 = (char *)v11;
                    *(char *)(v11 + (int64_t)(_strlen(v12) - 1)) = 0;
                    _atoi(v12);
                    function_100003968();
                }
            }
        }
    }
    // 0x100003c40
    return result;
}

// Address range: 0x100003c50 - 0x100003cf4
int64_t function_100003c50(void) {
    // 0x100003c50
    int64_t v1; // 0x100003c50
    if ((char)v1 == 0) {
        // 0x100003ce8
        int64_t result; // 0x100003c50
        return result;
    }
    struct _IO_FILE * v2 = _fopen((char *)v1, (char *)v1); // 0x100003c9c
    int64_t result2 = (int64_t)v2; // 0x100003c9c
    *(int64_t *)v1 = result2;
    if (v2 != NULL) {
        // 0x100003ce8
        return result2;
    }
    // 0x100003cbc
    function_100002eac();
    // UNREACHABLE
}

// Address range: 0x100003cf4 - 0x100003db8
int64_t entry_point(void) {
    // 0x100003cf4
    function_100003c50();
    function_1000039cc();
    return ___chkstk_darwin();
}

// Address range: 0x100003db8 - 0x100003e24
int64_t function_100003db8(void) {
    // 0x100003db8
    int64_t v1; // 0x100003db8
    int32_t v2 = *(int32_t *)(v1 - 12); // 0x100003de8
    int32_t * v3 = (int32_t *)(v1 - 76); // 0x100003dec
    *v3 = v2;
    int32_t result = v2; // 0x100003e08
    if (*(int64_t *)*(int64_t *)0x100004010 != *(int64_t *)(v1 - 8)) {
        // 0x100003e10
        ___stack_chk_fail(g2);
        result = *v3;
    }
    // 0x100003e14
    return result;
}

// Address range: 0x100003e24 - 0x100003e30
int64_t function_100003e24(int64_t a1) {
    // 0x100003e24
    return ___stack_chk_fail(a1);
}

// Address range: 0x100003e30 - 0x100003e3c
int64_t function_100003e30(int64_t * a1, int64_t a2, int64_t a3, int64_t a4, int64_t a5) {
    // 0x100003e30
    return ___vsprintf_chk(a1, a2, a3, a4, a5);
}

// Address range: 0x100003e3c - 0x100003e48
int32_t function_100003e3c(char * nptr) {
    // 0x100003e3c
    return _atoi(nptr);
}

// Address range: 0x100003e48 - 0x100003e54
void function_100003e48(int32_t status) {
    // 0x100003e48
    _exit(status);
}

// Address range: 0x100003e54 - 0x100003e60
int32_t function_100003e54(struct _IO_FILE * stream) {
    // 0x100003e54
    return _fgetc(stream);
}

// Address range: 0x100003e60 - 0x100003e6c
struct _IO_FILE * function_100003e60(char * filename, char * modes) {
    // 0x100003e60
    return _fopen(filename, modes);
}

// Address range: 0x100003e6c - 0x100003e78
int32_t function_100003e6c(int32_t c) {
    // 0x100003e6c
    return _isspace(c);
}

// Address range: 0x100003e78 - 0x100003e84
int64_t * function_100003e78(int32_t size) {
    // 0x100003e78
    return _malloc(size);
}

// Address range: 0x100003e84 - 0x100003e90
int32_t function_100003e84(char * format, ...) {
    // 0x100003e84
    return _printf(format);
}

// Address range: 0x100003e90 - 0x100003e9c
int64_t * function_100003e90(int64_t * ptr, int32_t size) {
    // 0x100003e90
    return _realloc(ptr, size);
}

// Address range: 0x100003e9c - 0x100003ea8
int32_t function_100003e9c(char * s1, char * s2) {
    // 0x100003e9c
    return _strcmp(s1, s2);
}

// Address range: 0x100003ea8 - 0x100003eb4
char * function_100003ea8(char * s) {
    // 0x100003ea8
    return _strdup(s);
}

// Address range: 0x100003eb4 - 0x100003ec0
int32_t function_100003eb4(char * s) {
    // 0x100003eb4
    return _strlen(s);
}

// Address range: 0x100003ec0 - 0x100003ecc
char * function_100003ec0(char * s, char * delim) {
    // 0x100003ec0
    return _strtok(s, delim);
}

// --------------------- Meta-Information ---------------------

// Detected functions: 26

