//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
//

#include <stdint.h>

// ------------------- Function Prototypes --------------------

int64_t entry_point(void);
int64_t function_100003538(void);
int64_t function_10000376c(void);
int64_t function_100003840(void);
int64_t function_100003934(void);
int64_t function_100003b68(void);
void function_100003e24(int64_t * ptr);
int64_t * function_100003e30(int32_t size);
int32_t function_100003e3c(char * format, ...);
int32_t function_100003e48(char * format, ...);
int32_t function_100003e54(char * s);

// ------- Dynamically Linked Functions Without Header --------

void _free(int64_t * a1);
int64_t * _malloc(int32_t a1);
int32_t _printf(char * a1, ...);
int32_t _scanf(char * a1, ...);
int32_t _strlen(char * a1);

// ------------------------ Functions -------------------------

// Address range: 0x100003538 - 0x10000376c
int64_t function_100003538(void) {
    // 0x100003538
    int64_t v1; // 0x100003538
    int32_t v2 = _strlen((char *)v1); // 0x100003550
    if (v2 != _strlen((char *)v1)) {
        // 0x10000375c
        return 1;
    }
    int32_t v3 = -v2; // 0x1000035a0
    if (v3 < 0 == (v2 & v3) < 0) {
        // 0x10000375c
        return 0;
    }
    int32_t v4 = 0; // 0x1000035a8
    int64_t v5 = v4; // 0x1000035b4
    char v6 = *(char *)(v1 + v5); // 0x1000035b8
    int32_t v7 = v6;
    int32_t v8; // 0x1000035d8
    char v9; // 0x1000035f0
    int32_t v10; // 0x1000035f0
    int32_t v11; // 0x100003610
    if (v6 < 65 == (64 - v7 & v7) < 0) {
        // 0x1000035cc
        v8 = v7 - 90;
        if (v8 == 0 || v8 < 0 != (89 - v7 & v7) < 0) {
            // 0x1000035e8
            v9 = *(char *)(v1 + v5);
            v10 = v9;
            if (v9 < 97 == (96 - v10 & v10) < 0) {
                // 0x100003604
                v11 = v10 - 122;
                if (v10 - 65 != v7 && v11 != 0 != (v11 < 0 == (121 - v10 & v10) < 0)) {
                    // break -> 0x10000375c
                    break;
                }
            }
        }
    }
    char v12 = *(char *)(v1 + v5); // 0x100003660
    int32_t v13 = v12; // 0x100003660
    int32_t v14; // 0x100003680
    int32_t v15; // 0x1000036b8
    if (v12 < 65 == (64 - v13 & v13) < 0) {
        // 0x100003674
        v14 = v13 - 90;
        if (v14 == 0 || v14 < 0 != (89 - v13 & v13) < 0) {
            if (v6 < 97 == (96 - v7 & v7) < 0) {
                // 0x1000036ac
                v15 = v7 - 122;
                if (v15 != 0 != (v15 < 0 == (121 - v7 & v7) < 0) && v7 - 65 != v13) {
                    // break -> 0x10000375c
                    break;
                }
            }
        }
    }
    int64_t result = 1; // 0x100003720
    while (v6 == v12) {
        // 0x100003598
        v4++;
        int32_t v16 = v4 - v2; // 0x1000035a0
        result = 0;
        if (v16 < 0 == ((v16 ^ v4) & (v4 ^ v2)) < 0) {
            // break -> 0x10000375c
            break;
        }
        v5 = v4;
        v6 = *(char *)(v1 + v5);
        v7 = v6;
        if (v6 < 65 == (64 - v7 & v7) < 0) {
            // 0x1000035cc
            v8 = v7 - 90;
            if (v8 == 0 || v8 < 0 != (89 - v7 & v7) < 0) {
                // 0x1000035e8
                v9 = *(char *)(v1 + v5);
                v10 = v9;
                if (v9 < 97 == (96 - v10 & v10) < 0) {
                    // 0x100003604
                    v11 = v10 - 122;
                    result = 1;
                    if (v10 - 65 != v7 && v11 != 0 != (v11 < 0 == (121 - v10 & v10) < 0)) {
                        // break -> 0x10000375c
                        break;
                    }
                }
            }
        }
        // 0x100003658
        v12 = *(char *)(v1 + v5);
        v13 = v12;
        if (v12 < 65 == (64 - v13 & v13) < 0) {
            // 0x100003674
            v14 = v13 - 90;
            if (v14 == 0 || v14 < 0 != (89 - v13 & v13) < 0) {
                if (v6 < 97 == (96 - v7 & v7) < 0) {
                    // 0x1000036ac
                    v15 = v7 - 122;
                    result = 1;
                    if (v15 != 0 != (v15 < 0 == (121 - v7 & v7) < 0) && v7 - 65 != v13) {
                        // break -> 0x10000375c
                        break;
                    }
                }
            }
        }
        // 0x100003700
        result = 1;
    }
    // 0x10000375c
    return result;
}

// Address range: 0x10000376c - 0x100003840
int64_t function_10000376c(void) {
    // 0x10000376c
    int64_t v1; // 0x10000376c
    int32_t v2 = _strlen((char *)v1); // 0x100003780
    int64_t * v3 = _malloc(16); // 0x100003790
    int64_t result = (int64_t)v3; // 0x100003790
    *(char *)v3 = (char)v1;
    *(int64_t *)(result + 8) = 0;
    int32_t v4 = 1 - v2; // 0x1000037cc
    int32_t v5 = 1; // 0x1000037d4
    if (v4 < 0 == (v4 & v2) < 0) {
        // 0x100003830
        return result;
    }
    int64_t * v6 = _malloc(16); // 0x1000037e0
    int64_t v7 = (int64_t)v6; // 0x1000037e0
    *(char *)v6 = *(char *)(v1 + (int64_t)v5);
    *(int64_t *)(v7 + 8) = 0;
    *(int64_t *)(result + 8) = v7;
    v5++;
    while (v5 - v2 < 0 != ((v5 - v2 ^ v5) & (v5 ^ v2)) < 0) {
        int64_t v8 = v7;
        v6 = _malloc(16);
        v7 = (int64_t)v6;
        *(char *)v6 = *(char *)(v1 + (int64_t)v5);
        *(int64_t *)(v7 + 8) = 0;
        *(int64_t *)(v8 + 8) = v7;
        v5++;
    }
    // 0x100003830
    return result;
}

// Address range: 0x100003840 - 0x100003934
int64_t function_100003840(void) {
    int32_t v1 = 0; // 0x10000386c
    int32_t v2 = 1; // 0x10000386c
    int64_t v3; // 0x100003840
    if (v3 != 0) {
        int32_t v4 = 1;
        int64_t v5; // 0x100003840
        int64_t v6 = *(int64_t *)(v5 + 8); // 0x100003884
        int32_t v7 = v4 + 1;
        v5 = v6;
        v1 = v4;
        v2 = v7;
        while (v6 != 0) {
            // 0x100003874
            v4 = v7;
            v6 = *(int64_t *)(v5 + 8);
            v7 = v4 + 1;
            v5 = v6;
            v1 = v4;
            v2 = v7;
        }
    }
    int64_t result = (int64_t)_malloc(v2); // 0x1000038a4
    int32_t v8 = -v1; // 0x1000038c4
    int32_t v9 = 0; // 0x1000038cc
    if (v8 < 0 == (v1 & v8) < 0) {
        // 0x10000390c
        _free((int64_t *)v3);
        *(char *)result = 0;
        return result;
    }
    int64_t v10; // 0x100003840
    *(char *)((int64_t)v9 + result) = *(char *)v10;
    v9++;
    int32_t v11 = v9 - v1; // 0x1000038c4
    v10 += 8;
    while (v11 < 0 != ((v11 ^ v9) & (v9 ^ v1)) < 0) {
        // 0x1000038d4
        *(char *)((int64_t)v9 + result) = *(char *)v10;
        v9++;
        v11 = v9 - v1;
        v10 += 8;
    }
    // 0x10000390c
    _free((int64_t *)v3);
    *(char *)((int64_t)v9 + result) = 0;
    return result;
}

// Address range: 0x100003934 - 0x100003b68
int64_t function_100003934(void) {
    int64_t v1 = function_10000376c(); // 0x100003950
    char * v2 = (char *)v1; // 0x10000395c
    int64_t v3; // 0x100003934
    if ((int32_t)v3 == 1) {
        if (v1 == 0) {
            // 0x100003b54
            return function_100003840();
        }
        int32_t v4 = 0x1000000 * (int32_t)v3 >> 24; // 0x100003994
        int64_t * v5 = (int64_t *)((int64_t)v2 + 8);
        int64_t v6 = *v5;
        int64_t v7; // 0x100003934
        char * v8; // 0x100003934
        int64_t v9; // 0x100003934
        int64_t v10; // 0x100003934
        char * v11; // 0x100003934
        int64_t * v12; // 0x100003a00
        if (v4 == (int32_t)*v2) {
            // 0x1000039b8
            if (v6 == 0) {
                // break -> 0x100003b54
                break;
            }
            v10 = v6;
            v11 = (char *)v10;
            v8 = v11;
            v7 = v10;
            while (v4 == (int32_t)*v11) {
                // 0x1000039fc
                v12 = (int64_t *)(v10 + 8);
                *v5 = *v12;
                *v12 = 0;
                _free((int64_t *)v10);
                v9 = *v5;
                if (v9 == 0) {
                    return function_100003840();
                }
                v10 = v9;
                v11 = (char *)v10;
                v8 = v11;
                v7 = v10;
            }
        } else {
            // 0x10000398c
            v8 = (char *)v6;
            v7 = v6;
        }
        char * v13 = v8; // 0x100003984
        while (v7 != 0) {
            // 0x10000398c
            v5 = (int64_t *)((int64_t)v13 + 8);
            v6 = *v5;
            if (v4 == (int32_t)*v13) {
                // 0x1000039b8
                if (v6 == 0) {
                    // break -> 0x100003b54
                    break;
                }
                v10 = v6;
                v11 = (char *)v10;
                v8 = v11;
                v7 = v10;
                while (v4 == (int32_t)*v11) {
                    // 0x1000039fc
                    v12 = (int64_t *)(v10 + 8);
                    *v5 = *v12;
                    *v12 = 0;
                    _free((int64_t *)v10);
                    v9 = *v5;
                    if (v9 == 0) {
                        return function_100003840();
                    }
                    v10 = v9;
                    v11 = (char *)v10;
                    v8 = v11;
                    v7 = v10;
                }
            } else {
                // 0x10000398c
                v8 = (char *)v6;
                v7 = v6;
            }
            // 0x100003a30
            v13 = v8;
        }
      lab_0x100003b54:
        // 0x100003b54
        return function_100003840();
    }
    // 0x100003a48
    if (v1 == 0) {
        // 0x100003b54
        return function_100003840();
    }
    char * v14 = v2; // 0x100003a5c
    int64_t * v15 = (int64_t *)((int64_t)v14 + 8);
    int64_t v16 = *v15; // 0x100003a68
    while (v16 != 0) {
        char v17 = *v14; // 0x100003a8c
        char * v18 = (char *)v16;
        v14 = v18;
        int64_t v19 = v16; // 0x100003aa4
        if (v17 == *v18) {
            int64_t v20 = v16; // 0x100003adc
            int64_t v21 = 0; // 0x100003adc
            if (v16 != 0) {
                int64_t * v22 = (int64_t *)(v20 + 8); // 0x100003b10
                *v15 = *v22;
                *v22 = 0;
                _free((int64_t *)v20);
                int64_t v23 = *v15; // 0x100003b30
                v21 = 0;
                while (v23 != 0) {
                    // 0x100003b0c
                    v20 = v23;
                    v21 = v23;
                    if (v17 != *(char *)v23) {
                        // break -> 0x100003b40
                        break;
                    }
                    v22 = (int64_t *)(v20 + 8);
                    *v15 = *v22;
                    *v22 = 0;
                    _free((int64_t *)v20);
                    v23 = *v15;
                    v21 = 0;
                }
            }
            // 0x100003b40
            v19 = v21;
            v14 = (char *)v19;
        }
        // 0x100003b40
        if (v19 == 0) {
            // break -> 0x100003b54
            break;
        }
        v15 = (int64_t *)((int64_t)v14 + 8);
        v16 = *v15;
    }
    // 0x100003b54
    return function_100003840();
}

// Address range: 0x100003b68 - 0x100003c74
int64_t function_100003b68(void) {
    // 0x100003b68
    char v1; // 0x100003b68
    int64_t v2; // 0x100003b68
    if ((int32_t)v2 == 1) {
        char v3 = v2;
        _printf("Specified Operation : SQUEEZE\nTarget Character : %c", v3);
        v1 = v3;
    } else {
        // 0x100003bb8
        _printf("Specified Operation : COLLAPSE");
        v1 = v2;
    }
    // 0x100003bc8
    _strlen((char *)v2);
    char v4 = v2; // 0x100003c18
    char v5 = v2; // 0x100003c18
    char * v6 = (char *)v2; // 0x100003c18
    char v7 = v2; // 0x100003c18
    char v8 = v2; // 0x100003c18
    char v9 = v2; // 0x100003c18
    _printf("\nOriginal %c%c%c%s%c%c%c\nLength : %d", v1, v4, v5, v6, v7, v8, v9, 174);
    _strlen((char *)v2);
    return _printf("\nFinal    %c%c%c%s%c%c%c\nLength : %d\n", v1, v4, v5, v6, v7, v8, v9, 174);
}

// Address range: 0x100003c74 - 0x100003e24
int64_t entry_point(void) {
    // 0x100003c74
    int64_t v1; // 0x100003c74
    int32_t v2 = v1; // 0x100003c84
    if (v2 < 3 != (2 - v2 & v2) < 0) {
        // 0x100003cb4
        _printf("Usage : %s <SQUEEZE|COLLAPSE> <String to be processed> <Character to be squeezed, if operation is SQUEEZE>\n", (char *)v1);
        // 0x100003e14
        return 0;
    }
    int32_t v3 = v2 - 4; // 0x100003ca4
    if (v3 != 0 && v3 < 0 == (3 - v2 & v2) < 0) {
        // 0x100003cb4
        _printf("Usage : %s <SQUEEZE|COLLAPSE> <String to be processed> <Character to be squeezed, if operation is SQUEEZE>\n", (char *)v1);
        // 0x100003e14
        return 0;
    }
    // 0x100003cd8
    if (v2 == 4 | (int32_t)function_100003538() != 0) {
        if (v2 != 4) {
            // 0x100003d64
            function_100003538();
        }
    } else {
        // 0x100003d10
        _scanf("Please enter characted to be squeezed : %c", "SQUEEZE");
    }
    // 0x100003d98
    if (_strlen((char *)*(int64_t *)(v1 + 16)) < 2) {
        // 0x100003db4
        function_100003b68();
    } else {
        // 0x100003dd4
        function_100003934();
        function_100003b68();
    }
    // 0x100003e14
    return 0;
}

// Address range: 0x100003e24 - 0x100003e30
void function_100003e24(int64_t * ptr) {
    // 0x100003e24
    _free(ptr);
}

// Address range: 0x100003e30 - 0x100003e3c
int64_t * function_100003e30(int32_t size) {
    // 0x100003e30
    return _malloc(size);
}

// Address range: 0x100003e3c - 0x100003e48
int32_t function_100003e3c(char * format, ...) {
    // 0x100003e3c
    return _printf(format);
}

// Address range: 0x100003e48 - 0x100003e54
int32_t function_100003e48(char * format, ...) {
    // 0x100003e48
    return _scanf(format);
}

// Address range: 0x100003e54 - 0x100003e60
int32_t function_100003e54(char * s) {
    // 0x100003e54
    return _strlen(s);
}

// --------------------- Meta-Information ---------------------

// Detected functions: 11

