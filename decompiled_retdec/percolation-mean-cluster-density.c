//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
//

#include <stdint.h>

// ---------------- Integer Types Definitions -----------------

typedef int64_t int128_t;

// ----------------- Float Types Definitions ------------------

typedef double float64_t;

// ------------------- Function Prototypes --------------------

int64_t entry_point(void);
int64_t function_100003a10(void);
int64_t function_100003ae0(void);
int64_t function_100003bf4(void);
int64_t function_100003ce0(void);
int64_t function_100003d7c(void);
void function_100003f24(int64_t * ptr);
int32_t function_100003f30(char * format, ...);
int32_t function_100003f3c(int32_t c);
int32_t function_100003f48(void);
int64_t * function_100003f54(int64_t * ptr, int32_t size);

// --------------------- Global Variables ---------------------

float64_t g1 = 2147483647.0; // 0x100003f60
int64_t g2 = 0x100000cfeedfacf; // 0x100008038
int32_t * g3 = (int32_t *)0x200000000; // 0x100008040
int32_t g4 = 2; // 0x100008044

// ------- Dynamically Linked Functions Without Header --------

void _free(int64_t * a1);
int32_t _printf(char * a1, ...);
int32_t _putchar(int32_t a1);
int32_t _rand(void);
int64_t * _realloc(int64_t * a1, int32_t a2);

// ------------------------ Functions -------------------------

// Address range: 0x100003a10 - 0x100003ae0
int64_t function_100003a10(void) {
    // 0x100003a10
    float64_t v1; // 0x100003a10
    int32_t v2 = v1 * g1; // 0x100003a30
    int32_t v3 = *(int32_t *)&g3;
    int32_t v4 = v3 * v3; // 0x100003a48
    g4 = v4;
    int64_t result = (int64_t)_realloc((int64_t *)g2, 4 * v4); // 0x100003a74
    g2 = result;
    if (v4 == 0) {
        // 0x100003ad4
        return result;
    }
    int32_t v5 = v4; // 0x100003a98
    v5--;
    int32_t result2 = _rand(); // 0x100003aa0
    int32_t v6 = result2 - v2; // 0x100003aa8
    *(int32_t *)(4 * (int64_t)v5 + g2) = (int32_t)(v6 < 0 != ((v6 ^ result2) & (result2 ^ v2)) < 0);
    while (v5 != 0) {
        // 0x100003aa0
        v5--;
        result2 = _rand();
        v6 = result2 - v2;
        *(int32_t *)(4 * (int64_t)v5 + g2) = (int32_t)(v6 < 0 != ((v6 ^ result2) & (result2 ^ v2)) < 0);
    }
    // 0x100003ad4
    return result2;
}

// Address range: 0x100003ae0 - 0x100003bf4
int64_t function_100003ae0(void) {
    int32_t v1 = *(int32_t *)&g3; // 0x100003b10
    int32_t v2 = -v1; // 0x100003b14
    if (v2 < 0 == (v1 & v2) < 0) {
        // 0x100003be8
        int64_t result; // 0x100003ae0
        return result;
    }
    int32_t v3 = 0; // 0x100003bdc
    int32_t v4 = -v1; // 0x100003b3c
    int32_t v5; // 0x100003ae0
    int32_t v6; // 0x100003bb4
    int32_t v7; // 0x100003b38
    int32_t v8; // 0x100003b3c
    int64_t v9; // 0x100003ae0
    if (v4 < 0 != (v1 & v4) < 0) {
        _printf(" %c", (char)v9);
        v6 = 1;
        v7 = *(int32_t *)&g3;
        v8 = v6 - v7;
        v5 = v6;
        while (v8 < 0 != ((v8 ^ v6) & (v7 ^ v6)) < 0) {
            // 0x100003b4c
            _printf(" %c", (char)v9);
            v6 = v5 + 1;
            v7 = *(int32_t *)&g3;
            v8 = v6 - v7;
            v5 = v6;
        }
    }
    int32_t result2 = _putchar(10); // 0x100003bd0
    v3++;
    int32_t v10 = *(int32_t *)&g3; // 0x100003b10
    while (v3 - v10 < 0 != ((v3 - v10 ^ v3) & (v10 ^ v3)) < 0) {
        // 0x100003b2c
        v4 = -v10;
        if (v4 < 0 != (v10 & v4) < 0) {
            _printf(" %c", (char)v9);
            v6 = 1;
            v7 = *(int32_t *)&g3;
            v8 = v6 - v7;
            v5 = v6;
            while (v8 < 0 != ((v8 ^ v6) & (v7 ^ v6)) < 0) {
                // 0x100003b4c
                _printf(" %c", (char)v9);
                v6 = v5 + 1;
                v7 = *(int32_t *)&g3;
                v8 = v6 - v7;
                v5 = v6;
            }
        }
        // 0x100003bcc
        result2 = _putchar(10);
        v3++;
        v10 = *(int32_t *)&g3;
    }
    // 0x100003be8
    return result2;
}

// Address range: 0x100003bf4 - 0x100003ce0
int64_t function_100003bf4(void) {
    // 0x100003bf4
    int64_t v1; // 0x100003bf4
    int32_t v2 = v1; // 0x100003c00
    int64_t result; // 0x100003bf4
    if (v2 < 0) {
        // 0x100003cd4
        return result;
    }
    int32_t v3 = v2 - g4; // 0x100003c2c
    if (v3 < 0 == ((v3 ^ v2) & (g4 ^ v2)) < 0) {
        // 0x100003cd4
        return result;
    }
    int32_t * v4 = (int32_t *)(g2 + (0x100000000 * v1 >> 30)); // 0x100003c4c
    if (*v4 == -1) {
        // 0x100003c60
        *v4 = (int32_t)v1;
        function_100003bf4();
        function_100003bf4();
        function_100003bf4();
        result = function_100003bf4();
    }
    // 0x100003cd4
    return result;
}

// Address range: 0x100003ce0 - 0x100003d7c
int64_t function_100003ce0(void) {
    int32_t v1 = -g4; // 0x100003d08
    if (v1 < 0 == (g4 & v1) < 0) {
        // 0x100003d6c
        return 0;
    }
    int32_t v2 = 0; // 0x100003d10
    int32_t v3 = 0;
    int32_t v4 = v3; // 0x100003d38
    if (*(int32_t *)(4 * (int64_t)v2 + g2) == -1) {
        // 0x100003d44
        function_100003bf4();
        v4 = v3 + 1;
    }
    int32_t result = v4;
    int32_t v5 = g4; // 0x100003d04
    v2++;
    int32_t v6 = v2 - v5; // 0x100003d08
    while (v6 < 0 != ((v6 ^ v2) & (v5 ^ v2)) < 0) {
        // 0x100003d18
        v3 = result;
        int32_t v7 = v5; // 0x100003d38
        v4 = v3;
        if (*(int32_t *)(4 * (int64_t)v2 + g2) == -1) {
            // 0x100003d44
            function_100003bf4();
            v7 = g4;
            v4 = v3 + 1;
        }
        // 0x100003d5c
        result = v4;
        v5 = v7;
        v2++;
        v6 = v2 - v5;
    }
    // 0x100003d6c
    return result;
}

// Address range: 0x100003d7c - 0x100003e28
int64_t function_100003d7c(void) {
    // 0x100003d7c
    int64_t v1; // 0x100003d7c
    int32_t v2 = v1; // 0x100003d88
    int32_t v3 = -v2; // 0x100003da8
    int32_t v4 = 0; // 0x100003db0
    int64_t result; // 0x100003d7c
    if (v3 < 0 == (v3 & v2) < 0) {
        // 0x100003e04
        __asm_sshll(0.0f, 0);
        return result;
    }
    function_100003a10();
    int64_t v5 = function_100003ce0(); // 0x100003dc0
    __asm_sshll(0.0f, 0);
    v4++;
    int32_t v6 = v4 - v2; // 0x100003da8
    result = v5;
    while (v6 < 0 != ((v6 ^ v4) & (v4 ^ v2)) < 0) {
        // 0x100003db8
        function_100003a10();
        v5 = function_100003ce0();
        __asm_sshll(0.0f, 0);
        v4++;
        v6 = v4 - v2;
        result = v5;
    }
    // 0x100003e04
    __asm_sshll(0.0f, 0);
    return result;
}

// Address range: 0x100003e28 - 0x100003f24
int64_t entry_point(void) {
    // 0x100003e28
    *(int32_t *)&g3 = 15;
    function_100003a10();
    function_100003ce0();
    int64_t v1; // 0x100003e28
    _printf("width=15, p=0.5, %d clusters:\n", v1);
    function_100003ae0();
    _printf("\np=0.5, iter=5:\n");
    *(int32_t *)&g3 = 4;
    function_100003d7c();
    int128_t v2; // 0x100003e28
    _printf("%5d %9.6f\n", v1, (float64_t)(int64_t)v2);
    int32_t v3 = 4 * *(int32_t *)&g3; // 0x100003ef8
    *(int32_t *)&g3 = v3;
    while (v3 == 0x4000 || v3 < 0x4000 != (0x3fff - v3 & v3) < 0) {
        // 0x100003eac
        function_100003d7c();
        _printf("%5d %9.6f\n", v1, (float64_t)(int64_t)v2);
        v3 = 4 * *(int32_t *)&g3;
        *(int32_t *)&g3 = v3;
    }
    // 0x100003f04
    _free((int64_t *)g2);
    return 0;
}

// Address range: 0x100003f24 - 0x100003f30
void function_100003f24(int64_t * ptr) {
    // 0x100003f24
    _free(ptr);
}

// Address range: 0x100003f30 - 0x100003f3c
int32_t function_100003f30(char * format, ...) {
    // 0x100003f30
    return _printf(format);
}

// Address range: 0x100003f3c - 0x100003f48
int32_t function_100003f3c(int32_t c) {
    // 0x100003f3c
    return _putchar(c);
}

// Address range: 0x100003f48 - 0x100003f54
int32_t function_100003f48(void) {
    // 0x100003f48
    return _rand();
}

// Address range: 0x100003f54 - 0x100003f60
int64_t * function_100003f54(int64_t * ptr, int32_t size) {
    // 0x100003f54
    return _realloc(ptr, size);
}

// --------------------- Meta-Information ---------------------

// Detected functions: 11

