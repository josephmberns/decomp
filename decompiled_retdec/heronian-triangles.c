//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
//

#include <math.h>
#include <stdbool.h>
#include <stdint.h>
#include <stdlib.h>

// ---------------- Integer Types Definitions -----------------

typedef int64_t int128_t;

// ----------------- Float Types Definitions ------------------

typedef double float64_t;
typedef long double float128_t;

// ------------------- Function Prototypes --------------------

int64_t entry_point(void);
int64_t function_100003680(void);
int64_t function_10000390c(void);
int64_t function_100003974(void);
int64_t function_100003a64(void);
int64_t function_100003c18(void);
int32_t function_100003e90(char * nptr);
void function_100003e9c(int64_t * ptr);
int64_t * function_100003ea8(int32_t size);
int32_t function_100003eb4(char * format, ...);

// ------- Dynamically Linked Functions Without Header --------

int32_t _atoi(char * a1);
void _free(int64_t * a1);
int64_t * _malloc(int32_t a1);
int32_t _printf(char * a1, ...);

// ------------------------ Functions -------------------------

// Address range: 0x100003680 - 0x10000390c
int64_t function_100003680(void) {
    int64_t * v1 = _malloc(32);
    int64_t v2; // 0x100003680
    if (v2 == 0) {
        // 0x1000036b4
        abort();
        // UNREACHABLE
    }
    int64_t result = (int64_t)v1;
    int64_t * v3 = (int64_t *)(result + 24);
    int64_t v4 = *v3; // 0x100003710
    int64_t * v5; // 0x100003680
    int64_t v6; // 0x100003680
    int64_t v7; // 0x100003680
    if (v4 == 0) {
        // 0x1000036f0
        v6 = v2 + 16;
        v5 = v3;
      lab_0x1000038cc:
        // 0x1000038cc
        *(float128_t *)v1 = *(float128_t *)&v7;
        *(int64_t *)(result + 16) = *(int64_t *)v6;
        *v3 = 0;
        *v5 = result;
        // 0x100003900
        return result;
    }
    int32_t v8 = v2;
    int64_t v9 = v2 + 16;
    float64_t v10 = *(float64_t *)v9; // 0x100003730
    int32_t * v11 = (int32_t *)(v2 + 12);
    int64_t v12 = v4; // 0x100003710
    int64_t * v13 = v3;
    int64_t v14 = result; // 0x1000037e8
    int32_t * v15 = (int32_t *)v1; // 0x100003680
    int64_t * v16; // 0x100003680
    while (true) {
      lab_0x100003724:;
        int64_t v17 = v14;
        v16 = v13;
        v14 = v12;
        float64_t v18 = *(float64_t *)(v17 + 16); // 0x10000372c
        if (v18 > v10) {
            goto lab_0x1000037fc;
        } else {
            if (v18 == v10) {
                int32_t v19 = *(int32_t *)(v17 + 12); // 0x10000376c
                int32_t v20 = *v11; // 0x100003770
                int32_t v21 = v19 - v20; // 0x100003774
                if (v21 < 0 == ((v21 ^ v19) & (v20 ^ v19)) < 0) {
                    if (v19 == v20) {
                        int32_t v22 = *v15; // 0x1000037cc
                        int32_t v23 = v22 - v8; // 0x1000037d4
                        if (v23 == 0 || v23 < 0 != ((v23 ^ v22) & (v22 ^ v8)) < 0) {
                            goto lab_0x1000037fc;
                        } else {
                            goto lab_0x1000038a8;
                        }
                    } else {
                        goto lab_0x1000038a8;
                    }
                } else {
                    goto lab_0x1000037fc;
                }
            } else {
                goto lab_0x1000038a8;
            }
        }
    }
  lab_0x100003868_3:
    // 0x100003868
    *(float128_t *)v1 = *(float128_t *)&v7;
    *(int64_t *)(result + 16) = *(int64_t *)v9;
    *v3 = *v16;
    *v16 = result;
    // 0x100003900
    return result;
  lab_0x1000037fc:
    // 0x1000037fc
    if (v10 > *(float64_t *)(v14 + 16)) {
        // break -> 0x100003868
        goto lab_0x100003868_3;
    }
    int32_t v24 = *v11; // 0x100003824
    int32_t v25 = *(int32_t *)(v14 + 12); // 0x100003830
    int32_t v26 = v24 - v25; // 0x100003834
    if (v26 < 0 != ((v26 ^ v24) & (v25 ^ v24)) < 0) {
        // break -> 0x100003868
        goto lab_0x100003868_3;
    }
    int32_t v27 = *(int32_t *)v14; // 0x100003854
    int32_t v28 = v8 - v27; // 0x100003858
    if (v28 < 0 != ((v28 ^ v8) & (v27 ^ v8)) < 0) {
        // break -> 0x100003868
        goto lab_0x100003868_3;
    }
    goto lab_0x1000038a8;
  lab_0x1000038a8:
    // 0x1000038a8
    v13 = (int64_t *)(v14 + 24);
    v12 = *v13;
    v15 = (int32_t *)v14;
    v6 = v9;
    v5 = v13;
    if (v12 == 0) {
        goto lab_0x1000038cc;
    }
    goto lab_0x100003724;
}

// Address range: 0x10000390c - 0x100003974
int64_t function_10000390c(void) {
    // 0x10000390c
    int64_t v1; // 0x10000390c
    int64_t v2; // 0x10000390c
    if ((int32_t)v2 != 0) {
        // 0x100003934
        v1 = function_10000390c();
    }
    // 0x100003964
    return v1 & 0xffffffff;
}

// Address range: 0x100003974 - 0x100003a64
int64_t function_100003974(void) {
    // 0x100003974
    int64_t v1; // 0x100003974
    int64_t result = v1;
    int32_t v2 = *(int32_t *)(result + 8); // 0x100003994
    *(int32_t *)(result + 12) = *(int32_t *)(result + 4) + (int32_t)result + v2;
    __asm_sshll(0.0f, 0);
    __asm_sshll(0.0f, 0);
    __asm_sshll(0.0f, 0);
    float64_t v3; // 0x100003974
    float64_t v4 = v3 - 0.5 * v3; // 0x1000039e8
    __asm_sshll(0.0f, 0);
    __asm_sshll(0.0f, 0);
    float64_t v5 = v3 + 0.5 * v4;
    __asm_sshll(0.0f, 0);
    __asm_sshll(0.0f, 0);
    *(float64_t *)(result + 16) = sqrt(-((v4 * 0.5 * v3 * v5 * (v3 + 0.5 * v5))));
    return result;
}

// Address range: 0x100003a64 - 0x100003c18
int64_t function_100003a64(void) {
    // 0x100003a64
    int64_t v1; // 0x100003a64
    int32_t v2 = v1; // 0x100003a70
    *(int32_t *)v1 = 0;
    if (v2 != 0 && -v2 < 0 == (-v2 & v2) < 0) {
        // 0x100003c08
        return 0;
    }
    while (true) {
        // continue -> 0x100003bf8
    }
}

// Address range: 0x100003c18 - 0x100003d60
int64_t function_100003c18(void) {
    int64_t result = _printf("\nDimensions\tPerimeter\tArea"); // 0x100003c48
    int64_t v1; // 0x100003c18
    if (v1 == 0) {
        // 0x100003d54
        return result;
    }
    int32_t v2 = 1; // 0x100003c18
    int64_t v3 = result;
    int64_t v4; // 0x100003c18
    float64_t v5; // 0x100003c18
    float64_t v6; // 0x100003c18
    int64_t v7; // 0x100003c18
    int64_t v8; // 0x100003c18
    int32_t v9; // 0x100003c18
    int64_t result2; // 0x100003c18
    int64_t v10; // 0x100003c18
    while (true) {
      lab_0x100003c88:;
        int64_t v11 = v3;
        v9 = v2;
        result2 = v11;
        if (v9 == (int32_t)v1 + 1) {
            // break -> 0x100003d54
            break;
        }
        // 0x100003c94
        v8 = v7;
        if ((int32_t)v1 == -1) {
            // 0x100003c94
            v4 = v8 + 16;
            goto lab_0x100003cd0;
        } else {
            // 0x100003ca8
            __asm_sshll(0.0f, 0);
            int64_t v12 = v8 + 16;
            v4 = v12;
            v6 = v5;
            v10 = v11;
            v2 = v9;
            if (v5 == *(float64_t *)v12) {
                goto lab_0x100003cd0;
            } else {
                goto lab_0x100003d44;
            }
        }
    }
  lab_0x100003d54:
    // 0x100003d54
    return result2;
  lab_0x100003cd0:
    // 0x100003cd0
    v6 = (float64_t)*(int64_t *)v4;
    v10 = _printf("\n%d x %d x %d\t%d\t\t%d", v1, v1, v1, v1, v1);
    v2 = v9 + 1;
    goto lab_0x100003d44;
  lab_0x100003d44:
    // 0x100003d44
    v3 = v10;
    int64_t v13 = *(int64_t *)(v8 + 24); // 0x100003d48
    v5 = v6;
    v7 = v13;
    result2 = v3;
    if (v13 == 0) {
        // break -> 0x100003d54
        goto lab_0x100003d54;
    }
    goto lab_0x100003c88;
}

// Address range: 0x100003d60 - 0x100003e90
int64_t entry_point(void) {
    // 0x100003d60
    int64_t v1; // 0x100003d60
    if ((int32_t)v1 != 4) {
        // 0x100003d90
        _printf("Usage : %s <Max side, max triangles to print and area, -1 for area to ignore>", (char *)v1);
        // 0x100003e80
        return 0;
    }
    // 0x100003db0
    _atoi((char *)*(int64_t *)(v1 + 8));
    int64_t v2 = function_100003a64(); // 0x100003dc0
    int32_t v3; // bp-36, 0x100003d60
    _printf("Triangles found : %d", (int64_t)&v3);
    int64_t * v4 = (int64_t *)(v1 + 24); // 0x100003de8
    if (_atoi((char *)*v4) == -1) {
        // 0x100003e00
        _printf("\nPrinting first %s triangles.", &v3);
    } else {
        // 0x100003e20
        _printf("\nPrinting triangles with area %s square units.", &v3);
    }
    // 0x100003e40
    _atoi((char *)*(int64_t *)(v1 + 16));
    _atoi((char *)*v4);
    function_100003c18();
    _free((int64_t *)v2);
    // 0x100003e80
    return 0;
}

// Address range: 0x100003e90 - 0x100003e9c
int32_t function_100003e90(char * nptr) {
    // 0x100003e90
    return _atoi(nptr);
}

// Address range: 0x100003e9c - 0x100003ea8
void function_100003e9c(int64_t * ptr) {
    // 0x100003e9c
    _free(ptr);
}

// Address range: 0x100003ea8 - 0x100003eb4
int64_t * function_100003ea8(int32_t size) {
    // 0x100003ea8
    return _malloc(size);
}

// Address range: 0x100003eb4 - 0x100003ec0
int32_t function_100003eb4(char * format, ...) {
    // 0x100003eb4
    return _printf(format);
}

// --------------------- Meta-Information ---------------------

// Detected functions: 10

