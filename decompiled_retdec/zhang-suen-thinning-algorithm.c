//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
//

#include <stdbool.h>
#include <stdint.h>

// ------------------------ Structures ------------------------

struct _IO_FILE {
    int32_t e0;
};

// ------------------- Function Prototypes --------------------

int64_t entry_point(void);
int64_t function_100002c90(void);
int64_t function_100002d90(void);
int64_t function_100003258(void);
int64_t function_100003478(void);
int64_t function_100003698(void);
int64_t function_100003e3c(int64_t a1);
int32_t function_100003e48(struct _IO_FILE * stream);
struct _IO_FILE * function_100003e54(char * filename, char * modes);
int32_t function_100003e60(struct _IO_FILE * stream, char * format, ...);
void function_100003e6c(int64_t * ptr);
int32_t function_100003e78(struct _IO_FILE * stream, char * format, ...);
int64_t * function_100003e84(int32_t size);
int32_t function_100003e90(char * format, ...);
int32_t function_100003e9c(char * format, ...);

// --------------------- Global Variables ---------------------

char * g1 = "\xcf\xfa\xed\xfe\f"; // 0x100008000
int64_t g2 = 0x200000000; // 0x100008008
char * g3 = "\x12"; // 0x100008010

// ------- Dynamically Linked Functions Without Header --------

int64_t ___stack_chk_fail(int64_t a1);
int32_t _fclose(struct _IO_FILE * a1);
struct _IO_FILE * _fopen(char * a1, char * a2);
int32_t _fprintf(struct _IO_FILE * a1, char * a2, ...);
void _free(int64_t * a1);
int32_t _fscanf(struct _IO_FILE * a1, char * a2, ...);
int64_t * _malloc(int32_t a1);
int32_t _printf(char * a1, ...);
int32_t _scanf(char * a1, ...);

// ------------------------ Functions -------------------------

// Address range: 0x100002c90 - 0x100002d90
int64_t function_100002c90(void) {
    char v1 = *(char *)&g3;
    int32_t v2 = -1;
    int64_t v3; // 0x100002c90
    int64_t * v4 = (int64_t *)(g2 + (int64_t)(8 * (v2 + (int32_t)v3)));
    int32_t v5 = 0;
    int32_t v6 = -1;
    int32_t v7 = v5; // 0x100002cec
    char v8; // 0x100002d30
    if ((v6 || v2) != 0) {
        // 0x100002d08
        v8 = *(char *)(*v4 + (int64_t)(v6 + (int32_t)v3));
        v7 = v5 + (int32_t)(v8 == v1);
    }
    int32_t result = v7;
    int32_t v9 = v6 + 1; // 0x100002d64
    while (v6 == 0 || v6 < 0 != (v9 & -v6) < 0) {
        // 0x100002ce0
        v5 = result;
        v6 = v9;
        v7 = v5;
        if ((v6 || v2) != 0) {
            // 0x100002d08
            v8 = *(char *)(*v4 + (int64_t)(v6 + (int32_t)v3));
            v7 = v5 + (int32_t)(v8 == v1);
        }
        // 0x100002d60
        result = v7;
        v9 = v6 + 1;
    }
    int32_t v10 = v2 + 1; // 0x100002d78
    while (v2 == 0 || v2 < 0 != (v10 & -v2) < 0) {
        // 0x100002ccc
        v2 = v10;
        v4 = (int64_t *)(g2 + (int64_t)(8 * (v2 + (int32_t)v3)));
        v5 = result;
        v6 = -1;
        v7 = v5;
        if ((v6 || v2) != 0) {
            // 0x100002d08
            v8 = *(char *)(*v4 + (int64_t)(v6 + (int32_t)v3));
            v7 = v5 + (int32_t)(v8 == v1);
        }
        // 0x100002d60
        result = v7;
        v9 = v6 + 1;
        while (v6 == 0 || v6 < 0 != (v9 & -v6) < 0) {
            // 0x100002ce0
            v5 = result;
            v6 = v9;
            v7 = v5;
            if ((v6 || v2) != 0) {
                // 0x100002d08
                v8 = *(char *)(*v4 + (int64_t)(v6 + (int32_t)v3));
                v7 = v5 + (int32_t)(v8 == v1);
            }
            // 0x100002d60
            result = v7;
            v9 = v6 + 1;
        }
        // 0x100002d74
        v10 = v2 + 1;
    }
    // 0x100002d84
    return result;
}

// Address range: 0x100002d90 - 0x100003258
int64_t function_100002d90(void) {
    // 0x100002d90
    int64_t v1; // 0x100002d90
    int64_t v2 = 8 * v1; // 0x100002dac
    int64_t v3 = *(int64_t *)(g2 + (v2 + 0xfffffff8 & 0xfffffff8)); // 0x100002db0
    int64_t v4 = 0x100000000 * v1 >> 32; // 0x100002db4
    char v5 = *(char *)(v3 + v4); // 0x100002db8
    char v6 = *(char *)&g1; // 0x100002dc4
    int64_t v7 = v1 + 1 & 0xffffffff;
    char v8 = *(char *)(v3 + v7);
    char v9 = *(char *)&g3;
    int64_t v10 = *(int64_t *)(g2 + (0x100000000 * v1 >> 29));
    char * v11 = (char *)(v10 + v7);
    int64_t v12 = 0; // 0x100002e6c
    if (v8 == v6) {
        // 0x100002e74
        v12 = *v11 == *(char *)&g3;
    }
    int64_t v13 = *(int64_t *)(g2 + (v2 + 8 & 0xfffffff8));
    char * v14 = (char *)(v13 + v7);
    int64_t v15 = 0; // 0x100002f00
    if (*v11 == v6) {
        // 0x100002f08
        v15 = *v14 == *(char *)&g3;
    }
    char v16 = *v14; // 0x100002f7c
    char v17 = *(char *)(v13 + v4);
    char v18 = *(char *)&g3;
    int64_t v19 = v1 + 0xffffffff & 0xffffffff;
    char v20 = *(char *)(v13 + v19);
    char v21 = *(char *)&g3;
    char v22 = *(char *)(v10 + v19);
    char v23 = *(char *)&g3;
    char v24 = *(char *)(v3 + v19);
    char v25 = *(char *)&g3;
    return v12 + (int64_t)(v5 == v6 == v8 == v9) + v15 + (int64_t)(v16 == v6 == v17 == v18) + (int64_t)(v17 == v6 == v20 == v21) + (int64_t)(v20 == v6 == v22 == v23) + (int64_t)(v22 == v6 == v24 == v25) + (int64_t)(v24 == v6 == v5 == v25) & 0xffffffff;
}

// Address range: 0x100003258 - 0x100003478
int64_t function_100003258(void) {
    int32_t v1 = function_100002c90(); // 0x100003278
    if (v1 < 2 != (1 - v1 & v1) < 0) {
        // 0x100003464
        return 0;
    }
    int32_t v2 = v1 - 6; // 0x10000329c
    if (v2 != 0 && v2 < 0 == (5 - v1 & v1) < 0 || (int32_t)function_100002d90() != 1) {
        // 0x100003464
        return 0;
    }
    // 0x1000032d8
    int64_t v3; // 0x100003258
    int32_t v4 = 8 * (int32_t)v3; // 0x1000032e8
    int64_t v5 = 0x100000000 * v3 >> 32; // 0x1000032f0
    char v6 = *(char *)(*(int64_t *)(g2 + (int64_t)(v4 - 8)) + v5); // 0x1000032f4
    char v7 = *(char *)&g1; // 0x100003300
    int64_t * v8 = (int64_t *)(g2 + (0x100000000 * v3 >> 29));
    char * v9; // 0x100003258
    int64_t v10; // 0x100003258
    if (v6 == v7) {
        int64_t v11 = *v8;
        v9 = (char *)(v11 + (v3 + 1 & 0xffffffff));
        v10 = v11;
    } else {
        int64_t v12 = *v8; // 0x100003324
        char * v13 = (char *)(v12 + (v3 + 1 & 0xffffffff));
        v9 = v13;
        v10 = v12;
        if (*v13 != v7) {
            // 0x100003350
            v9 = v13;
            v10 = v12;
            if (*(char *)(*(int64_t *)(g2 + (int64_t)(v4 + 8)) + v5) != v7) {
                // 0x100003464
                return 0;
            }
        }
    }
    // 0x100003394
    if (*v9 == v7) {
        // 0x100003464
        return 1;
    }
    int64_t result = 1; // 0x100003414
    if (*(char *)(*(int64_t *)(g2 + (8 * v3 + 8 & 0xfffffff8)) + v5) != v7) {
        char v14 = *(char *)(v10 + (v3 + 0xffffffff & 0xffffffff)); // 0x100003438
        result = v14 == v7;
    }
    // 0x100003464
    return result;
}

// Address range: 0x100003478 - 0x100003698
int64_t function_100003478(void) {
    int32_t v1 = function_100002c90(); // 0x100003498
    if (v1 < 2 != (1 - v1 & v1) < 0) {
        // 0x100003684
        return 0;
    }
    int32_t v2 = v1 - 6; // 0x1000034bc
    if (v2 != 0 && v2 < 0 == (5 - v1 & v1) < 0 || (int32_t)function_100002d90() != 1) {
        // 0x100003684
        return 0;
    }
    // 0x1000034f8
    int64_t v3; // 0x100003478
    int64_t v4 = 8 * v3; // 0x100003508
    int64_t v5 = 0x100000000 * v3 >> 32; // 0x100003510
    char v6 = *(char *)&g1; // 0x100003520
    if (*(char *)(*(int64_t *)(g2 + (v4 + 0xfffffff8 & 0xfffffff8)) + v5) == v6) {
        // 0x100003684
        return 1;
    }
    int64_t v7 = *(int64_t *)(g2 + (0x100000000 * v3 >> 29)); // 0x100003544
    char v8 = *(char *)(v7 + (v3 + 1 & 0xffffffff)); // 0x100003550
    char v9; // 0x100003614
    if (v8 == v6) {
        // 0x1000035f8
        v9 = *(char *)(*(int64_t *)(g2 + (v4 + 8 & 0xfffffff8)) + v5);
        return v9 == v6 | v8 == v6;
    }
    // 0x100003570
    if (*(char *)(v7 + (v3 + 0xffffffff & 0xffffffff)) != v6) {
        // 0x100003684
        return 0;
    }
    // 0x1000035f8
    v9 = *(char *)(*(int64_t *)(g2 + (v4 + 8 & 0xfffffff8)) + v5);
    return v9 == v6 | v8 == v6;
}

// Address range: 0x100003698 - 0x100003d84
int64_t function_100003698(void) {
    // 0x100003698
    int64_t v1; // 0x100003698
    struct _IO_FILE * v2 = _fopen((char *)v1, "r"); // 0x1000036c4
    int64_t * v3 = (int64_t *)v1; // 0x1000036f0
    int64_t * v4 = (int64_t *)v1; // 0x1000036f0
    _fscanf(v2, "%d%d", v3, v4);
    _fscanf(v2, "%d%d", v3, v4);
    char v5 = *(char *)&g1; // 0x100003724
    int32_t v6 = v5; // 0x100003724
    int32_t v7 = v6 - 9; // 0x100003728
    if (v7 == 0 || v7 < 0 != (8 - v6 & v6) < 0) {
        // 0x100003738
        *(char *)&g1 = v5 + 48;
    }
    char v8 = *(char *)&g3; // 0x10000375c
    int32_t v9 = v8; // 0x10000375c
    int32_t v10 = v9 - 9; // 0x100003760
    if (v10 == 0 || v10 < 0 != (8 - v9 & v9) < 0) {
        // 0x100003770
        *(char *)&g3 = v8 + 48;
    }
    // 0x10000378c
    _printf("\nPrinting original image :\n");
    int32_t v11; // 0x100003698
    g2 = (int64_t)_malloc(8 * v11);
    int32_t v12 = -v11;
    if (v12 < 0 != (v11 & v12) < 0) {
        int32_t v13 = 0; // 0x100003850
        int64_t * v14 = _malloc(v11 + 1); // 0x1000037e4
        *(int64_t *)(g2 + 8 * (int64_t)v13) = (int64_t)v14;
        _fscanf(v2, "%s\n", (char **)v1);
        _printf("\n%s", "%s\n");
        v13++;
        while (v13 - v11 < 0 != ((v13 - v11 ^ v13) & (v13 ^ v11)) < 0) {
            // 0x1000037d0
            v14 = _malloc(v11 + 1);
            *(int64_t *)(g2 + 8 * (int64_t)v13) = (int64_t)v14;
            _fscanf(v2, "%s\n", (char **)v1);
            _printf("\n%s", "%s\n");
            v13++;
        }
    }
    // 0x10000385c
    _fclose(v2);
    int32_t v15 = v11 - 2; // 0x100003868
    int32_t v16 = v11 - 2; // 0x100003874
    int32_t v17 = v15 * 8 * v16; // 0x1000038ac
    int32_t v18 = 3 - v11;
    bool v19 = v18 == 0 | v18 < 0 != (v18 & v15) < 0;
    int32_t v20 = 3 - v11;
    bool v21 = v20 == 0 | v20 < 0 != (v20 & v16) < 0;
    int64_t * v22 = _malloc(v17); // 0x1000038b0
    int64_t v23 = (int64_t)v22; // 0x1000038b0
    int32_t v24 = 0; // 0x1000038d8
    int32_t v25; // 0x100003698
    int32_t v26; // 0x100003698
    int32_t v27; // 0x100003698
    int32_t v28; // 0x100003698
    int32_t v29; // 0x100003698
    int32_t v30; // 0x100003698
    int32_t v31; // 0x100003698
    int32_t v32; // 0x1000039ac
    int32_t v33; // 0x1000038d0
    int64_t v34; // 0x100003914
    char v35; // 0x100003928
    int32_t v36; // 0x100003998
    int32_t v37; // 0x1000038f4
    int64_t v38; // 0x100003968
    if (v19) {
        v25 = 0;
        v31 = 1;
        v27 = v25;
        if (v21) {
            // 0x100003904
            v26 = v25;
            v30 = 1;
            v34 = *(int64_t *)(g2 + 8 * (int64_t)v31);
            v35 = *(char *)&g3;
            v28 = v26;
            if (*(char *)(v34 + (int64_t)v30) == v35) {
                // 0x10000393c
                v28 = v26;
                if ((int32_t)function_100003258() == 1) {
                    // 0x100003958
                    v38 = 8 * (int64_t)v26 + v23;
                    *(int32_t *)v38 = v31;
                    *(int32_t *)(v38 + 4) = v30;
                    v28 = v26 + 1;
                }
            }
            // 0x100003994
            v29 = v28;
            v36 = v30 + 1;
            v37 = v36 - v16;
            v27 = v29;
            while (v37 == 0 || v37 < 0 != ((v37 ^ v36) & (v36 ^ v16)) < 0) {
                // 0x100003904
                v26 = v29;
                v30 = v36;
                v34 = *(int64_t *)(g2 + 8 * (int64_t)v31);
                v35 = *(char *)&g3;
                v28 = v26;
                if (*(char *)(v34 + (int64_t)v30) == v35) {
                    // 0x10000393c
                    v28 = v26;
                    if ((int32_t)function_100003258() == 1) {
                        // 0x100003958
                        v38 = 8 * (int64_t)v26 + v23;
                        *(int32_t *)v38 = v31;
                        *(int32_t *)(v38 + 4) = v30;
                        v28 = v26 + 1;
                    }
                }
                // 0x100003994
                v29 = v28;
                v36 = v30 + 1;
                v37 = v36 - v16;
                v27 = v29;
            }
        }
        // 0x1000039a8
        v32 = v31 + 1;
        v33 = v32 - v15;
        v24 = v27;
        while (v33 == 0 || v33 < 0 != ((v33 ^ v32) & (v32 ^ v15)) < 0) {
            // 0x1000038ec
            v25 = v27;
            v31 = v32;
            v27 = v25;
            if (v21) {
                // 0x100003904
                v26 = v25;
                v30 = 1;
                v34 = *(int64_t *)(g2 + 8 * (int64_t)v31);
                v35 = *(char *)&g3;
                v28 = v26;
                if (*(char *)(v34 + (int64_t)v30) == v35) {
                    // 0x10000393c
                    v28 = v26;
                    if ((int32_t)function_100003258() == 1) {
                        // 0x100003958
                        v38 = 8 * (int64_t)v26 + v23;
                        *(int32_t *)v38 = v31;
                        *(int32_t *)(v38 + 4) = v30;
                        v28 = v26 + 1;
                    }
                }
                // 0x100003994
                v29 = v28;
                v36 = v30 + 1;
                v37 = v36 - v16;
                v27 = v29;
                while (v37 == 0 || v37 < 0 != ((v37 ^ v36) & (v36 ^ v16)) < 0) {
                    // 0x100003904
                    v26 = v29;
                    v30 = v36;
                    v34 = *(int64_t *)(g2 + 8 * (int64_t)v31);
                    v35 = *(char *)&g3;
                    v28 = v26;
                    if (*(char *)(v34 + (int64_t)v30) == v35) {
                        // 0x10000393c
                        v28 = v26;
                        if ((int32_t)function_100003258() == 1) {
                            // 0x100003958
                            v38 = 8 * (int64_t)v26 + v23;
                            *(int32_t *)v38 = v31;
                            *(int32_t *)(v38 + 4) = v30;
                            v28 = v26 + 1;
                        }
                    }
                    // 0x100003994
                    v29 = v28;
                    v36 = v30 + 1;
                    v37 = v36 - v16;
                    v27 = v29;
                }
            }
            // 0x1000039a8
            v32 = v31 + 1;
            v33 = v32 - v15;
            v24 = v27;
        }
    }
    int32_t v39 = v24;
    int32_t v40 = -v39; // 0x1000039dc
    int32_t v41 = 0; // 0x1000039e4
    int64_t v42; // 0x100003a10
    int64_t v43; // 0x100003a14
    int32_t v44; // 0x100003a24
    int32_t v45; // 0x100003a38
    int32_t v46; // 0x1000039dc
    if (v40 < 0 != (v39 & v40) < 0) {
        v42 = 8 * (int64_t)v41 + v23;
        v43 = *(int64_t *)(8 * (int64_t)*(int32_t *)v42 + g2);
        v44 = *(int32_t *)(v42 + 4);
        *(char *)(v43 + (int64_t)v44) = *(char *)&g1;
        v45 = v41 + 1;
        v46 = v45 - v39;
        v41 = v45;
        while (v46 < 0 != ((v46 ^ v45) & (v45 ^ v39)) < 0) {
            // 0x1000039ec
            v42 = 8 * (int64_t)v41 + v23;
            v43 = *(int64_t *)(8 * (int64_t)*(int32_t *)v42 + g2);
            v44 = *(int32_t *)(v42 + 4);
            *(char *)(v43 + (int64_t)v44) = *(char *)&g1;
            v45 = v41 + 1;
            v46 = v45 - v39;
            v41 = v45;
        }
    }
    // 0x100003a44
    _free(v22);
    int64_t * v47 = _malloc(v17); // 0x100003a7c
    int64_t v48 = (int64_t)v47; // 0x100003a7c
    int32_t v49 = 0; // 0x100003aa4
    int32_t v50; // 0x100003698
    int32_t v51; // 0x100003698
    int32_t v52; // 0x100003698
    int32_t v53; // 0x100003698
    int32_t v54; // 0x100003698
    int32_t v55; // 0x100003698
    int32_t v56; // 0x100003698
    int32_t v57; // 0x100003b78
    int32_t v58; // 0x100003a9c
    int64_t v59; // 0x100003ae0
    char v60; // 0x100003af4
    int32_t v61; // 0x100003b64
    int32_t v62; // 0x100003ac0
    int64_t v63; // 0x100003b34
    if (v19) {
        v50 = 0;
        v56 = 1;
        v52 = v50;
        if (v21) {
            // 0x100003ad0
            v51 = v50;
            v55 = 1;
            v59 = *(int64_t *)(g2 + 8 * (int64_t)v56);
            v60 = *(char *)&g3;
            v53 = v51;
            if (*(char *)(v59 + (int64_t)v55) == v60) {
                // 0x100003b08
                v53 = v51;
                if ((int32_t)function_100003478() == 1) {
                    // 0x100003b24
                    v63 = 8 * (int64_t)v51 + v48;
                    *(int32_t *)v63 = v56;
                    *(int32_t *)(v63 + 4) = v55;
                    v53 = v51 + 1;
                }
            }
            // 0x100003b60
            v54 = v53;
            v61 = v55 + 1;
            v62 = v61 - v16;
            v52 = v54;
            while (v62 == 0 || v62 < 0 != ((v62 ^ v61) & (v61 ^ v16)) < 0) {
                // 0x100003ad0
                v51 = v54;
                v55 = v61;
                v59 = *(int64_t *)(g2 + 8 * (int64_t)v56);
                v60 = *(char *)&g3;
                v53 = v51;
                if (*(char *)(v59 + (int64_t)v55) == v60) {
                    // 0x100003b08
                    v53 = v51;
                    if ((int32_t)function_100003478() == 1) {
                        // 0x100003b24
                        v63 = 8 * (int64_t)v51 + v48;
                        *(int32_t *)v63 = v56;
                        *(int32_t *)(v63 + 4) = v55;
                        v53 = v51 + 1;
                    }
                }
                // 0x100003b60
                v54 = v53;
                v61 = v55 + 1;
                v62 = v61 - v16;
                v52 = v54;
            }
        }
        // 0x100003b74
        v57 = v56 + 1;
        v58 = v57 - v15;
        v49 = v52;
        while (v58 == 0 || v58 < 0 != ((v58 ^ v57) & (v57 ^ v15)) < 0) {
            // 0x100003ab8
            v50 = v52;
            v56 = v57;
            v52 = v50;
            if (v21) {
                // 0x100003ad0
                v51 = v50;
                v55 = 1;
                v59 = *(int64_t *)(g2 + 8 * (int64_t)v56);
                v60 = *(char *)&g3;
                v53 = v51;
                if (*(char *)(v59 + (int64_t)v55) == v60) {
                    // 0x100003b08
                    v53 = v51;
                    if ((int32_t)function_100003478() == 1) {
                        // 0x100003b24
                        v63 = 8 * (int64_t)v51 + v48;
                        *(int32_t *)v63 = v56;
                        *(int32_t *)(v63 + 4) = v55;
                        v53 = v51 + 1;
                    }
                }
                // 0x100003b60
                v54 = v53;
                v61 = v55 + 1;
                v62 = v61 - v16;
                v52 = v54;
                while (v62 == 0 || v62 < 0 != ((v62 ^ v61) & (v61 ^ v16)) < 0) {
                    // 0x100003ad0
                    v51 = v54;
                    v55 = v61;
                    v59 = *(int64_t *)(g2 + 8 * (int64_t)v56);
                    v60 = *(char *)&g3;
                    v53 = v51;
                    if (*(char *)(v59 + (int64_t)v55) == v60) {
                        // 0x100003b08
                        v53 = v51;
                        if ((int32_t)function_100003478() == 1) {
                            // 0x100003b24
                            v63 = 8 * (int64_t)v51 + v48;
                            *(int32_t *)v63 = v56;
                            *(int32_t *)(v63 + 4) = v55;
                            v53 = v51 + 1;
                        }
                    }
                    // 0x100003b60
                    v54 = v53;
                    v61 = v55 + 1;
                    v62 = v61 - v16;
                    v52 = v54;
                }
            }
            // 0x100003b74
            v57 = v56 + 1;
            v58 = v57 - v15;
            v49 = v52;
        }
    }
    int32_t v64 = v49;
    int32_t v65 = -v64; // 0x100003bc0
    int32_t v66 = 0; // 0x100003bc8
    int64_t v67; // 0x100003bf4
    int64_t v68; // 0x100003bf8
    int32_t v69; // 0x100003c08
    int32_t v70; // 0x100003c1c
    int32_t v71; // 0x100003bc0
    if (v65 < 0 != (v64 & v65) < 0) {
        v67 = 8 * (int64_t)v66 + v48;
        v68 = *(int64_t *)(8 * (int64_t)*(int32_t *)v67 + g2);
        v69 = *(int32_t *)(v67 + 4);
        *(char *)(v68 + (int64_t)v69) = *(char *)&g1;
        v70 = v66 + 1;
        v71 = v70 - v64;
        v66 = v70;
        while (v71 < 0 != ((v71 ^ v70) & (v70 ^ v64)) < 0) {
            // 0x100003bd0
            v67 = 8 * (int64_t)v66 + v48;
            v68 = *(int64_t *)(8 * (int64_t)*(int32_t *)v67 + g2);
            v69 = *(int32_t *)(v67 + 4);
            *(char *)(v68 + (int64_t)v69) = *(char *)&g1;
            v70 = v66 + 1;
            v71 = v70 - v64;
            v66 = v70;
        }
    }
    bool v72 = v39 < 1 ? v64 >= 1 : v39 >= 1;
    _free(v47);
    while (v72) {
        // 0x100003880
        v22 = _malloc(v17);
        v23 = (int64_t)v22;
        v24 = 0;
        if (v19) {
            v25 = 0;
            v31 = 1;
            v27 = v25;
            if (v21) {
                // 0x100003904
                v26 = v25;
                v30 = 1;
                v34 = *(int64_t *)(g2 + 8 * (int64_t)v31);
                v35 = *(char *)&g3;
                v28 = v26;
                if (*(char *)(v34 + (int64_t)v30) == v35) {
                    // 0x10000393c
                    v28 = v26;
                    if ((int32_t)function_100003258() == 1) {
                        // 0x100003958
                        v38 = 8 * (int64_t)v26 + v23;
                        *(int32_t *)v38 = v31;
                        *(int32_t *)(v38 + 4) = v30;
                        v28 = v26 + 1;
                    }
                }
                // 0x100003994
                v29 = v28;
                v36 = v30 + 1;
                v37 = v36 - v16;
                v27 = v29;
                while (v37 == 0 || v37 < 0 != ((v37 ^ v36) & (v36 ^ v16)) < 0) {
                    // 0x100003904
                    v26 = v29;
                    v30 = v36;
                    v34 = *(int64_t *)(g2 + 8 * (int64_t)v31);
                    v35 = *(char *)&g3;
                    v28 = v26;
                    if (*(char *)(v34 + (int64_t)v30) == v35) {
                        // 0x10000393c
                        v28 = v26;
                        if ((int32_t)function_100003258() == 1) {
                            // 0x100003958
                            v38 = 8 * (int64_t)v26 + v23;
                            *(int32_t *)v38 = v31;
                            *(int32_t *)(v38 + 4) = v30;
                            v28 = v26 + 1;
                        }
                    }
                    // 0x100003994
                    v29 = v28;
                    v36 = v30 + 1;
                    v37 = v36 - v16;
                    v27 = v29;
                }
            }
            // 0x1000039a8
            v32 = v31 + 1;
            v33 = v32 - v15;
            v24 = v27;
            while (v33 == 0 || v33 < 0 != ((v33 ^ v32) & (v32 ^ v15)) < 0) {
                // 0x1000038ec
                v25 = v27;
                v31 = v32;
                v27 = v25;
                if (v21) {
                    // 0x100003904
                    v26 = v25;
                    v30 = 1;
                    v34 = *(int64_t *)(g2 + 8 * (int64_t)v31);
                    v35 = *(char *)&g3;
                    v28 = v26;
                    if (*(char *)(v34 + (int64_t)v30) == v35) {
                        // 0x10000393c
                        v28 = v26;
                        if ((int32_t)function_100003258() == 1) {
                            // 0x100003958
                            v38 = 8 * (int64_t)v26 + v23;
                            *(int32_t *)v38 = v31;
                            *(int32_t *)(v38 + 4) = v30;
                            v28 = v26 + 1;
                        }
                    }
                    // 0x100003994
                    v29 = v28;
                    v36 = v30 + 1;
                    v37 = v36 - v16;
                    v27 = v29;
                    while (v37 == 0 || v37 < 0 != ((v37 ^ v36) & (v36 ^ v16)) < 0) {
                        // 0x100003904
                        v26 = v29;
                        v30 = v36;
                        v34 = *(int64_t *)(g2 + 8 * (int64_t)v31);
                        v35 = *(char *)&g3;
                        v28 = v26;
                        if (*(char *)(v34 + (int64_t)v30) == v35) {
                            // 0x10000393c
                            v28 = v26;
                            if ((int32_t)function_100003258() == 1) {
                                // 0x100003958
                                v38 = 8 * (int64_t)v26 + v23;
                                *(int32_t *)v38 = v31;
                                *(int32_t *)(v38 + 4) = v30;
                                v28 = v26 + 1;
                            }
                        }
                        // 0x100003994
                        v29 = v28;
                        v36 = v30 + 1;
                        v37 = v36 - v16;
                        v27 = v29;
                    }
                }
                // 0x1000039a8
                v32 = v31 + 1;
                v33 = v32 - v15;
                v24 = v27;
            }
        }
        // 0x1000039b8
        v39 = v24;
        v40 = -v39;
        v41 = 0;
        if (v40 < 0 != (v39 & v40) < 0) {
            v42 = 8 * (int64_t)v41 + v23;
            v43 = *(int64_t *)(8 * (int64_t)*(int32_t *)v42 + g2);
            v44 = *(int32_t *)(v42 + 4);
            *(char *)(v43 + (int64_t)v44) = *(char *)&g1;
            v45 = v41 + 1;
            v46 = v45 - v39;
            v41 = v45;
            while (v46 < 0 != ((v46 ^ v45) & (v45 ^ v39)) < 0) {
                // 0x1000039ec
                v42 = 8 * (int64_t)v41 + v23;
                v43 = *(int64_t *)(8 * (int64_t)*(int32_t *)v42 + g2);
                v44 = *(int32_t *)(v42 + 4);
                *(char *)(v43 + (int64_t)v44) = *(char *)&g1;
                v45 = v41 + 1;
                v46 = v45 - v39;
                v41 = v45;
            }
        }
        // 0x100003a44
        _free(v22);
        v47 = _malloc(v17);
        v48 = (int64_t)v47;
        v49 = 0;
        if (v19) {
            v50 = 0;
            v56 = 1;
            v52 = v50;
            if (v21) {
                // 0x100003ad0
                v51 = v50;
                v55 = 1;
                v59 = *(int64_t *)(g2 + 8 * (int64_t)v56);
                v60 = *(char *)&g3;
                v53 = v51;
                if (*(char *)(v59 + (int64_t)v55) == v60) {
                    // 0x100003b08
                    v53 = v51;
                    if ((int32_t)function_100003478() == 1) {
                        // 0x100003b24
                        v63 = 8 * (int64_t)v51 + v48;
                        *(int32_t *)v63 = v56;
                        *(int32_t *)(v63 + 4) = v55;
                        v53 = v51 + 1;
                    }
                }
                // 0x100003b60
                v54 = v53;
                v61 = v55 + 1;
                v62 = v61 - v16;
                v52 = v54;
                while (v62 == 0 || v62 < 0 != ((v62 ^ v61) & (v61 ^ v16)) < 0) {
                    // 0x100003ad0
                    v51 = v54;
                    v55 = v61;
                    v59 = *(int64_t *)(g2 + 8 * (int64_t)v56);
                    v60 = *(char *)&g3;
                    v53 = v51;
                    if (*(char *)(v59 + (int64_t)v55) == v60) {
                        // 0x100003b08
                        v53 = v51;
                        if ((int32_t)function_100003478() == 1) {
                            // 0x100003b24
                            v63 = 8 * (int64_t)v51 + v48;
                            *(int32_t *)v63 = v56;
                            *(int32_t *)(v63 + 4) = v55;
                            v53 = v51 + 1;
                        }
                    }
                    // 0x100003b60
                    v54 = v53;
                    v61 = v55 + 1;
                    v62 = v61 - v16;
                    v52 = v54;
                }
            }
            // 0x100003b74
            v57 = v56 + 1;
            v58 = v57 - v15;
            v49 = v52;
            while (v58 == 0 || v58 < 0 != ((v58 ^ v57) & (v57 ^ v15)) < 0) {
                // 0x100003ab8
                v50 = v52;
                v56 = v57;
                v52 = v50;
                if (v21) {
                    // 0x100003ad0
                    v51 = v50;
                    v55 = 1;
                    v59 = *(int64_t *)(g2 + 8 * (int64_t)v56);
                    v60 = *(char *)&g3;
                    v53 = v51;
                    if (*(char *)(v59 + (int64_t)v55) == v60) {
                        // 0x100003b08
                        v53 = v51;
                        if ((int32_t)function_100003478() == 1) {
                            // 0x100003b24
                            v63 = 8 * (int64_t)v51 + v48;
                            *(int32_t *)v63 = v56;
                            *(int32_t *)(v63 + 4) = v55;
                            v53 = v51 + 1;
                        }
                    }
                    // 0x100003b60
                    v54 = v53;
                    v61 = v55 + 1;
                    v62 = v61 - v16;
                    v52 = v54;
                    while (v62 == 0 || v62 < 0 != ((v62 ^ v61) & (v61 ^ v16)) < 0) {
                        // 0x100003ad0
                        v51 = v54;
                        v55 = v61;
                        v59 = *(int64_t *)(g2 + 8 * (int64_t)v56);
                        v60 = *(char *)&g3;
                        v53 = v51;
                        if (*(char *)(v59 + (int64_t)v55) == v60) {
                            // 0x100003b08
                            v53 = v51;
                            if ((int32_t)function_100003478() == 1) {
                                // 0x100003b24
                                v63 = 8 * (int64_t)v51 + v48;
                                *(int32_t *)v63 = v56;
                                *(int32_t *)(v63 + 4) = v55;
                                v53 = v51 + 1;
                            }
                        }
                        // 0x100003b60
                        v54 = v53;
                        v61 = v55 + 1;
                        v62 = v61 - v16;
                        v52 = v54;
                    }
                }
                // 0x100003b74
                v57 = v56 + 1;
                v58 = v57 - v15;
                v49 = v52;
            }
        }
        // 0x100003b84
        v64 = v49;
        v65 = -v64;
        v66 = 0;
        if (v65 < 0 != (v64 & v65) < 0) {
            v67 = 8 * (int64_t)v66 + v48;
            v68 = *(int64_t *)(8 * (int64_t)*(int32_t *)v67 + g2);
            v69 = *(int32_t *)(v67 + 4);
            *(char *)(v68 + (int64_t)v69) = *(char *)&g1;
            v70 = v66 + 1;
            v71 = v70 - v64;
            v66 = v70;
            while (v71 < 0 != ((v71 ^ v70) & (v70 ^ v64)) < 0) {
                // 0x100003bd0
                v67 = 8 * (int64_t)v66 + v48;
                v68 = *(int64_t *)(8 * (int64_t)*(int32_t *)v67 + g2);
                v69 = *(int32_t *)(v67 + 4);
                *(char *)(v68 + (int64_t)v69) = *(char *)&g1;
                v70 = v66 + 1;
                v71 = v70 - v64;
                v66 = v70;
            }
        }
        // 0x100003c28
        v72 = v39 < 1 ? v64 >= 1 : v39 >= 1;
        _free(v47);
    }
    struct _IO_FILE * v73 = _fopen((char *)v1, "w"); // 0x100003c54
    _printf("\n\n\nPrinting image after applying Zhang Suen Thinning Algorithm : \n\n\n");
    if (v12 < 0 == (v11 & v12) < 0) {
        // 0x100003d58
        _fclose(v73);
        return _printf("\nImage also written to : %s", (char *)(int64_t)"w");
    }
    int32_t v74 = -v11; // 0x100003c98
    int32_t v75 = 0; // 0x100003d4c
    int32_t v76; // 0x100003698
    int32_t v77; // 0x100003d1c
    int32_t v78; // 0x100003c98
    char v79; // 0x100003698
    if (v74 < 0 != (v11 & v74) < 0) {
        _printf("%c", (char)"w");
        _fprintf(v73, "%c", (char)v1);
        v77 = 1;
        v78 = v77 - v11;
        v76 = v77;
        v79 = (char)"%c";
        while (v78 < 0 != ((v78 ^ v77) & (v77 ^ v11)) < 0) {
            // 0x100003ca8
            _printf("%c", v79);
            _fprintf(v73, "%c", (char)v1);
            v77 = v76 + 1;
            v78 = v77 - v11;
            v76 = v77;
            v79 = (char)"%c";
        }
    }
    // 0x100003d28
    _printf("\n");
    _fprintf(v73, "\n");
    v75++;
    int32_t v80 = v75 - v11; // 0x100003c78
    while (v80 < 0 != ((v80 ^ v75) & (v75 ^ v11)) < 0) {
        // 0x100003c90
        if (v74 < 0 != (v11 & v74) < 0) {
            _printf("%c", (char)"\n");
            _fprintf(v73, "%c", (char)v1);
            v77 = 1;
            v78 = v77 - v11;
            v76 = v77;
            v79 = (char)"%c";
            while (v78 < 0 != ((v78 ^ v77) & (v77 ^ v11)) < 0) {
                // 0x100003ca8
                _printf("%c", v79);
                _fprintf(v73, "%c", (char)v1);
                v77 = v76 + 1;
                v78 = v77 - v11;
                v76 = v77;
                v79 = (char)"%c";
            }
        }
        // 0x100003d28
        _printf("\n");
        _fprintf(v73, "\n");
        v75++;
        v80 = v75 - v11;
    }
    // 0x100003d58
    _fclose(v73);
    return _printf("\nImage also written to : %s", (char *)(int64_t)"\n");
}

// Address range: 0x100003d84 - 0x100003e3c
int64_t entry_point(void) {
    // 0x100003d84
    _printf("Enter full path of input image file : ");
    int64_t v1; // 0x100003d84
    char ** v2 = (char **)v1; // 0x100003dd0
    _scanf("%s", v2);
    _printf("Enter full path of output image file : ");
    _scanf("%s", v2);
    int64_t v3 = function_100003698(); // 0x100003e00
    int64_t v4 = *(int64_t *)*(int64_t *)0x100004008; // 0x100003e10
    if (v4 != *(int64_t *)*(int64_t *)0x100004008) {
        // 0x100003e24
        ___stack_chk_fail(v3);
    }
    // 0x100003e28
    return 0;
}

// Address range: 0x100003e3c - 0x100003e48
int64_t function_100003e3c(int64_t a1) {
    // 0x100003e3c
    return ___stack_chk_fail(a1);
}

// Address range: 0x100003e48 - 0x100003e54
int32_t function_100003e48(struct _IO_FILE * stream) {
    // 0x100003e48
    return _fclose(stream);
}

// Address range: 0x100003e54 - 0x100003e60
struct _IO_FILE * function_100003e54(char * filename, char * modes) {
    // 0x100003e54
    return _fopen(filename, modes);
}

// Address range: 0x100003e60 - 0x100003e6c
int32_t function_100003e60(struct _IO_FILE * stream, char * format, ...) {
    // 0x100003e60
    return _fprintf(stream, format);
}

// Address range: 0x100003e6c - 0x100003e78
void function_100003e6c(int64_t * ptr) {
    // 0x100003e6c
    _free(ptr);
}

// Address range: 0x100003e78 - 0x100003e84
int32_t function_100003e78(struct _IO_FILE * stream, char * format, ...) {
    // 0x100003e78
    return _fscanf(stream, format);
}

// Address range: 0x100003e84 - 0x100003e90
int64_t * function_100003e84(int32_t size) {
    // 0x100003e84
    return _malloc(size);
}

// Address range: 0x100003e90 - 0x100003e9c
int32_t function_100003e90(char * format, ...) {
    // 0x100003e90
    return _printf(format);
}

// Address range: 0x100003e9c - 0x100003ea8
int32_t function_100003e9c(char * format, ...) {
    // 0x100003e9c
    return _scanf(format);
}

// --------------------- Meta-Information ---------------------

// Detected functions: 15

