//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
//

#include <stdbool.h>
#include <stdint.h>

// ----------------- Float Types Definitions ------------------

typedef long double float128_t;

// ------------------- Function Prototypes --------------------

int64_t entry_point(void);
int64_t function_1000036cc(void);
int64_t function_1000038ec(void);
int64_t function_100003ccc(void);
int64_t function_100003d20(void);
int64_t function_100003ef4(void);
int32_t function_100003f00(char * nptr);
int32_t function_100003f0c(int32_t c);
int64_t * function_100003f18(int32_t size);
int32_t function_100003f24(char * format, ...);

// --------------------- Global Variables ---------------------

float128_t g1 = 4.24399158193054463022276442972641766e-314L; // 0x100003f30

// ------- Dynamically Linked Functions Without Header --------

int64_t ___stack_chk_fail(void);
int32_t _atoi(char * a1);
int32_t _isdigit(int32_t a1);
int64_t * _malloc(int32_t a1);
int32_t _printf(char * a1, ...);

// ------------------------ Functions -------------------------

// Address range: 0x1000036cc - 0x1000038ec
int64_t function_1000036cc(void) {
    // 0x1000036cc
    int64_t v1; // 0x1000036cc
    int32_t v2 = v1; // 0x1000036d8
    if (v2 < 3 != (2 - v2 & v2) < 0) {
        // 0x1000038dc
        return 0;
    }
    int32_t v3 = v2 / 2; // 0x1000036f8
    if (2 * v3 == v2) {
        // 0x1000038dc
        return 0;
    }
    int64_t result = (int64_t)_malloc(8 * v2); // 0x10000374c
    int32_t v4 = -v2; // 0x100003764
    if (v4 < 0 != (v4 & v2) < 0) {
        int32_t v5 = 0; // 0x100003794
        *(int64_t *)(8 * (int64_t)v5 + result) = (int64_t)_malloc(4 * v2);
        v5++;
        while (v5 - v2 < 0 != ((v5 - v2 ^ v5) & (v5 ^ v2)) < 0) {
            // 0x100003774
            *(int64_t *)(8 * (int64_t)v5 + result) = (int64_t)_malloc(4 * v2);
            v5++;
        }
    }
    int32_t v6 = v2 * v2; // 0x100003728
    int32_t v7 = 1 - v6; // 0x1000037b4
    if (v7 != 0 && v7 < 0 == (v7 & v6) < 0) {
        // 0x1000038dc
        return result;
    }
    int32_t v8 = v2 - 1;
    int32_t v9 = 1; // 0x1000037a8
    int32_t v10 = v3;
    int32_t v11 = 0;
    int64_t v12 = *(int64_t *)(8 * (int64_t)v11 + result); // 0x1000037d0
    *(int32_t *)(4 * (int64_t)v10 + v12) = v9;
    int32_t v13; // 0x1000036cc
    int32_t v14; // 0x1000036cc
    int64_t v15; // 0x100003878
    if (v11 == 0) {
        // 0x1000037f0
        v13 = v10 + (int32_t)(v10 != v8);
        v14 = v10 == v8 ? 1 : v8;
    } else {
        if (v10 == v8) {
            // 0x100003858
            v13 = 0;
            v14 = v11 - 1;
        } else {
            // 0x10000386c
            v15 = *(int64_t *)((int64_t)(8 * v11 - 8) + result);
            if (*(int32_t *)(v15 + (int64_t)(4 * v10 + 4)) == 0) {
                // 0x100003898
                v13 = v10 + 1;
                v14 = v11 - 1;
            } else {
                // 0x1000038b4
                v13 = v10;
                v14 = v11 + 1;
            }
        }
    }
    // 0x1000038cc
    v9++;
    while (v9 - v6 == 0 || v9 - v6 < 0 != ((v9 - v6 ^ v9) & (v9 ^ v6)) < 0) {
        // 0x1000037c4
        v10 = v13;
        v11 = v14;
        v12 = *(int64_t *)(8 * (int64_t)v11 + result);
        *(int32_t *)(4 * (int64_t)v10 + v12) = v9;
        if (v11 == 0) {
            // 0x1000037f0
            v13 = v10 + (int32_t)(v10 != v8);
            v14 = v10 == v8 ? 1 : v8;
        } else {
            if (v10 == v8) {
                // 0x100003858
                v13 = 0;
                v14 = v11 - 1;
            } else {
                // 0x10000386c
                v15 = *(int64_t *)((int64_t)(8 * v11 - 8) + result);
                if (*(int32_t *)(v15 + (int64_t)(4 * v10 + 4)) == 0) {
                    // 0x100003898
                    v13 = v10 + 1;
                    v14 = v11 - 1;
                } else {
                    // 0x1000038b4
                    v13 = v10;
                    v14 = v11 + 1;
                }
            }
        }
        // 0x1000038cc
        v9++;
    }
    // 0x1000038dc
    return result;
}

// Address range: 0x1000038ec - 0x100003ccc
int64_t function_1000038ec(void) {
    int64_t v1 = *(int64_t *)*(int64_t *)0x100004008; // 0x100003900
    int64_t v2; // 0x1000038ec
    int32_t v3 = v2; // 0x100003908
    if (v3 < 6 != (5 - v3 & v3) < 0) {
        // 0x100003cbc
        return 0;
    }
    int32_t v4 = v3 - 2; // 0x100003924
    if (v4 != 4 * v4 / 4) {
        // 0x100003cbc
        return 0;
    }
    int32_t v5 = v3 / 2; // 0x100003968
    int64_t v6 = function_1000036cc(); // 0x100003984
    float128_t v7 = g1; // bp-48, 0x100003998
    int64_t result = (int64_t)_malloc(8 * v3); // 0x1000039a4
    int32_t v8 = -v3;
    if (v8 < 0 != (v8 & v3) < 0) {
        int32_t v9 = 0; // 0x1000039ec
        *(int64_t *)(8 * (int64_t)v9 + result) = (int64_t)_malloc(4 * v3);
        v9++;
        while (v9 - v3 < 0 != ((v9 - v3 ^ v9) & (v9 ^ v3)) < 0) {
            // 0x1000039cc
            *(int64_t *)(8 * (int64_t)v9 + result) = (int64_t)_malloc(4 * v3);
            v9++;
        }
        int64_t v10 = &v7;
        int32_t v11 = 0; // 0x100003af0
        int64_t * v12 = (int64_t *)(8 * (int64_t)v11 + result); // 0x100003a94
        int32_t v13 = 0; // 0x100003adc
        int64_t v14 = *(int64_t *)(v6 + (int64_t)(8 * (v11 % v5))); // 0x100003a70
        int32_t v15 = *(int32_t *)(v14 + (int64_t)(4 * (v13 % v5))); // 0x100003a88
        int64_t v16 = 4 * (int64_t)v13; // 0x100003a9c
        *(int32_t *)(*v12 + v16) = v15;
        int32_t v17 = *(int32_t *)(4 * (int64_t)(v13 / v5 + 2 * v11 / v5) + v10); // 0x100003aa8
        int32_t * v18 = (int32_t *)(*v12 + v16); // 0x100003ac8
        *v18 = *v18 + v17 * v3 * v3 / 4;
        v13++;
        while (v13 - v3 < 0 != ((v13 - v3 ^ v13) & (v13 ^ v3)) < 0) {
            // 0x100003a38
            v14 = *(int64_t *)(v6 + (int64_t)(8 * (v11 % v5)));
            v15 = *(int32_t *)(v14 + (int64_t)(4 * (v13 % v5)));
            v16 = 4 * (int64_t)v13;
            *(int32_t *)(*v12 + v16) = v15;
            v17 = *(int32_t *)(4 * (int64_t)(v13 / v5 + 2 * v11 / v5) + v10);
            v18 = (int32_t *)(*v12 + v16);
            *v18 = *v18 + v17 * v3 * v3 / 4;
            v13++;
        }
        // 0x100003aec
        v11++;
        while (v11 - v3 < 0 != ((v11 - v3 ^ v11) & (v11 ^ v3)) < 0) {
            // 0x100003a38
            v12 = (int64_t *)(8 * (int64_t)v11 + result);
            v13 = 0;
            v14 = *(int64_t *)(v6 + (int64_t)(8 * (v11 % v5)));
            v15 = *(int32_t *)(v14 + (int64_t)(4 * (v13 % v5)));
            v16 = 4 * (int64_t)v13;
            *(int32_t *)(*v12 + v16) = v15;
            v17 = *(int32_t *)(4 * (int64_t)(v13 / v5 + 2 * v11 / v5) + v10);
            v18 = (int32_t *)(*v12 + v16);
            *v18 = *v18 + v17 * v3 * v3 / 4;
            v13++;
            while (v13 - v3 < 0 != ((v13 - v3 ^ v13) & (v13 ^ v3)) < 0) {
                // 0x100003a38
                v14 = *(int64_t *)(v6 + (int64_t)(8 * (v11 % v5)));
                v15 = *(int32_t *)(v14 + (int64_t)(4 * (v13 % v5)));
                v16 = 4 * (int64_t)v13;
                *(int32_t *)(*v12 + v16) = v15;
                v17 = *(int32_t *)(4 * (int64_t)(v13 / v5 + 2 * v11 / v5) + v10);
                v18 = (int32_t *)(*v12 + v16);
                *v18 = *v18 + v17 * v3 * v3 / 4;
                v13++;
            }
            // 0x100003aec
            v11++;
        }
    }
    int32_t v19; // 0x1000038ec
    int32_t v20; // 0x1000038ec
    int32_t v21; // 0x1000038ec
    int32_t v22; // 0x100003b04
    int64_t * v23; // 0x1000038ec
    int64_t * v24; // 0x1000038ec
    if (v3 > 1 != (v5 & -v5) < 0) {
        // 0x100003b40
        v22 = v3 / 4;
        int32_t v25 = v3 + 1 - v22;
        int32_t v26 = 0; // 0x100003c78
        while (true) {
            // 0x100003b40
            v21 = v26;
            if (v8 < 0 != (v8 & v3) < 0) {
                // 0x100003b58
                v23 = (int64_t *)(8 * (int64_t)v21 + result);
                v24 = (int64_t *)((int64_t)(8 * (v21 + v5)) + result);
                v19 = 0;
                while (true) {
                  lab_0x100003b58:
                    // 0x100003b58
                    v20 = v19;
                    int32_t v27 = v20 - v22; // 0x100003b60
                    if (v27 < 0 == ((v27 ^ v20) & (v20 ^ v22)) < 0) {
                        int32_t v28 = v20 - v25; // 0x100003b80
                        if (v21 == v22 == v20 == v22 || v28 < 0 == ((v28 ^ v20) & (v20 ^ v25)) < 0) {
                            goto lab_0x100003bc0;
                        } else {
                            goto lab_0x100003c60;
                        }
                    } else {
                        goto lab_0x100003bc0;
                    }
                }
            }
          lab_0x100003c74:
            // 0x100003c74
            v26 = v21 + 1;
            int32_t v29 = v26 - v5; // 0x100003b28
            if (v29 < 0 == ((v29 ^ v26) & (v26 ^ v5)) < 0) {
                // break -> 0x100003c90
                break;
            }
        }
    }
    // 0x100003c90
    if (*(int64_t *)*(int64_t *)0x100004008 != v1) {
        // 0x100003cb8
        ___stack_chk_fail();
    }
    // 0x100003cbc
    return result;
  lab_0x100003bc0:
    if (v21 == v22 != (v20 == 0)) {
        int64_t v30 = 4 * (int64_t)v20; // 0x100003c00
        int32_t * v31 = (int32_t *)(*v23 + v30); // 0x100003c00
        *v31 = *(int32_t *)(*v24 + v30);
        *(int32_t *)(*v24 + v30) = *v31;
    }
    goto lab_0x100003c60;
  lab_0x100003c60:;
    int32_t v32 = v20 + 1; // 0x100003c64
    int32_t v33 = v32 - v3; // 0x100003b48
    v19 = v32;
    if (v33 < 0 == ((v33 ^ v32) & (v32 ^ v3)) < 0) {
        // break -> 0x100003c74
        goto lab_0x100003c74;
    }
    goto lab_0x100003b58;
}

// Address range: 0x100003ccc - 0x100003d20
int64_t function_100003ccc(void) {
    // 0x100003ccc
    int64_t v1; // 0x100003ccc
    int32_t v2 = v1; // 0x100003cd0
    int32_t result = 1; // 0x100003cec
    if (v2 < 10 != (9 - v2 & v2) < 0) {
        // 0x100003d14
        return 1;
    }
    int32_t v3 = v2;
    int32_t v4 = v3 / 10; // 0x100003cfc
    result++;
    while (v3 < 100 == (9 - v4 & v4) < 0) {
        // 0x100003cf4
        v3 = v4;
        v4 = v3 / 10;
        result++;
    }
    // 0x100003d14
    return result;
}

// Address range: 0x100003d20 - 0x100003e54
int64_t function_100003d20(void) {
    // 0x100003d20
    int64_t v1; // 0x100003d20
    int32_t v2 = v1; // 0x100003d30
    int32_t v3 = -v2;
    if (v3 < 0 == (v3 & v2) < 0) {
        // 0x100003e10
        return _printf("\nMagic constant: %d ", v1);
    }
    int32_t v4 = 0; // 0x100003e04
    int32_t v5 = 0; // 0x100003de4
    function_100003ccc();
    _printf("%*s%d", v1, (char *)v1, v1);
    v5++;
    while (v5 - v2 < 0 != ((v5 - v2 ^ v5) & (v5 ^ v2)) < 0) {
        // 0x100003d74
        function_100003ccc();
        _printf("%*s%d", v1, (char *)v1, v1);
        v5++;
    }
    // 0x100003df0
    _printf("\n");
    v4++;
    while (v4 - v2 < 0 != ((v4 - v2 ^ v4) & (v4 ^ v2)) < 0) {
        // 0x100003d74
        v5 = 0;
        function_100003ccc();
        _printf("%*s%d", v1, (char *)v1, v1);
        v5++;
        while (v5 - v2 < 0 != ((v5 - v2 ^ v5) & (v5 ^ v2)) < 0) {
            // 0x100003d74
            function_100003ccc();
            _printf("%*s%d", v1, (char *)v1, v1);
            v5++;
        }
        // 0x100003df0
        _printf("\n");
        v4++;
    }
    // 0x100003e10
    return _printf("\nMagic constant: %d ", v1);
}

// Address range: 0x100003e54 - 0x100003ef4
int64_t entry_point(void) {
    // 0x100003e54
    int64_t v1; // 0x100003e54
    if ((int32_t)v1 != 2) {
        // 0x100003ea0
        _printf("Usage : %s <integer specifying rows in magic square>", (char *)v1);
        // 0x100003ee4
        return 0;
    }
    int64_t * v2 = (int64_t *)(v1 + 8); // 0x100003e84
    if (_isdigit((int32_t)*(char *)*v2) == 0) {
        // 0x100003ea0
        _printf("Usage : %s <integer specifying rows in magic square>", (char *)v1);
        // 0x100003ee4
        return 0;
    }
    // 0x100003ec0
    _atoi((char *)*v2);
    function_1000038ec();
    function_100003d20();
    // 0x100003ee4
    return 0;
}

// Address range: 0x100003ef4 - 0x100003f00
int64_t function_100003ef4(void) {
    // 0x100003ef4
    return ___stack_chk_fail();
}

// Address range: 0x100003f00 - 0x100003f0c
int32_t function_100003f00(char * nptr) {
    // 0x100003f00
    return _atoi(nptr);
}

// Address range: 0x100003f0c - 0x100003f18
int32_t function_100003f0c(int32_t c) {
    // 0x100003f0c
    return _isdigit(c);
}

// Address range: 0x100003f18 - 0x100003f24
int64_t * function_100003f18(int32_t size) {
    // 0x100003f18
    return _malloc(size);
}

// Address range: 0x100003f24 - 0x100003f30
int32_t function_100003f24(char * format, ...) {
    // 0x100003f24
    return _printf(format);
}

// --------------------- Meta-Information ---------------------

// Detected functions: 10

