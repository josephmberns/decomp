//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
//

#include <stdbool.h>
#include <stdint.h>

// ------------------- Function Prototypes --------------------

int64_t entry_point(void);
int64_t function_100003d14(void);
int32_t function_100003f6c(char * nptr);
int32_t function_100003f78(char * format, ...);
int32_t function_100003f84(void);

// --------------------- Global Variables ---------------------

int64_t g1 = 0x10000000003f90; // 0x100008000
int64_t g2 = 0x10000000003f94; // 0x100008008
int64_t g3 = 0x3f98; // 0x100008010

// ------- Dynamically Linked Functions Without Header --------

int32_t _atoi(char * a1);
int32_t _printf(char * a1, ...);
int32_t _rand(void);

// ------------------------ Functions -------------------------

// Address range: 0x100003d14 - 0x100003ef8
int64_t function_100003d14(void) {
    // 0x100003d14
    int64_t v1; // 0x100003d14
    int32_t v2 = v1; // 0x100003d20
    int64_t v3 = 0; // bp-48, 0x100003d28
    int64_t v4; // 0x100003d14
    int64_t v5 = v4;
    bool v6 = true; // 0x100003d48
    while (v5 != 0) {
        // 0x100003d50
        _printf("%s", (char *)v1);
        int64_t v7 = *(int64_t *)(v5 + 8); // 0x100003d70
        v6 = false;
        if (v7 == 0) {
            // break -> 0x100003d9c
            break;
        }
        v5 = v7;
        v6 = true;
    }
    int64_t result = _printf("--%d\n", v1); // 0x100003db4
    int32_t v8 = v2 - 1; // 0x100003dbc
    if (v8 == 0 || v8 < 0 != (v2 & -v2) < 0) {
        // 0x100003eec
        return result;
    }
    // 0x100003dd0
    int64_t v9; // 0x100003d14
    if (v6) {
        // 0x100003e2c
        v9 = &v3;
    } else {
        int64_t * v10 = (int64_t *)v5; // 0x100003de8
        if (*v10 == g2) {
            // 0x100003e04
            *v10 = g3;
        }
        // 0x100003e40
        *(int64_t *)(v5 + 8) = (int64_t)&v3;
        v9 = v5;
    }
    int64_t result2 = result; // 0x100003e60
    if (v2 != 0) {
        int32_t v11 = v2;
        int32_t v12 = v11 + -1 - _rand() % v11; // 0x100003e8c
        v3 = v12 == 0 ? g2 : g1;
        result2 = function_100003d14();
        while (v12 != 0) {
            // 0x100003e68
            v11 = v12;
            v12 = v11 + -1 - _rand() % v11;
            v3 = v12 == 0 ? g2 : g1;
            result2 = function_100003d14();
        }
    }
    // 0x100003ee0
    *(int64_t *)(v9 + 8) = 0;
    // 0x100003eec
    return result2;
}

// Address range: 0x100003ef8 - 0x100003f6c
int64_t entry_point(void) {
    // 0x100003ef8
    int64_t v1; // 0x100003ef8
    int32_t v2 = v1; // 0x100003f08
    if (v2 < 2 == (1 - v2 & v2) < 0) {
        // 0x100003f24
        _atoi((char *)*(int64_t *)(v1 + 8));
    }
    // 0x100003f50
    function_100003d14();
    return 0;
}

// Address range: 0x100003f6c - 0x100003f78
int32_t function_100003f6c(char * nptr) {
    // 0x100003f6c
    return _atoi(nptr);
}

// Address range: 0x100003f78 - 0x100003f84
int32_t function_100003f78(char * format, ...) {
    // 0x100003f78
    return _printf(format);
}

// Address range: 0x100003f84 - 0x100003f90
int32_t function_100003f84(void) {
    // 0x100003f84
    return _rand();
}

// --------------------- Meta-Information ---------------------

// Detected functions: 5

