//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
//

#include <stdint.h>
#include <stdlib.h>

// ------------------- Function Prototypes --------------------

int64_t entry_point(void);
int64_t function_100003168(void);
int64_t * function_100003784(int32_t nmemb, int32_t size);
void function_100003790(int64_t * ptr);
int32_t function_10000379c(char * format, ...);

// --------------------- Global Variables ---------------------

int32_t * g1 = (int32_t *)0x300000002; // 0x1000037a8

// ------- Dynamically Linked Functions Without Header --------

int64_t * _calloc(int32_t a1, int32_t a2);
void _free(int64_t * a1);
int32_t _printf(char * a1, ...);

// ------------------------ Functions -------------------------

// Address range: 0x100003168 - 0x10000329c
int64_t function_100003168(void) {
    // 0x100003168
    int64_t v1; // 0x100003168
    int32_t v2 = v1; // 0x10000316c
    if (v2 < 2 != (1 - v2 & v2) < 0) {
        // 0x10000328c
        return 0;
    }
    int32_t v3 = 0; // 0x10000317c
    int32_t v4 = *(int32_t *)(4 * (int64_t)v3 + (int64_t)&g1); // 0x1000031c4
    int64_t result = 1; // 0x1000031d0
    while (v4 != v2) {
        // 0x1000031ec
        result = 0;
        if (v2 % v4 == 0) {
            // break -> 0x10000328c
            break;
        }
        int32_t v5 = v4 * v4; // 0x10000324c
        int32_t v6 = v2 - v5; // 0x100003250
        v3++;
        result = 1;
        if (v3 < 447 != (v6 < 0 == ((v6 ^ v2) & (v5 ^ v2)) < 0)) {
            // break -> 0x10000328c
            break;
        }
        v4 = *(int32_t *)(4 * (int64_t)v3 + (int64_t)&g1);
        result = 1;
    }
    // 0x10000328c
    return result;
}

// Address range: 0x10000329c - 0x100003784
int64_t entry_point(void) {
    int64_t * v1 = _calloc(0xaae60, 4); // 0x1000032c4
    int64_t v2 = (int64_t)v1; // 0x1000032c4
    if (v1 == NULL) {
        // 0x100003774
        return 1;
    }
    for (int64_t i = 0; i < 447; i++) {
        int64_t v3 = 4 * i; // 0x100003314
        int32_t v4 = *(int32_t *)(v3 + (int64_t)&g1); // 0x100003314
        *(int32_t *)(v3 + v2) = v4;
    }
    int32_t v5 = 446; // 0x10000335c
    int32_t v6 = *(int32_t *)((int64_t)&g1 + 1784);
    int32_t v7 = v6 + 4;
    int64_t result; // 0x10000329c
    while (v6 < 0x9896e0 != (v7 & 0x9896df - v6) < 0) {
        int32_t v8 = v5;
        int32_t v9 = v8; // 0x100003384
        if (function_100003168() % 2 != 0) {
            // 0x10000338c
            *(int32_t *)(4 * (int64_t)v8 + v2) = v7;
            v9 = v8 + 1;
        }
        int32_t v10 = v9;
        int32_t v11 = v6 + 6; // 0x1000033b0
        int32_t v12 = v10; // 0x1000033c0
        if (function_100003168() % 2 != 0) {
            // 0x1000033c8
            *(int32_t *)(4 * (int64_t)v10 + v2) = v11;
            v12 = v10 + 1;
        }
        // 0x1000033e8
        v5 = v12;
        if (v5 < 0xaae60 == (0xaae5f - v5 & v5) < 0) {
            // 0x100003410
            _printf("Allocate more memory.");
            result = 1;
            return result;
        }
        v6 = v11;
        v7 = v6 + 4;
    }
    // 0x10000342c
    _printf("First 36 strong primes:");
    int32_t v13 = 0;
    int32_t v14 = 1;
    int32_t * v15 = (int32_t *)(4 * (int64_t)v14 + v2); // 0x100003474
    int32_t v16 = *v15; // 0x100003474
    int32_t v17 = 2 * v16; // 0x10000347c
    int32_t v18 = 4 * v14; // 0x100003488
    int32_t v19 = *(int32_t *)((int64_t)(v18 + 4) + v2); // 0x10000349c
    int32_t v20 = v19 + *(int32_t *)((int64_t)(v18 - 4) + v2); // 0x1000034a0
    int32_t v21 = v17 - v20; // 0x1000034a4
    int32_t v22 = v13; // 0x1000034ac
    int32_t v23; // 0x10000329c
    int32_t v24; // 0x100003504
    int32_t v25; // 0x10000329c
    int32_t v26; // 0x10000329c
    if (v21 != 0 && v21 < 0 == ((v21 ^ v17) & (v20 ^ v17)) < 0) {
        // 0x1000034b4
        v23 = v16;
        v25 = v13;
        if (v13 < 36 != (35 - v13 & v13) < 0) {
            // 0x1000034c8
            _printf("  %d", 4);
            v23 = *v15;
            v25 = v13 + 1;
        }
        // 0x1000034fc
        v26 = v25;
        v24 = v23;
        v22 = v26;
        if (v24 < 0xf4240 == (0xf423f - v24 & v24) < 0) {
            // 0x10000353c
            v22 = v26;
            if (v24 < 0x989680 == (0x98967f - v24 & v24) < 0) {
                // break -> 0x100003590
                break;
            }
        }
    }
    int32_t v27 = v14 + 1; // 0x100003584
    while (v14 < 0xaae5e != (0xaae5d - v14 & v27) < 0) {
        // 0x10000346c
        v13 = v22;
        v14 = v27;
        v15 = (int32_t *)(4 * (int64_t)v14 + v2);
        v16 = *v15;
        v17 = 2 * v16;
        v18 = 4 * v14;
        v19 = *(int32_t *)((int64_t)(v18 + 4) + v2);
        v20 = v19 + *(int32_t *)((int64_t)(v18 - 4) + v2);
        v21 = v17 - v20;
        v22 = v13;
        if (v21 != 0 && v21 < 0 == ((v21 ^ v17) & (v20 ^ v17)) < 0) {
            // 0x1000034b4
            v23 = v16;
            v25 = v13;
            if (v13 < 36 != (35 - v13 & v13) < 0) {
                // 0x1000034c8
                _printf("  %d", 4);
                v23 = *v15;
                v25 = v13 + 1;
            }
            // 0x1000034fc
            v26 = v25;
            v24 = v23;
            v22 = v26;
            if (v24 < 0xf4240 == (0xf423f - v24 & v24) < 0) {
                // 0x10000353c
                v22 = v26;
                if (v24 < 0x989680 == (0x98967f - v24 & v24) < 0) {
                    // break -> 0x100003590
                    break;
                }
            }
        }
        // 0x100003580
        v27 = v14 + 1;
    }
    // 0x100003590
    _printf("\nThere are %d strong primes below 1,000,000", 4);
    _printf("\nThere are %d strong primes below 10,000,000\n\n", 4);
    _printf("First 37 weak primes:");
    int32_t v28 = 0;
    int32_t v29 = 1;
    int32_t * v30 = (int32_t *)(4 * (int64_t)v29 + v2); // 0x100003610
    int32_t v31 = *v30; // 0x100003610
    int32_t v32 = 2 * v31; // 0x100003618
    int32_t v33 = 4 * v29; // 0x100003624
    int32_t v34 = *(int32_t *)((int64_t)(v33 + 4) + v2); // 0x100003638
    int32_t v35 = v34 + *(int32_t *)((int64_t)(v33 - 4) + v2); // 0x10000363c
    int32_t v36 = v32 - v35; // 0x100003640
    int32_t v37 = v28; // 0x100003648
    int32_t v38; // 0x10000329c
    int32_t v39; // 0x1000036a0
    int32_t v40; // 0x10000329c
    int32_t v41; // 0x10000329c
    if (v36 < 0 != ((v36 ^ v32) & (v35 ^ v32)) < 0) {
        // 0x100003650
        v38 = v31;
        v40 = v28;
        if (v28 < 37 != (36 - v28 & v28) < 0) {
            // 0x100003664
            _printf("  %d", 4);
            v38 = *v30;
            v40 = v28 + 1;
        }
        // 0x100003698
        v41 = v40;
        v39 = v38;
        v37 = v41;
        if (v39 < 0xf4240 == (0xf423f - v39 & v39) < 0) {
            // 0x1000036d8
            v37 = v41;
            if (v39 < 0x989680 == (0x98967f - v39 & v39) < 0) {
                // break -> 0x10000372c
                break;
            }
        }
    }
    int32_t v42 = v29 + 1; // 0x100003720
    while (v29 < 0xaae5e != (0xaae5d - v29 & v42) < 0) {
        // 0x100003608
        v28 = v37;
        v29 = v42;
        v30 = (int32_t *)(4 * (int64_t)v29 + v2);
        v31 = *v30;
        v32 = 2 * v31;
        v33 = 4 * v29;
        v34 = *(int32_t *)((int64_t)(v33 + 4) + v2);
        v35 = v34 + *(int32_t *)((int64_t)(v33 - 4) + v2);
        v36 = v32 - v35;
        v37 = v28;
        if (v36 < 0 != ((v36 ^ v32) & (v35 ^ v32)) < 0) {
            // 0x100003650
            v38 = v31;
            v40 = v28;
            if (v28 < 37 != (36 - v28 & v28) < 0) {
                // 0x100003664
                _printf("  %d", 4);
                v38 = *v30;
                v40 = v28 + 1;
            }
            // 0x100003698
            v41 = v40;
            v39 = v38;
            v37 = v41;
            if (v39 < 0xf4240 == (0xf423f - v39 & v39) < 0) {
                // 0x1000036d8
                v37 = v41;
                if (v39 < 0x989680 == (0x98967f - v39 & v39) < 0) {
                    // break -> 0x10000372c
                    break;
                }
            }
        }
        // 0x10000371c
        v42 = v29 + 1;
    }
    // 0x10000372c
    _printf("\nThere are %d weak primes below 1,000,000", 4);
    _printf("\nThere are %d weak primes below 10,000,000\n\n", 4);
    _free(v1);
    result = 0;
  lab_0x100003774:
    // 0x100003774
    return result;
}

// Address range: 0x100003784 - 0x100003790
int64_t * function_100003784(int32_t nmemb, int32_t size) {
    // 0x100003784
    return _calloc(nmemb, size);
}

// Address range: 0x100003790 - 0x10000379c
void function_100003790(int64_t * ptr) {
    // 0x100003790
    _free(ptr);
}

// Address range: 0x10000379c - 0x1000037a8
int32_t function_10000379c(char * format, ...) {
    // 0x10000379c
    return _printf(format);
}

// --------------------- Meta-Information ---------------------

// Detected functions: 5

