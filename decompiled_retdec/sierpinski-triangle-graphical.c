//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
//

#include <stdbool.h>
#include <stdint.h>

// ---------------- Integer Types Definitions -----------------

typedef int64_t int128_t;

// ----------------- Float Types Definitions ------------------

typedef double float64_t;

// ------------------------ Structures ------------------------

struct _IO_FILE {
    int32_t e0;
};

// ------------------- Function Prototypes --------------------

int64_t entry_point(void);
int64_t function_100003620(void);
int64_t function_100003678(int64_t a1, int64_t a2);
int64_t function_100003890(void);
int64_t function_100003b20(void);
int64_t function_100003f00(int64_t a1, int64_t a2, int64_t a3, int64_t a4);
int32_t function_100003f0c(char * nptr);
int32_t function_100003f18(struct _IO_FILE * stream);
float64_t function_100003f24(float64_t a1, float64_t a2);
int32_t function_100003f30(struct _IO_FILE * stream, char * format, ...);
int32_t function_100003f3c(int64_t * ptr, int32_t size, int32_t n, struct _IO_FILE * s);
int64_t * function_100003f48(int32_t size);
int32_t function_100003f54(char * format, ...);

// --------------------- Global Variables ---------------------

float64_t g1 = 255.0; // 0x100003f60
float64_t g2 = 7.2912123841084054e-304; // 0x100008000
float64_t g3 = 4.2439915819305446e-314; // 0x100008008
int64_t g4 = 0x50800000012; // 0x100008010
int64_t g5 = 0x200085; // 0x100008018
int64_t g6 = 0x4800000019; // 0x100008020
char g7[11] = "__PAGEZERO"; // 0x100008028
char g8[3] = "RO"; // 0x100008030
int64_t g9 = 0; // 0x100008038
int32_t g10;

// ------- Dynamically Linked Functions Without Header --------

int64_t ___memset_chk(int64_t a1, int64_t a2, int64_t a3, int64_t a4);
int32_t _atoi(char * a1);
int32_t _fflush(struct _IO_FILE * a1);
float64_t _fmod(float64_t a1, float64_t a2);
int32_t _fprintf(struct _IO_FILE * a1, char * a2, ...);
int32_t _fwrite(int64_t * a1, int32_t a2, int32_t a3, struct _IO_FILE * a4);
int64_t * _malloc(int32_t a1);
int32_t _printf(char * a1, ...);

// ------------------------ Functions -------------------------

// Address range: 0x100003620 - 0x100003678
int64_t function_100003620(void) {
    // 0x100003620
    *(int64_t *)&g7 = 2 * *(int64_t *)&g7;
    *(int64_t *)&g8 = 2 * *(int64_t *)&g8;
    g9 *= 2;
    g3 = 3 * (int64_t)g3;
    int64_t result; // 0x100003620
    return result;
}

// Address range: 0x100003678 - 0x10000387c
int64_t function_100003678(int64_t a1, int64_t a2) {
    float64_t v1 = 6.0 * g2 / g3; // 0x1000036dc
    int128_t v2; // 0x100003678
    float64_t result = _fmod((float64_t)(int64_t)v2, (float64_t)(int64_t)v2); // 0x10000370c
    float64_t v3 = __asm_fabd(v1, 1.0); // 0x10000371c
    uint32_t v4 = (int32_t)v1; // 0x100003730
    if (v4 >= 4 != v4 != 4) {
        // 0x10000374c
        return result;
    }
    // 0x100003844
    int64_t v5; // 0x100003678
    int64_t v6 = *(int64_t *)(g6 + 8 * v5) + 24 * v5; // 0x1000036ac
    float64_t * v7 = (float64_t *)v6; // 0x1000036b0
    *v7 = *v7 + 1.0;
    float64_t * v8 = (float64_t *)(v6 + 16); // 0x100003860
    *v8 = 1.0 - v3 + *v8;
    return result;
}

// Address range: 0x100003890 - 0x100003b20
int64_t function_100003890(void) {
    // 0x100003890
    int64_t v1; // 0x100003890
    int64_t v2 = 1 << (v1 & 0xffffffff);
    int64_t v3; // 0x100003890
    int64_t v4; // 0x1000038c4
    int64_t v5; // 0x100003890
    int64_t v6; // 0x100003890
    int64_t result; // 0x100003890
    while (true) {
      lab_0x1000038a8_3:
        // 0x1000038a8
        result = v6;
        int64_t v7 = v3; // 0x100003890
        while (true) {
          lab_0x1000038a8:;
            char v8 = *(char *)v7; // 0x1000038ac
            if (v8 == 0) {
                return result;
            }
            // 0x1000038c0
            v4 = v7 + 1;
            v7 = v4;
            switch (v8) {
                case 72: {
                    int64_t v9 = v2 - 1; // 0x100003a88
                    g2 = (int64_t)g2 + 1;
                    int64_t v10 = function_100003678((int64_t)&g8, (int64_t)&g10); // 0x100003ae8
                    *(int64_t *)&g8 = *(int64_t *)&g8 - g4;
                    v5 = v10;
                    int64_t v11 = v9; // 0x100003a98
                    while (v9 != 0) {
                        // 0x100003aa0
                        v9 = v11 - 1;
                        g2 = (int64_t)g2 + 1;
                        v10 = function_100003678((int64_t)&g8, (int64_t)&g10);
                        *(int64_t *)&g8 = *(int64_t *)&g8 - g4;
                        v5 = v10;
                        v11 = v9;
                    }
                    goto lab_0x1000038a8_2;
                }
                case 86: {
                    int64_t v12 = v2 - 1; // 0x1000039e4
                    g2 = (int64_t)g2 + 1;
                    int64_t v13 = function_100003678((int64_t)&g9, (int64_t)&g10); // 0x100003a44
                    g9 += g5;
                    v5 = v13;
                    int64_t v14 = v12; // 0x1000039f4
                    while (v12 != 0) {
                        // 0x1000039fc
                        v12 = v14 - 1;
                        g2 = (int64_t)g2 + 1;
                        v13 = function_100003678((int64_t)&g9, (int64_t)&g10);
                        g9 += g5;
                        v5 = v13;
                        v14 = v12;
                    }
                    goto lab_0x1000038a8_2;
                }
                case 88: {
                    goto lab_0x10000390c;
                }
                default: {
                    goto lab_0x1000038a8;
                }
            }
        }
      lab_0x10000390c:
        if ((int32_t)v1 == 0) {
            // 0x100003938
            g2 = (int64_t)g2 + 1;
            int64_t v15 = function_100003678((int64_t)&g8, (int64_t)&g9); // 0x100003984
            *(int64_t *)&g8 = *(int64_t *)&g8 + g4;
            g9 -= g5;
            v5 = v15;
        } else {
            // 0x100003920
            v5 = function_100003890();
        }
        goto lab_0x1000038a8_2;
    }
    // 0x100003b14
    return result;
  lab_0x1000038a8_2:
    // 0x1000038a8
    v6 = v5;
    v3 = v4;
    goto lab_0x1000038a8_3;
}

// Address range: 0x100003b20 - 0x100003e48
int64_t function_100003b20(void) {
    // 0x100003b20
    int64_t v1; // 0x100003b20
    int64_t v2 = v1 + 20; // 0x100003b38
    int64_t v3 = v2 * v2;
    int64_t v4 = 24 * v3; // 0x100003b5c
    int32_t v5 = v4; // 0x100003b60
    int64_t v6 = (int64_t)_malloc(v5); // 0x100003b60
    int64_t * v7 = _malloc(8 * (int32_t)v2); // 0x100003b74
    g6 = (int64_t)v7;
    int64_t v8 = -20 - v1; // 0x100003b94
    if (v8 < 0 != (v8 & v2) < 0) {
        // 0x100003ba4
        *v7 = v6;
        int64_t v9 = -19 - v1; // 0x100003b94
        if (v9 < 0 != (v9 & v2) < 0) {
            int64_t v10 = 1;
            *(int64_t *)(8 * v10 + g6) = 24 * v2 * v10 + v6;
            int64_t v11 = v10 + 1; // 0x100003bdc
            int64_t v12 = v11 - v2; // 0x100003b94
            while (v12 < 0 != ((v12 ^ v11) & (v11 ^ v2)) < 0) {
                // 0x100003ba4
                v10 = v11;
                *(int64_t *)(8 * v10 + g6) = 24 * v2 * v10 + v6;
                v11 = v10 + 1;
                v12 = v11 - v2;
            }
        }
    }
    // 0x100003be8
    ___memset_chk(v6, 0, v4, -1);
    g9 = 10;
    *(int64_t *)&g8 = 10;
    *(int64_t *)&g7 = 1;
    g2 = 0.0;
    g3 = 1.4821969375237396e-323;
    int64_t v13 = 0x100000000 * v1;
    int64_t v14 = v13 >> 32; // 0x100003c80
    int64_t v15 = 0; // 0x100003c8c
    if (v13 > 0 != (v14 & -v14) < 0) {
        function_100003620();
        v15++;
        while (v15 - v14 < 0 != ((v15 - v14 ^ v15) & (v15 ^ v14)) < 0) {
            // 0x100003c94
            function_100003620();
            v15++;
        }
    }
    // 0x100003cac
    function_100003890();
    int32_t v16 = 3 * (int32_t)v3; // 0x100003cd4
    int64_t * v17 = _malloc(v16); // 0x100003cd4
    float64_t v18 = 0.0; // bp-80, 0x100003ce4
    int64_t v19 = 3 * v3; // 0x100003cfc
    int64_t v20 = v19 - 1;
    if (v20 >= 0) {
        int64_t v21 = (int64_t)v17; // 0x100003cd4
        int64_t v22 = v20;
        float64_t v23 = 0.0; // 0x100003d2c
        float64_t v24 = 0.0;
        int64_t v25 = 8 * v22 + v6; // 0x100003d28
        float64_t v26 = *(float64_t *)v25; // 0x100003d28
        float64_t v27 = v24; // 0x100003d30
        float64_t v28 = v23; // 0x100003d30
        int64_t v29; // 0x100003b20
        if (v26 != v23) {
            v27 = v24;
            v28 = v23;
            if (v26 > v23 == v26 >= v23 == v26 <= v23) {
                // 0x100003d40
                v29 = *(int64_t *)v25;
                v18 = v29;
                v27 = v29;
                v28 = v29;
            }
        }
        float64_t v30 = v27;
        v22--;
        while (v22 >= 0) {
            // 0x100003d20
            v23 = v28;
            v24 = v30;
            v25 = 8 * v22 + v6;
            v26 = *(float64_t *)v25;
            v27 = v24;
            v28 = v23;
            if (v26 != v23) {
                v27 = v24;
                v28 = v23;
                if (v26 > v23 == v26 >= v23 == v26 <= v23) {
                    // 0x100003d40
                    v29 = *(int64_t *)v25;
                    v18 = v29;
                    v27 = v29;
                    v28 = v29;
                }
            }
            // 0x100003d58
            v30 = v27;
            v22--;
        }
        float64_t v31 = *(float64_t *)(8 * v20 + v6); // 0x100003da4
        *(char *)(v20 + v21) = (char)(int32_t)(v31 * g1 / v30);
        int64_t v32 = v19 - 2;
        if (v32 >= 0) {
            float64_t v33 = *(float64_t *)(8 * v32 + v6); // 0x100003da4
            *(char *)(v32 + v21) = (char)(int32_t)(v33 * g1 / v18);
            int64_t v34 = v32 - 1;
            int64_t v35 = v34; // 0x100003d94
            while (v34 >= 0) {
                // 0x100003d9c
                v33 = *(float64_t *)(8 * v35 + v6);
                *(char *)(v35 + v21) = (char)(int32_t)(v33 * g1 / v18);
                v34 = v35 - 1;
                v35 = v34;
            }
        }
    }
    // 0x100003de0
    _printf("P6\n%ld %ld\n255\n", (int32_t)v1, v5);
    int64_t * v36 = (int64_t *)*(int64_t *)0x100004010; // 0x100003e0c
    _fflush((struct _IO_FILE *)*v36);
    return _fwrite(v17, v16, 1, (struct _IO_FILE *)*v36);
}

// Address range: 0x100003e48 - 0x100003f00
int64_t entry_point(void) {
    // 0x100003e48
    int64_t v1; // 0x100003e48
    int32_t v2 = v1; // 0x100003e58
    int32_t v3 = v2 - 1; // 0x100003e64
    if (v3 != 0 && v3 < 0 == (v2 & -v2) < 0) {
        // 0x100003e74
        _atoi((char *)*(int64_t *)(v1 + 8));
    }
    int64_t v4 = *(int64_t *)*(int64_t *)0x100004008; // 0x100003eb4
    _fprintf((struct _IO_FILE *)v4, "size: %d depth: %d\n", v1, v1);
    function_100003b20();
    return 0;
}

// Address range: 0x100003f00 - 0x100003f0c
int64_t function_100003f00(int64_t a1, int64_t a2, int64_t a3, int64_t a4) {
    // 0x100003f00
    return ___memset_chk(a1, a2, a3, a4);
}

// Address range: 0x100003f0c - 0x100003f18
int32_t function_100003f0c(char * nptr) {
    // 0x100003f0c
    return _atoi(nptr);
}

// Address range: 0x100003f18 - 0x100003f24
int32_t function_100003f18(struct _IO_FILE * stream) {
    // 0x100003f18
    return _fflush(stream);
}

// Address range: 0x100003f24 - 0x100003f30
float64_t function_100003f24(float64_t a1, float64_t a2) {
    // 0x100003f24
    return _fmod(a1, a2);
}

// Address range: 0x100003f30 - 0x100003f3c
int32_t function_100003f30(struct _IO_FILE * stream, char * format, ...) {
    // 0x100003f30
    return _fprintf(stream, format);
}

// Address range: 0x100003f3c - 0x100003f48
int32_t function_100003f3c(int64_t * ptr, int32_t size, int32_t n, struct _IO_FILE * s) {
    // 0x100003f3c
    return _fwrite(ptr, size, n, s);
}

// Address range: 0x100003f48 - 0x100003f54
int64_t * function_100003f48(int32_t size) {
    // 0x100003f48
    return _malloc(size);
}

// Address range: 0x100003f54 - 0x100003f60
int32_t function_100003f54(char * format, ...) {
    // 0x100003f54
    return _printf(format);
}

// --------------------- Meta-Information ---------------------

// Detected functions: 13

