//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
//

#include <stdint.h>

// ---------------- Integer Types Definitions -----------------

typedef int64_t int128_t;

// ----------------- Float Types Definitions ------------------

typedef double float64_t;

// ------------------------ Structures ------------------------

struct _IO_FILE {
    int32_t e0;
};

// ------------------- Function Prototypes --------------------

int64_t entry_point(void);
int64_t function_100003b8c(int64_t a1, int64_t a2);
int64_t function_100003f0c(int64_t a1, int64_t a2, int64_t a3, int64_t a4);
int32_t function_100003f18(struct _IO_FILE * stream);
float64_t function_100003f24(float64_t a1, float64_t a2);
struct _IO_FILE * function_100003f30(char * filename, char * modes);
int32_t function_100003f3c(struct _IO_FILE * stream, char * format, ...);
int32_t function_100003f48(int64_t * ptr, int32_t size, int32_t n, struct _IO_FILE * s);
int64_t * function_100003f54(int32_t size);

// --------------------- Global Variables ---------------------

float64_t g1 = 60.0; // 0x100003f60
int32_t g2;

// ------- Dynamically Linked Functions Without Header --------

int64_t ___memcpy_chk(int64_t a1, int64_t a2, int64_t a3, int64_t a4);
int32_t _fclose(struct _IO_FILE * a1);
float64_t _fmod(float64_t a1, float64_t a2);
struct _IO_FILE * _fopen(char * a1, char * a2);
int32_t _fprintf(struct _IO_FILE * a1, char * a2, ...);
int32_t _fwrite(int64_t * a1, int32_t a2, int32_t a3, struct _IO_FILE * a4);
int64_t * _malloc(int32_t a1);

// ------------------------ Functions -------------------------

// Address range: 0x100003b8c - 0x100003d34
int64_t function_100003b8c(int64_t a1, int64_t a2) {
    // 0x100003b8c
    int128_t v1; // 0x100003b8c
    float64_t result = _fmod((float64_t)(int64_t)v1, (float64_t)(int64_t)v1); // 0x100003bdc
    float64_t v2; // 0x100003b8c
    __asm_fabd(v2 / g1, 1.0);
    return result;
}

// Address range: 0x100003d4c - 0x100003f0c
int64_t entry_point(void) {
    int64_t * v1 = _malloc(1536); // 0x100003d68
    int64_t * v2 = _malloc(0xc0000); // 0x100003d74
    int32_t v3 = 0;
    __asm_sshll(0.0f, 0);
    __asm_sshll(0.0f, 0);
    function_100003b8c((int64_t)&g2, (int64_t)&g2);
    int32_t v4 = v3 + 1; // 0x100003dfc
    while (v3 < 511 != (510 - v3 & v4) < 0) {
        // 0x100003d98
        v3 = v4;
        __asm_sshll(0.0f, 0);
        __asm_sshll(0.0f, 0);
        function_100003b8c((int64_t)&g2, (int64_t)&g2);
        v4 = v3 + 1;
    }
    int64_t v5 = (int64_t)v2; // 0x100003e88
    int32_t v6 = 0;
    int32_t v7 = 0;
    ___memcpy_chk(v5, (int64_t)(3 * (v7 ^ v6)) + (int64_t)v1, 3, -1);
    int32_t v8 = v7 + 1; // 0x100003e7c
    v5 += 3;
    while (v7 < 511 != (510 - v7 & v8) < 0) {
        // 0x100003e48
        v7 = v8;
        ___memcpy_chk(v5, (int64_t)(3 * (v7 ^ v6)) + (int64_t)v1, 3, -1);
        v8 = v7 + 1;
        v5 += 3;
    }
    int32_t v9 = v6 + 1; // 0x100003e9c
    while (v6 < 511 != (510 - v6 & v9) < 0) {
        // 0x100003e34
        v6 = v9;
        v7 = 0;
        ___memcpy_chk(v5, (int64_t)(3 * (v7 ^ v6)) + (int64_t)v1, 3, -1);
        v8 = v7 + 1;
        v5 += 3;
        while (v7 < 511 != (510 - v7 & v8) < 0) {
            // 0x100003e48
            v7 = v8;
            ___memcpy_chk(v5, (int64_t)(3 * (v7 ^ v6)) + (int64_t)v1, 3, -1);
            v8 = v7 + 1;
            v5 += 3;
        }
        // 0x100003e98
        v9 = v6 + 1;
    }
    struct _IO_FILE * v10 = _fopen("xor.ppm", "wb"); // 0x100003eb8
    _fprintf(v10, "P6\n%d %d\n255\n", 3, -1);
    _fwrite(v2, 0xc0000, 1, v10);
    _fclose(v10);
    return 0;
}

// Address range: 0x100003f0c - 0x100003f18
int64_t function_100003f0c(int64_t a1, int64_t a2, int64_t a3, int64_t a4) {
    // 0x100003f0c
    return ___memcpy_chk(a1, a2, a3, a4);
}

// Address range: 0x100003f18 - 0x100003f24
int32_t function_100003f18(struct _IO_FILE * stream) {
    // 0x100003f18
    return _fclose(stream);
}

// Address range: 0x100003f24 - 0x100003f30
float64_t function_100003f24(float64_t a1, float64_t a2) {
    // 0x100003f24
    return _fmod(a1, a2);
}

// Address range: 0x100003f30 - 0x100003f3c
struct _IO_FILE * function_100003f30(char * filename, char * modes) {
    // 0x100003f30
    return _fopen(filename, modes);
}

// Address range: 0x100003f3c - 0x100003f48
int32_t function_100003f3c(struct _IO_FILE * stream, char * format, ...) {
    // 0x100003f3c
    return _fprintf(stream, format);
}

// Address range: 0x100003f48 - 0x100003f54
int32_t function_100003f48(int64_t * ptr, int32_t size, int32_t n, struct _IO_FILE * s) {
    // 0x100003f48
    return _fwrite(ptr, size, n, s);
}

// Address range: 0x100003f54 - 0x100003f60
int64_t * function_100003f54(int32_t size) {
    // 0x100003f54
    return _malloc(size);
}

// --------------------- Meta-Information ---------------------

// Detected functions: 9

