//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
//

#include <stdbool.h>
#include <stdint.h>

// ------------------------ Structures ------------------------

struct _IO_FILE {
    int32_t e0;
};

// ------------------- Function Prototypes --------------------

int64_t entry_point(void);
int64_t function_100003718(void);
int64_t function_1000039d4(void);
int64_t function_100003cc8(void);
int64_t function_100003ecc(int64_t a1, int64_t a2, int64_t a3, int64_t a4);
int32_t function_100003ed8(char * nptr);
int32_t function_100003ee4(struct _IO_FILE * stream);
int32_t function_100003ef0(void);
int64_t * function_100003efc(int32_t size);
int32_t function_100003f08(char * format, ...);
int32_t function_100003f14(int32_t useconds);

// --------------------- Global Variables ---------------------

char * g1 = "\x1b[H\x1b[J\x1b[%d;%dH\x1b[32m[]\x1b[m"; // 0x100003f20
char * g2 = "\x1b[%dH"; // 0x100003f39
char * g3 = "\x1b[%d;%dH[]"; // 0x100003f3f
char * g4 = "\x1b[%d;%dH\x1b[31m[]\x1b[m"; // 0x100003f4a
int32_t * g5 = (int32_t *)-0x100000002; // 0x100008000
int32_t * g6 = (int32_t *)0x1ffffffff; // 0x100008020

// ------- Dynamically Linked Functions Without Header --------

int64_t ___memset_chk(int64_t a1, int64_t a2, int64_t a3, int64_t a4);
int32_t _atoi(char * a1);
int32_t _fflush(struct _IO_FILE * a1);
int32_t _getchar(void);
int64_t * _malloc(int32_t a1);
int32_t _printf(char * a1, ...);
int32_t _usleep(int32_t a1);

// ------------------------ Functions -------------------------

// Address range: 0x100003718 - 0x1000039d4
int64_t function_100003718(void) {
    // 0x100003718
    int64_t v1; // 0x100003718
    int64_t v2 = v1;
    int32_t v3 = v1; // 0x100003724
    int32_t v4 = v1; // 0x100003728
    int32_t v5 = v3 + 4; // 0x100003738
    int32_t v6 = v4 + 4; // 0x100003744
    *(int64_t *)v2 = 8 * (int64_t)v6 + v2;
    *(int64_t *)v1 = v2 + 2;
    int32_t v7 = -3 - v4; // 0x100003788
    if (v7 < 0 != (v7 & v6) < 0) {
        int32_t v8 = 1; // 0x1000037e0
        int64_t v9 = *(int64_t *)(v2 + (int64_t)(8 * v8 - 8)) + (int64_t)v5; // 0x1000037ac
        int64_t v10 = 8 * (int64_t)v8; // 0x1000037b8
        *(int64_t *)(v10 + v2) = v9;
        *(int64_t *)(v10 + v1) = v9 + 2;
        v8++;
        while (v8 - v6 < 0 != ((v8 - v6 ^ v8) & (v8 ^ v6)) < 0) {
            // 0x100003798
            v9 = *(int64_t *)(v2 + (int64_t)(8 * v8 - 8)) + (int64_t)v5;
            v10 = 8 * (int64_t)v8;
            *(int64_t *)(v10 + v2) = v9;
            *(int64_t *)(v10 + v1) = v9 + 2;
            v8++;
        }
    }
    int64_t result = ___memset_chk(v2, 255, (int64_t)(v5 * v6), -1); // 0x100003810
    int32_t v11 = -v4; // 0x100003824
    if (v11 < 0 == (v11 & v4) < 0) {
        // 0x1000039c8
        return result;
    }
    int32_t v12 = -v3; // 0x100003844
    int32_t v13 = 0;
    char v14; // 0x100003718
    int64_t * v15; // 0x1000038b4
    int64_t v16; // 0x1000038b8
    int64_t v17; // 0x100003880
    int32_t v18; // 0x10000389c
    char * v19; // 0x1000038bc
    uint32_t v20; // 0x100003884
    char * v21; // 0x100003980
    int32_t v22; // 0x1000038a0
    int32_t v23; // 0x100003914
    int32_t v24; // 0x1000039a8
    int32_t v25; // 0x100003950
    if (v12 < 0 != (v12 & v3) < 0) {
        // 0x10000385c
        v15 = (int64_t *)(v1 + (int64_t)(8 * v13 + 16));
        v24 = 0;
        v16 = v24;
        for (int64_t i = 0; i < 8; i++) {
            // 0x100003870
            v17 = 4 * i;
            v18 = *(int32_t *)(v17 + (int64_t)&g6);
            v19 = (char *)(*v15 + v16);
            if (*v19 == -1) {
                // 0x1000038d0
                *v19 = 0;
            }
            // 0x1000038f0
            v20 = *(int32_t *)(v17 + (int64_t)&g5) + v24;
            v14 = 0;
            if (v20 >= 0) {
                // 0x10000390c
                v22 = v18 + v13;
                v23 = v20 - v3;
                v14 = 0;
                if (v22 >= 0 && v23 < 0 != ((v23 ^ v20) & (v20 ^ v3)) < 0) {
                    // 0x100003948
                    v25 = v22 - v4;
                    v14 = v25 < 0 != ((v25 ^ v22) & (v22 ^ v4)) < 0;
                }
            }
            // 0x100003960
            v21 = (char *)(*v15 + v16);
            *v21 = *v21 + v14;
        }
        // 0x1000039a4
        v24++;
        while (v24 - v3 < 0 != ((v24 - v3 ^ v24) & (v24 ^ v3)) < 0) {
            // 0x10000385c
            v16 = v24;
            for (int64_t i = 0; i < 8; i++) {
                // 0x100003870
                v17 = 4 * i;
                v18 = *(int32_t *)(v17 + (int64_t)&g6);
                v19 = (char *)(*v15 + v16);
                if (*v19 == -1) {
                    // 0x1000038d0
                    *v19 = 0;
                }
                // 0x1000038f0
                v20 = *(int32_t *)(v17 + (int64_t)&g5) + v24;
                v14 = 0;
                if (v20 >= 0) {
                    // 0x10000390c
                    v22 = v18 + v13;
                    v23 = v20 - v3;
                    v14 = 0;
                    if (v22 >= 0 && v23 < 0 != ((v23 ^ v20) & (v20 ^ v3)) < 0) {
                        // 0x100003948
                        v25 = v22 - v4;
                        v14 = v25 < 0 != ((v25 ^ v22) & (v22 ^ v4)) < 0;
                    }
                }
                // 0x100003960
                v21 = (char *)(*v15 + v16);
                *v21 = *v21 + v14;
            }
            // 0x1000039a4
            v24++;
        }
    }
    int32_t v26 = v13 + 1; // 0x1000039bc
    while (v26 - v4 < 0 != ((v26 - v4 ^ v26) & (v26 ^ v4)) < 0) {
        // 0x10000383c
        v13 = v26;
        if (v12 < 0 != (v12 & v3) < 0) {
            // 0x10000385c
            v15 = (int64_t *)(v1 + (int64_t)(8 * v13 + 16));
            v24 = 0;
            v16 = v24;
            for (int64_t i = 0; i < 8; i++) {
                // 0x100003870
                v17 = 4 * i;
                v18 = *(int32_t *)(v17 + (int64_t)&g6);
                v19 = (char *)(*v15 + v16);
                if (*v19 == -1) {
                    // 0x1000038d0
                    *v19 = 0;
                }
                // 0x1000038f0
                v20 = *(int32_t *)(v17 + (int64_t)&g5) + v24;
                v14 = 0;
                if (v20 >= 0) {
                    // 0x10000390c
                    v22 = v18 + v13;
                    v23 = v20 - v3;
                    v14 = 0;
                    if (v22 >= 0 && v23 < 0 != ((v23 ^ v20) & (v20 ^ v3)) < 0) {
                        // 0x100003948
                        v25 = v22 - v4;
                        v14 = v25 < 0 != ((v25 ^ v22) & (v22 ^ v4)) < 0;
                    }
                }
                // 0x100003960
                v21 = (char *)(*v15 + v16);
                *v21 = *v21 + v14;
            }
            // 0x1000039a4
            v24++;
            while (v24 - v3 < 0 != ((v24 - v3 ^ v24) & (v24 ^ v3)) < 0) {
                // 0x10000385c
                v16 = v24;
                for (int64_t i = 0; i < 8; i++) {
                    // 0x100003870
                    v17 = 4 * i;
                    v18 = *(int32_t *)(v17 + (int64_t)&g6);
                    v19 = (char *)(*v15 + v16);
                    if (*v19 == -1) {
                        // 0x1000038d0
                        *v19 = 0;
                    }
                    // 0x1000038f0
                    v20 = *(int32_t *)(v17 + (int64_t)&g5) + v24;
                    v14 = 0;
                    if (v20 >= 0) {
                        // 0x10000390c
                        v22 = v18 + v13;
                        v23 = v20 - v3;
                        v14 = 0;
                        if (v22 >= 0 && v23 < 0 != ((v23 ^ v20) & (v20 ^ v3)) < 0) {
                            // 0x100003948
                            v25 = v22 - v4;
                            v14 = v25 < 0 != ((v25 ^ v22) & (v22 ^ v4)) < 0;
                        }
                    }
                    // 0x100003960
                    v21 = (char *)(*v15 + v16);
                    *v21 = *v21 + v14;
                }
                // 0x1000039a4
                v24++;
            }
        }
        // 0x1000039b8
        v26 = v13 + 1;
    }
    // 0x1000039c8
    return result;
}

// Address range: 0x1000039d4 - 0x100003cc8
int64_t function_1000039d4(void) {
    // 0x1000039d4
    _printf((char *)&g1);
    int32_t v1 = 0; // 0x100003a30
    int64_t v2; // 0x1000039d4
    int32_t v3 = v2; // 0x100003a30
    int32_t v4 = v2; // 0x100003a30
    int64_t v5; // 0x1000039d4
    int32_t v6; // 0x1000039d4
    int32_t v7; // 0x1000039d4
    int32_t v8; // 0x1000039d4
    int32_t v9; // 0x1000039d4
    int32_t v10; // 0x1000039d4
    int32_t v11; // 0x1000039d4
    while (true) {
      lab_0x100003a34:
        // 0x100003a34
        v11 = v1;
        int64_t v12 = *(int64_t *)(8 * (int64_t)v3 + v2); // 0x100003a3c
        *(char *)(v12 + (int64_t)v4) = -1;
        int64_t v13 = 0;
        while (true) {
            int64_t v14 = 4 * v13; // 0x100003a80
            int32_t v15 = *(int32_t *)(v14 + (int64_t)&g6); // 0x100003a80
            int64_t v16 = *(int64_t *)(v2 + (int64_t)(8 * (v15 + v3))); // 0x100003a88
            int32_t v17 = *(int32_t *)(v14 + (int64_t)&g5); // 0x100003a9c
            char * v18 = (char *)(v16 + (int64_t)(v17 + v4)); // 0x100003aa8
            *v18 = *v18 - 1;
            v13++;
            v5 = 0;
            v9 = v8;
            v7 = v6;
            v10 = 255;
            if (v13 == 8) {
                goto lab_0x100003af0;
            }
        }
        goto lab_0x100003ba8;
    }
  lab_0x100003bbc:
    // 0x100003bbc
    _printf((char *)&g2);
    return v11 == (int32_t)v2 * (int32_t)v2 - 1;
  lab_0x100003af0:;
    int64_t v19 = 4 * v5; // 0x100003b04
    int32_t v20 = *(int32_t *)(v19 + (int64_t)&g6); // 0x100003b04
    int32_t v21 = v20 + v3; // 0x100003b08
    int64_t v22 = *(int64_t *)(v2 + (int64_t)(8 * v21)); // 0x100003b0c
    int32_t v23 = *(int32_t *)(v19 + (int64_t)&g5); // 0x100003b20
    int32_t v24 = v23 + v4; // 0x100003b24
    int32_t v25 = (int32_t)*(char *)(v22 + (int64_t)v24) - v10; // 0x100003b30
    int32_t v26 = v10; // 0x100003b38
    int32_t v27 = v7; // 0x100003b38
    int32_t v28 = v9; // 0x100003b38
    if (v25 < 0 == (v25 & v10) < 0) {
        goto lab_0x100003b98;
    } else {
        int64_t v29 = *(int64_t *)(8 * (int64_t)v21 + v2); // 0x100003b80
        v26 = (int32_t)*(char *)(v29 + (int64_t)v24);
        v27 = v24;
        v28 = v21;
        goto lab_0x100003b98;
    }
  lab_0x100003ba8:;
    // 0x100003ba8
    int32_t v30; // 0x1000039d4
    int32_t v31 = v30 - 7; // 0x100003bac
    if (v31 != 0 && v31 < 0 == (6 - v30 & v30) < 0) {
        // break -> 0x100003bbc
        goto lab_0x100003bbc;
    }
    if (v11 != 0) {
        // 0x100003c24
        _printf((char *)&g3);
    }
    // 0x100003c60
    _printf((char *)&g4);
    _fflush((struct _IO_FILE *)*(int64_t *)*(int64_t *)0x100004008);
    _usleep(0x1d4c0);
    v1 = v11 + 1;
    v6 = v4;
    v8 = v3;
    goto lab_0x100003a34;
  lab_0x100003b98:
    // 0x100003b98
    v3 = v28;
    v4 = v27;
    v30 = v26;
    int64_t v32 = v5 + 1;
    v5 = v32;
    v9 = v3;
    v7 = v4;
    v10 = v30;
    if (v32 == 8) {
        goto lab_0x100003ba8;
    } else {
        goto lab_0x100003af0;
    }
}

// Address range: 0x100003cc8 - 0x100003e18
int64_t function_100003cc8(void) {
    // 0x100003cc8
    int64_t v1; // 0x100003cc8
    int32_t v2 = v1; // 0x100003cd4
    int32_t v3 = v1; // 0x100003cd8
    uint64_t v4 = (0x100000000 * v1 + 0x400000000) / 0x20000000;
    _malloc((int32_t)(v4 + (v1 + 4) * (v1 + 4)));
    _malloc((int32_t)v4);
    function_100003718();
    int32_t v5 = 0; // 0x100003d74
    if ((int32_t)function_1000039d4() != 0) {
      lab_0x100003d7c:
        // 0x100003d7c
        _printf("Success!\n");
        // 0x100003e08
        return 1;
    }
    int32_t v6 = 1; // 0x100003d98
    int32_t v7 = v6 - v2; // 0x100003da4
    v5 += (int32_t)(v7 < 0 == ((v7 ^ v6) & (v6 ^ v2)) < 0);
    while (v5 - v3 < 0 != ((v5 - v3 ^ v5) & (v5 ^ v3)) < 0) {
        // 0x100003df4
        _printf("Any key to try next start position");
        _getchar();
        function_100003718();
        if ((int32_t)function_1000039d4() != 0) {
            goto lab_0x100003d7c;
        }
        v6 = (v7 < 0 == ((v7 ^ v6) & (v6 ^ v2)) < 0 ? 0 : v6) + 1;
        v7 = v6 - v2;
        v5 += (int32_t)(v7 < 0 == ((v7 ^ v6) & (v6 ^ v2)) < 0);
    }
    // 0x100003de0
    _printf("Failed to find a solution\n");
    // 0x100003e08
    return 0;
}

// Address range: 0x100003e18 - 0x100003ecc
int64_t entry_point(void) {
    // 0x100003e18
    int64_t v1; // 0x100003e18
    int32_t v2 = v1; // 0x100003e28
    if (v2 < 2 == (1 - v2 & v2) < 0) {
        // 0x100003e44
        _atoi((char *)*(int64_t *)(v1 + 8));
    }
    if (v2 < 3 == (2 - v2 & v2) < 0) {
        // 0x100003e84
        _atoi((char *)*(int64_t *)(v1 + 16));
    }
    // 0x100003eb0
    function_100003cc8();
    return 0;
}

// Address range: 0x100003ecc - 0x100003ed8
int64_t function_100003ecc(int64_t a1, int64_t a2, int64_t a3, int64_t a4) {
    // 0x100003ecc
    return ___memset_chk(a1, a2, a3, a4);
}

// Address range: 0x100003ed8 - 0x100003ee4
int32_t function_100003ed8(char * nptr) {
    // 0x100003ed8
    return _atoi(nptr);
}

// Address range: 0x100003ee4 - 0x100003ef0
int32_t function_100003ee4(struct _IO_FILE * stream) {
    // 0x100003ee4
    return _fflush(stream);
}

// Address range: 0x100003ef0 - 0x100003efc
int32_t function_100003ef0(void) {
    // 0x100003ef0
    return _getchar();
}

// Address range: 0x100003efc - 0x100003f08
int64_t * function_100003efc(int32_t size) {
    // 0x100003efc
    return _malloc(size);
}

// Address range: 0x100003f08 - 0x100003f14
int32_t function_100003f08(char * format, ...) {
    // 0x100003f08
    return _printf(format);
}

// Address range: 0x100003f14 - 0x100003f20
int32_t function_100003f14(int32_t useconds) {
    // 0x100003f14
    return _usleep(useconds);
}

// --------------------- Meta-Information ---------------------

// Detected functions: 11

