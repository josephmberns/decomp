//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
//

#include <stdbool.h>
#include <stdint.h>

// ------------------- Function Prototypes --------------------

int64_t entry_point(void);
int64_t function_100003808(void);
int64_t function_100003968(void);
int64_t function_100003aa0(void);
int64_t function_100003c10(void);
int64_t function_100003cc8(void);
int64_t function_100003eec(int64_t a1);
int32_t function_100003ef8(char * format, ...);
int32_t function_100003f04(int32_t c);
int32_t function_100003f10(void);

// --------------------- Global Variables ---------------------

int64_t g1 = 0x100000cfeedfacf; // 0x100008060

// ------- Dynamically Linked Functions Without Header --------

int64_t ___stack_chk_fail(int64_t a1);
int32_t _printf(char * a1, ...);
int32_t _putchar(int32_t a1);
int32_t _rand(void);

// ------------------------ Functions -------------------------

// Address range: 0x100003808 - 0x100003968
int64_t function_100003808(void) {
    for (int64_t i = 0; i < 81; i++) {
        int64_t v1 = 324 * i + (int64_t)&g1; // 0x100003908
        for (int64_t j = 0; j < 81; j++) {
            int32_t * v2 = (int32_t *)(v1 + 4 * j); // 0x100003914
            int32_t v3 = 27;
            int32_t v4 = (int32_t)i / v3 % 3;
            int32_t v5 = (int32_t)j / v3 % 3;
            int32_t v6 = (v4 == v5 ? v4 : 3 - v4 - v5) * v3 + *v2; // 0x100003918
            int32_t v7 = v6; // 0x10000385c
            int32_t v8 = v3 / 3; // 0x10000385c
            while (v3 >= 3) {
                // 0x100003864
                v3 = v8;
                v4 = (int32_t)i / v3 % 3;
                v5 = (int32_t)j / v3 % 3;
                v6 = (v4 == v5 ? v4 : 3 - v4 - v5) * v3 + v7;
                v7 = v6;
                v8 = v3 / 3;
            }
            // 0x10000393c
            *v2 = v6;
        }
    }
    // 0x100003960
    int64_t result; // 0x100003808
    return result;
}

// Address range: 0x100003968 - 0x100003aa0
int64_t function_100003968(void) {
    // 0x100003968
    int64_t v1; // bp-364, 0x100003968
    int64_t v2 = &v1;
    int64_t v3 = 0;
    *(int32_t *)(4 * v3 + v2) = (int32_t)v3;
    int64_t v4 = v3 + 1;
    while (v4 != 81) {
        // 0x1000039ac
        v3 = v4;
        *(int32_t *)(4 * v3 + v2) = (int32_t)v3;
        v4 = v3 + 1;
    }
    // 0x1000039d8
    int64_t v5; // 0x100003968
    int32_t v6 = v5; // 0x10000398c
    int32_t v7 = -v6; // 0x1000039e0
    int64_t v8; // 0x100003968
    if (v7 < 0 != (v7 & v6) < 0) {
        int32_t v9 = 0;
        int32_t v10 = _rand(); // 0x1000039f8
        int64_t v11 = 4 * (int64_t)v9; // 0x100003a28
        int32_t * v12 = (int32_t *)(v11 + v2); // 0x100003a28
        int32_t * v13 = (int32_t *)(4 * (int64_t)(v10 % (81 - v9) + v9) + v2); // 0x100003a34
        int32_t v14 = *v13; // 0x100003a34
        *(int32_t *)(v11 + v5) = v14;
        *v12 = v14;
        *v13 = *v12;
        int32_t v15 = v9 + 1; // 0x100003a60
        while (v15 - v6 < 0 != ((v15 - v6 ^ v15) & (v15 ^ v6)) < 0) {
            // 0x1000039f0
            v9 = v15;
            v10 = _rand();
            v11 = 4 * (int64_t)v9;
            v12 = (int32_t *)(v11 + v2);
            v13 = (int32_t *)(4 * (int64_t)(v10 % (81 - v9) + v9) + v2);
            v14 = *v13;
            *(int32_t *)(v11 + v5) = v14;
            *v12 = v14;
            *v13 = *v12;
            v15 = v9 + 1;
        }
        // 0x1000039d8
        v8 = v10;
    }
    int64_t v16 = *(int64_t *)0x100004008; // 0x100003a74
    int64_t result = v8; // 0x100003a84
    if (*(int64_t *)v16 != *(int64_t *)*(int64_t *)0x100004008) {
        // 0x100003a8c
        result = ___stack_chk_fail(v8);
    }
    // 0x100003a90
    return result;
}

// Address range: 0x100003aa0 - 0x100003c10
int64_t function_100003aa0(void) {
    // 0x100003aa0
    int64_t v1; // 0x100003aa0
    int32_t v2 = v1; // 0x100003aa8
    int32_t v3 = -v2; // 0x100003ac4
    if (v3 < 0 == (v3 & v2) < 0) {
        // 0x100003c04
        return 0;
    }
    int32_t v4 = 1 - v2;
    int32_t result = 0; // 0x100003af4
    if (v4 < 0 == (v4 & v2) < 0) {
        // 0x100003c04
        return 0;
    }
    int32_t v5 = 0;
    int32_t v6 = 1;
    int32_t v7 = v6 + 1;
    int32_t v8 = v7 - v2;
    while (v8 < 0 != ((v8 ^ v7) & (v7 ^ v2)) < 0) {
        int32_t v9 = v6;
        int32_t v10 = v7;
        int32_t v11 = result;
        int32_t v12 = v10;
        int32_t v13 = *(int32_t *)(4 * (int64_t)v5 + v1); // 0x100003b2c
        int32_t v14 = *(int32_t *)(4 * (int64_t)v9 + v1); // 0x100003b4c
        int32_t v15 = *(int32_t *)(324 * (int64_t)v13 + (int64_t)&g1 + 4 * (int64_t)v14); // 0x100003b50
        int32_t v16 = v11; // 0x100003b68
        int64_t v17; // 0x100003b84
        if (v15 == *(int32_t *)(4 * (int64_t)v12 + v1)) {
            // 0x100003b70
            v17 = 12 * (int64_t)v11 + v1;
            *(int32_t *)v17 = v5;
            *(int32_t *)(v17 + 4) = v9;
            *(int32_t *)(v17 + 8) = v12;
            v16 = v11 + 1;
        }
        // 0x100003bcc
        result = v16;
        int32_t v18 = v12 + 1;
        while (v18 - v2 < 0 != ((v18 - v2 ^ v18) & (v18 ^ v2)) < 0) {
            // 0x100003b24
            v11 = result;
            v12 = v18;
            v13 = *(int32_t *)(4 * (int64_t)v5 + v1);
            v14 = *(int32_t *)(4 * (int64_t)v9 + v1);
            v15 = *(int32_t *)(324 * (int64_t)v13 + (int64_t)&g1 + 4 * (int64_t)v14);
            v16 = v11;
            if (v15 == *(int32_t *)(4 * (int64_t)v12 + v1)) {
                // 0x100003b70
                v17 = 12 * (int64_t)v11 + v1;
                *(int32_t *)v17 = v5;
                *(int32_t *)(v17 + 4) = v9;
                *(int32_t *)(v17 + 8) = v12;
                v16 = v11 + 1;
            }
            // 0x100003bcc
            result = v16;
            v18 = v12 + 1;
        }
        int32_t v19 = v10 + 1;
        while (v19 - v2 < 0 != ((v19 - v2 ^ v19) & (v19 ^ v2)) < 0) {
            // 0x100003b24
            v9 = v10;
            v10 = v19;
            v11 = result;
            v12 = v10;
            v13 = *(int32_t *)(4 * (int64_t)v5 + v1);
            v14 = *(int32_t *)(4 * (int64_t)v9 + v1);
            v15 = *(int32_t *)(324 * (int64_t)v13 + (int64_t)&g1 + 4 * (int64_t)v14);
            v16 = v11;
            if (v15 == *(int32_t *)(4 * (int64_t)v12 + v1)) {
                // 0x100003b70
                v17 = 12 * (int64_t)v11 + v1;
                *(int32_t *)v17 = v5;
                *(int32_t *)(v17 + 4) = v9;
                *(int32_t *)(v17 + 8) = v12;
                v16 = v11 + 1;
            }
            // 0x100003bcc
            result = v16;
            v18 = v12 + 1;
            while (v18 - v2 < 0 != ((v18 - v2 ^ v18) & (v18 ^ v2)) < 0) {
                // 0x100003b24
                v11 = result;
                v12 = v18;
                v13 = *(int32_t *)(4 * (int64_t)v5 + v1);
                v14 = *(int32_t *)(4 * (int64_t)v9 + v1);
                v15 = *(int32_t *)(324 * (int64_t)v13 + (int64_t)&g1 + 4 * (int64_t)v14);
                v16 = v11;
                if (v15 == *(int32_t *)(4 * (int64_t)v12 + v1)) {
                    // 0x100003b70
                    v17 = 12 * (int64_t)v11 + v1;
                    *(int32_t *)v17 = v5;
                    *(int32_t *)(v17 + 4) = v9;
                    *(int32_t *)(v17 + 8) = v12;
                    v16 = v11 + 1;
                }
                // 0x100003bcc
                result = v16;
                v18 = v12 + 1;
            }
            // 0x100003b0c
            v19 = v10 + 1;
        }
        // 0x100003ae4
        if (v8 < 0 == ((v8 ^ v7) & (v7 ^ v2)) < 0) {
            // break -> 0x100003c04
            break;
        }
        v5 = v6;
        v6 = v7;
        v7 = v6 + 1;
        v8 = v7 - v2;
    }
    // 0x100003c04
    return result;
}

// Address range: 0x100003c10 - 0x100003cc8
int64_t function_100003c10(void) {
    int32_t v1 = 27;
    int64_t v2; // 0x100003c10
    _printf("%9s", (char *)v2);
    while (v1 >= 3) {
        // 0x100003c44
        v1 /= 3;
        _printf("%9s", (char *)v2);
    }
    // 0x100003cb4
    return _putchar(10);
}

// Address range: 0x100003cc8 - 0x100003eb8
int64_t function_100003cc8(void) {
    int64_t v1 = *(int64_t *)*(int64_t *)0x100004008; // 0x100003ce0
    int64_t v2; // 0x100003cc8
    int32_t v3 = v2; // 0x100003cec
    function_100003968();
    while (v3 != (int32_t)function_100003aa0()) {
        // 0x100003cf4
        function_100003968();
    }
    int32_t v4 = v2; // 0x100003ce8
    int64_t v5 = v2 & 0xffffffff; // 0x100003d04
    _printf("dealt %d cards\n", v5);
    int32_t v6 = -v4; // 0x100003d58
    int32_t v7 = 0; // 0x100003d60
    if (v6 < 0 != (v6 & v4) < 0) {
        _printf("%2d:", v5);
        function_100003c10();
        v7++;
        while (v7 - v4 < 0 != ((v7 - v4 ^ v7) & (v7 ^ v4)) < 0) {
            // 0x100003d68
            _printf("%2d:", v5);
            function_100003c10();
            v7++;
        }
    }
    int32_t v8 = -v3; // 0x100003dc4
    int32_t v9 = 0; // 0x100003dcc
    int32_t v10 = _printf("\nsets:\n"); // 0x100003dcc
    if (v8 < 0 != (v8 & v3) < 0) {
        for (int32_t i = 0; i < 3; i++) {
            // 0x100003df0
            _printf("%2d:", v5);
            function_100003c10();
        }
        // 0x100003e68
        v9++;
        int32_t v11 = v9 - v3; // 0x100003dc4
        v10 = _putchar(10);
        while (v11 < 0 != ((v11 ^ v9) & (v9 ^ v3)) < 0) {
            for (int32_t i = 0; i < 3; i++) {
                // 0x100003df0
                _printf("%2d:", v5);
                function_100003c10();
            }
            // 0x100003e68
            v9++;
            v11 = v9 - v3;
            v10 = _putchar(10);
        }
    }
    int64_t v12 = v10;
    int64_t result = v12; // 0x100003e9c
    if (*(int64_t *)*(int64_t *)0x100004008 != v1) {
        // 0x100003ea4
        result = ___stack_chk_fail(v12);
    }
    // 0x100003ea8
    return result;
}

// Address range: 0x100003eb8 - 0x100003eec
int64_t entry_point(void) {
    // 0x100003eb8
    function_100003808();
    function_100003cc8();
    while (true) {
        // 0x100003edc
        function_100003cc8();
    }
}

// Address range: 0x100003eec - 0x100003ef8
int64_t function_100003eec(int64_t a1) {
    // 0x100003eec
    return ___stack_chk_fail(a1);
}

// Address range: 0x100003ef8 - 0x100003f04
int32_t function_100003ef8(char * format, ...) {
    // 0x100003ef8
    return _printf(format);
}

// Address range: 0x100003f04 - 0x100003f10
int32_t function_100003f04(int32_t c) {
    // 0x100003f04
    return _putchar(c);
}

// Address range: 0x100003f10 - 0x100003f1c
int32_t function_100003f10(void) {
    // 0x100003f10
    return _rand();
}

// --------------------- Meta-Information ---------------------

// Detected functions: 10

