//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
//

#include <stdbool.h>
#include <stdint.h>

// ------------------- Function Prototypes --------------------

int64_t entry_point(void);
int64_t function_100003794(void);
int64_t function_1000038f4(void);
int64_t function_100003ecc(int64_t * a1, int64_t * a2, int64_t a3, int64_t a4);
int64_t function_100003ed8(int64_t a1);
void function_100003ee4(int64_t * s, int32_t n);
int64_t * function_100003ef0(int32_t nmemb, int32_t size);
void function_100003efc(int64_t * ptr);
int64_t * function_100003f08(int32_t size);
int64_t * function_100003f14(int64_t * s, int32_t c, int32_t n);
int32_t function_100003f20(char * format, ...);

// ------- Dynamically Linked Functions Without Header --------

int64_t ___memcpy_chk(int64_t * a1, int64_t * a2, int64_t a3, int64_t a4);
int64_t ___stack_chk_fail(int64_t a1);
void _bzero(int64_t * a1, int32_t a2);
int64_t * _calloc(int32_t a1, int32_t a2);
void _free(int64_t * a1);
int64_t * _malloc(int32_t a1);
int64_t * _memset(int64_t * a1, int32_t a2, int32_t a3);
int32_t _printf(char * a1, ...);

// ------------------------ Functions -------------------------

// Address range: 0x100003794 - 0x1000038f4
int64_t function_100003794(void) {
    // 0x100003794
    int64_t v1; // 0x100003794
    int32_t v2 = v1; // 0x1000037a0
    int32_t v3 = v2 + 1; // 0x1000037a8
    int64_t * v4 = _calloc(v3, 1); // 0x1000037b8
    int64_t result = (int64_t)v4; // 0x1000037b8
    *(char *)v4 = 1;
    *(char *)(result + 1) = 1;
    int32_t v5 = 3 - v2; // 0x1000037e8
    int32_t v6 = 4; // 0x1000037f0
    if (v5 < 0 != (v5 & v3) < 0) {
        *(char *)((int64_t)v6 + result) = 1;
        v6 += 2;
        while (v6 - v3 < 0 != ((v6 - v3 ^ v6) & (v6 ^ v3)) < 0) {
            // 0x1000037f8
            *(char *)((int64_t)v6 + result) = 1;
            v6 += 2;
        }
    }
    int32_t v7 = 8 - v2; // 0x100003844
    if (v7 < 0 == (v7 & v3) < 0) {
        // 0x1000038e4
        return result;
    }
    int32_t v8 = 3;
    int32_t v9 = 9;
    int32_t v10 = v9 - v3; // 0x10000386c
    int32_t v11; // 0x1000038a4
    if (v10 < 0 != ((v10 ^ v9) & (v9 ^ v3)) < 0) {
        // 0x10000387c
        v11 = v9;
        *(char *)((int64_t)v11 + result) = 1;
        v11 += 2 * v8;
        while (v11 - v3 < 0 != ((v11 - v3 ^ v11) & (v11 ^ v3)) < 0) {
            // 0x10000387c
            *(char *)((int64_t)v11 + result) = 1;
            v11 += 2 * v8;
        }
    }
    int32_t v12 = v8 + 2; // 0x1000038b8
    int32_t v13 = v12; // 0x1000038d0
    while (*(char *)((int64_t)v12 + result) % 2 != 0) {
        // 0x1000038b4
        v12 = v13 + 2;
        v13 = v12;
    }
    int32_t v14 = v12 * v12; // 0x100003834
    while (v14 - v3 < 0 != ((v14 - v3 ^ v14) & (v14 ^ v3)) < 0) {
        // 0x100003864
        v8 = v12;
        v9 = v14;
        v10 = v9 - v3;
        if (v10 < 0 != ((v10 ^ v9) & (v9 ^ v3)) < 0) {
            // 0x10000387c
            v11 = v9;
            *(char *)((int64_t)v11 + result) = 1;
            v11 += 2 * v8;
            while (v11 - v3 < 0 != ((v11 - v3 ^ v11) & (v11 ^ v3)) < 0) {
                // 0x10000387c
                *(char *)((int64_t)v11 + result) = 1;
                v11 += 2 * v8;
            }
        }
        // 0x1000038b4
        v12 = v8 + 2;
        v13 = v12;
        while (*(char *)((int64_t)v12 + result) % 2 != 0) {
            // 0x1000038b4
            v12 = v13 + 2;
            v13 = v12;
        }
        // 0x10000382c
        v14 = v12 * v12;
    }
    // 0x1000038e4
    return result;
}

// Address range: 0x1000038f4 - 0x100003d6c
int64_t function_1000038f4(void) {
    int64_t v1 = *(int64_t *)*(int64_t *)0x100004010; // 0x10000390c
    int64_t v2; // 0x1000038f4
    int32_t v3 = v2; // 0x100003918
    int64_t v4; // bp-1032, 0x1000038f4
    _bzero(&v4, 1000);
    v4 = 2;
    int64_t v5; // bp-1132, 0x1000038f4
    _memset(&v5, 0, 100);
    v5 = 1;
    int64_t v6; // bp-1172, 0x1000038f4
    _memset(&v6, 0, 40);
    v6 = 2;
    int32_t v7 = 1 - v3; // 0x1000039c0
    int32_t v8 = 1; // 0x1000039c8
    int32_t v9 = 1; // 0x1000039c8
    int64_t v10 = 0; // 0x1000039c8
    int64_t v11 = 40; // 0x1000039c8
    int32_t v12; // 0x1000038f4
    int32_t v13; // 0x1000038f4
    int32_t v14; // 0x1000038f4
    int32_t v15; // 0x1000038f4
    int32_t v16; // 0x1000038f4
    int32_t v17; // 0x1000038f4
    int64_t v18; // 0x1000038f4
    int64_t v19; // 0x1000038f4
    int64_t v20; // 0x1000038f4
    int32_t v21; // 0x1000039d8
    int32_t * v22; // 0x1000039e8
    int32_t v23; // 0x1000039ec
    int64_t v24; // 0x1000038f4
    int64_t v25; // 0x1000038f4
    int64_t v26; // 0x1000038f4
    int64_t v27; // 0x1000038f4
    if (v7 < 0 != (v7 & v3) < 0) {
        // 0x1000039d0
        v18 = &v6;
        v19 = &v4;
        v20 = &v5;
        v17 = 1;
        v26 = 40;
        v24 = 0;
        v15 = 1;
        v13 = 1;
        v12 = 0;
        while (true) {
          lab_0x1000039d0:;
            int32_t v28 = v12;
            v14 = v13;
            v16 = v15;
            v25 = v24;
            v27 = v26;
            v21 = *(int32_t *)(4 * (int64_t)v17 + v2);
            v22 = (int32_t *)(v2 + (int64_t)(4 * v17 - 4));
            v23 = v21 - *v22;
            int32_t v29 = v23 - v28;
            if ((uint64_t)v2 % 2 == 0) {
                if (v29 < 0 == ((v29 ^ v23) & (v23 ^ v28)) < 0) {
                    goto lab_0x100003a3c;
                } else {
                    goto lab_0x100003b14;
                }
            } else {
                if (v29 == 0 || v29 < 0 != ((v29 ^ v23) & (v23 ^ v28)) < 0) {
                    goto lab_0x100003a3c;
                } else {
                    goto lab_0x100003b14;
                }
            }
        }
    }
  lab_0x100003b58:;
    int32_t v30 = v9;
    int32_t v31 = v5; // 0x100003b5c
    int32_t v32 = v30 - v31; // 0x100003b60
    int32_t v33; // 0x1000038f4
    int64_t v34; // 0x1000038f4
    int64_t v35; // 0x1000038f4
    if (v32 == 0 || v32 < 0 != ((v32 ^ v30) & (v30 ^ v31)) < 0) {
        // 0x100003b9c
        v33 = v8;
        v34 = v10;
        v35 = v11;
        if (v30 == v31) {
            int64_t v36 = v8; // 0x100003bb4
            int64_t v37 = 4 * (int64_t)v30; // 0x100003bcc
            ___memcpy_chk((int64_t *)(40 * v36 + (int64_t)&v4), &v6, v37, -1);
            *(int32_t *)(4 * v36 + (int64_t)&v5) = v30;
            v33 = v8 + 1;
            v34 = &v6;
            v35 = v37;
        }
    } else {
        int64_t v38 = v30; // 0x100003b70
        int64_t v39 = 4 * v38; // 0x100003b74
        ___memcpy_chk(&v4, &v6, v39, 1000);
        v5 = v38;
        v33 = 1;
        v34 = &v6;
        v35 = v39;
    }
    // 0x100003c00
    _printf("Longest run(s) of primes with %s differences is %d:\n", (char *)v34, v35);
    int32_t v40 = -v33; // 0x100003c34
    if (v40 < 0 != (v33 & v40) < 0) {
        int32_t v41 = 0; // 0x100003d20
        int32_t * v42 = (int32_t *)(4 * (int64_t)v41 + (int64_t)&v5); // 0x100003c70
        int32_t v43 = *v42; // 0x100003c70
        int32_t v44 = 1 - v43; // 0x100003c78
        int32_t v45; // 0x1000038f4
        int32_t v46; // 0x100003cdc
        int32_t v47; // 0x100003c74
        int32_t v48; // 0x100003c78
        if (v44 < 0 != (v44 & v43 - 1) < 0) {
            _printf("%d (%d) ", v34, v35);
            v46 = 1;
            v47 = *v42 - 1;
            v48 = v46 - v47;
            v45 = v46;
            while (v48 < 0 != ((v48 ^ v46) & (v47 ^ v46)) < 0) {
                // 0x100003c88
                _printf("%d (%d) ", v34, v35);
                v46 = v45 + 1;
                v47 = *v42 - 1;
                v48 = v46 - v47;
                v45 = v46;
            }
        }
        // 0x100003ce8
        _printf("%d\n", v34);
        v41++;
        while (v41 - v33 < 0 != ((v41 - v33 ^ v41) & (v41 ^ v33)) < 0) {
            // 0x100003c64
            v42 = (int32_t *)(4 * (int64_t)v41 + (int64_t)&v5);
            v43 = *v42;
            v44 = 1 - v43;
            if (v44 < 0 != (v44 & v43 - 1) < 0) {
                _printf("%d (%d) ", v34, v35);
                v46 = 1;
                v47 = *v42 - 1;
                v48 = v46 - v47;
                v45 = v46;
                while (v48 < 0 != ((v48 ^ v46) & (v47 ^ v46)) < 0) {
                    // 0x100003c88
                    _printf("%d (%d) ", v34, v35);
                    v46 = v45 + 1;
                    v47 = *v42 - 1;
                    v48 = v46 - v47;
                    v45 = v46;
                }
            }
            // 0x100003ce8
            _printf("%d\n", v34);
            v41++;
        }
    }
    int64_t v49 = _printf("\n"); // 0x100003d34
    int64_t result = v49; // 0x100003d50
    if (*(int64_t *)*(int64_t *)0x100004010 != v1) {
        // 0x100003d58
        result = ___stack_chk_fail(v49);
    }
    // 0x100003d5c
    return result;
  lab_0x100003a3c:;
    int32_t v50 = v5; // 0x100003a40
    int32_t v51 = v16 - v50; // 0x100003a44
    int32_t v52; // 0x1000038f4
    int64_t v53; // 0x1000038f4
    int64_t v54; // 0x1000038f4
    if (v51 == 0 || v51 < 0 != ((v51 ^ v16) & (v16 ^ v50)) < 0) {
        // 0x100003a80
        v52 = v14;
        v53 = v25;
        v54 = v27;
        if (v16 == v50) {
            int64_t v55 = v14; // 0x100003a98
            int64_t v56 = 4 * (int64_t)v16; // 0x100003ab0
            ___memcpy_chk((int64_t *)(40 * v55 + v19), &v6, v56, -1);
            *(int32_t *)(4 * v55 + v20) = v16;
            v52 = v14 + 1;
            v53 = v18;
            v54 = v56;
        }
    } else {
        int64_t v57 = v16; // 0x100003a54
        int64_t v58 = 4 * v57; // 0x100003a58
        ___memcpy_chk(&v4, &v6, v58, 1000);
        v5 = v57;
        v52 = 1;
        v53 = v18;
        v54 = v58;
    }
    // 0x100003ae4
    v6 = (int64_t)*v22;
    int32_t v59 = v52; // 0x100003b10
    int32_t v60 = 2; // 0x100003b10
    int64_t v61 = v53; // 0x100003b10
    int64_t v62 = v54; // 0x100003b10
    goto lab_0x100003b3c;
  lab_0x100003b14:
    // 0x100003b14
    *(int32_t *)(4 * (int64_t)v16 + v18) = v21;
    v59 = v14;
    v60 = v16 + 1;
    v61 = v25;
    v62 = v27;
    goto lab_0x100003b3c;
  lab_0x100003b3c:;
    int32_t v63 = v17 + 1; // 0x100003b4c
    int32_t v64 = v63 - v3; // 0x1000039c0
    v17 = v63;
    v26 = v62;
    v24 = v61;
    v15 = v60;
    v13 = v59;
    v12 = v23;
    v8 = v59;
    v9 = v60;
    v10 = v61;
    v11 = v62;
    if (v64 < 0 == ((v64 ^ v63) & (v63 ^ v3)) < 0) {
        // break -> 0x100003b58
        goto lab_0x100003b58;
    }
    goto lab_0x1000039d0;
}

// Address range: 0x100003d6c - 0x100003ecc
int64_t entry_point(void) {
    int64_t v1 = function_100003794(); // 0x100003d90
    int32_t v2 = 0;
    int32_t v3 = 0;
    unsigned char v4 = *(char *)(v1 + (int64_t)v3); // 0x100003dc4
    v2 += (int32_t)(v4 % 2 == 0);
    int32_t v5 = v3 + 1; // 0x100003de8
    while (v3 < 0xf423e != (0xf423d - v3 & v5) < 0) {
        // 0x100003db8
        v3 = v5;
        v4 = *(char *)(v1 + (int64_t)v3);
        v2 += (int32_t)(v4 % 2 == 0);
        v5 = v3 + 1;
    }
    int64_t * v6 = _malloc(4 * v2); // 0x100003dfc
    int32_t v7 = 0;
    int32_t v8 = 0;
    int32_t v9 = v8; // 0x100003e38
    if (*(char *)(v1 + (int64_t)v7) % 2 == 0) {
        // 0x100003e40
        *(int32_t *)(4 * (int64_t)v8 + (int64_t)v6) = v7;
        v9 = v8 + 1;
    }
    int32_t v10 = v7 + 1; // 0x100003e68
    while (v7 < 0xf423e != (0xf423d - v7 & v10) < 0) {
        // 0x100003e28
        v7 = v10;
        v8 = v9;
        v9 = v8;
        if (*(char *)(v1 + (int64_t)v7) % 2 == 0) {
            // 0x100003e40
            *(int32_t *)(4 * (int64_t)v8 + (int64_t)v6) = v7;
            v9 = v8 + 1;
        }
        // 0x100003e64
        v10 = v7 + 1;
    }
    // 0x100003e74
    _free((int64_t *)v1);
    _printf("For primes < 1 million:\n");
    function_1000038f4();
    function_1000038f4();
    _free(v6);
    return 0;
}

// Address range: 0x100003ecc - 0x100003ed8
int64_t function_100003ecc(int64_t * a1, int64_t * a2, int64_t a3, int64_t a4) {
    // 0x100003ecc
    return ___memcpy_chk(a1, a2, a3, a4);
}

// Address range: 0x100003ed8 - 0x100003ee4
int64_t function_100003ed8(int64_t a1) {
    // 0x100003ed8
    return ___stack_chk_fail(a1);
}

// Address range: 0x100003ee4 - 0x100003ef0
void function_100003ee4(int64_t * s, int32_t n) {
    // 0x100003ee4
    _bzero(s, n);
}

// Address range: 0x100003ef0 - 0x100003efc
int64_t * function_100003ef0(int32_t nmemb, int32_t size) {
    // 0x100003ef0
    return _calloc(nmemb, size);
}

// Address range: 0x100003efc - 0x100003f08
void function_100003efc(int64_t * ptr) {
    // 0x100003efc
    _free(ptr);
}

// Address range: 0x100003f08 - 0x100003f14
int64_t * function_100003f08(int32_t size) {
    // 0x100003f08
    return _malloc(size);
}

// Address range: 0x100003f14 - 0x100003f20
int64_t * function_100003f14(int64_t * s, int32_t c, int32_t n) {
    // 0x100003f14
    return _memset(s, c, n);
}

// Address range: 0x100003f20 - 0x100003f2c
int32_t function_100003f20(char * format, ...) {
    // 0x100003f20
    return _printf(format);
}

// --------------------- Meta-Information ---------------------

// Detected functions: 11

