//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
//

#include <stdint.h>
#include <stdlib.h>

// ------------------- Function Prototypes --------------------

int64_t entry_point(void);
int64_t function_100003a30(void);
int64_t function_100003af0(void);
int64_t function_100003bd0(void);
int64_t function_100003c6c(void);
int64_t function_100003cdc(void);
int64_t function_100003d38(void);
int64_t * function_100003ed0(int32_t size);
int32_t function_100003edc(char * format, ...);
void function_100003ee8(int64_t * base, int32_t nmemb, int32_t size, int32_t (*compar)(int64_t *, int64_t *));
int32_t function_100003ef4(void);
char * function_100003f00(int32_t category, char * locale);

// --------------------- Global Variables ---------------------

char * g1; // 0x100003f56
int64_t g2; // 0x1000080b0
int32_t g3;

// ------- Dynamically Linked Functions Without Header --------

int64_t * _malloc(int32_t a1);
int32_t _printf(char * a1, ...);
void _qsort(int64_t * a1, int32_t a2, int32_t a3, int32_t (*a4)(int64_t *, int64_t *));
int32_t _rand(void);
char * _setlocale(int32_t a1, char * a2);

// ------------------------ Functions -------------------------

// Address range: 0x100003a30 - 0x100003af0
int64_t function_100003a30(void) {
    // 0x100003a30
    int32_t result; // 0x100003a30
    int64_t v1; // 0x100003a30
    if (*(int32_t *)((int64_t)"`&" + 176) == 0) {
        // 0x100003aa0
        result = _printf(" %s%s", (char *)v1, (char *)v1);
    } else {
        // 0x100003a58
        result = _printf(" %lc%s", (char)v1, (char *)v1);
    }
    // 0x100003ae4
    return result;
}

// Address range: 0x100003af0 - 0x100003bd0
int64_t function_100003af0(void) {
    int64_t * v1 = _malloc(628); // 0x100003b00
    int64_t result = (int64_t)v1; // 0x100003b00
    *(int32_t *)v1 = 52;
    int32_t v2 = 0; // 0x100003ba0
    for (int32_t i = 0; i < 4; i++) {
        int32_t v3 = 1;
        int64_t v4 = result + 4 + 12 * (int64_t)v2; // 0x100003b6c
        *(int32_t *)v4 = i;
        *(int32_t *)(v4 + 4) = v3;
        int32_t v5 = v3 + 1; // 0x100003b94
        v2++;
        while (v3 == 12 || v3 < 12 != (11 - v3 & v5) < 0) {
            // 0x100003b54
            v3 = v5;
            v4 = result + 4 + 12 * (int64_t)v2;
            *(int32_t *)v4 = i;
            *(int32_t *)(v4 + 4) = v3;
            v5 = v3 + 1;
            v2++;
        }
    }
    // 0x100003bc0
    return result;
}

// Address range: 0x100003bd0 - 0x100003c6c
int64_t function_100003bd0(void) {
    // 0x100003bd0
    int64_t v1; // 0x100003bd0
    _printf("%d cards:", v1);
    int32_t v2 = v1;
    int32_t v3 = -v2; // 0x100003c14
    if (v3 < 0 == (v2 & v3) < 0) {
        // 0x100003c54
        return _printf("\n");
    }
    int32_t v4 = 0; // 0x100003c1c
    function_100003a30();
    v4++;
    while (v4 - v2 < 0 != ((v4 - v2 ^ v4) & (v4 ^ v2)) < 0) {
        // 0x100003c24
        function_100003a30();
        v4++;
    }
    // 0x100003c54
    return _printf("\n");
}

// Address range: 0x100003c6c - 0x100003cdc
int64_t function_100003c6c(void) {
    // 0x100003c6c
    int64_t v1; // 0x100003c6c
    int32_t v2 = *(int32_t *)(v1 + 8); // 0x100003c7c
    int32_t v3 = *(int32_t *)(v1 + 8); // 0x100003c88
    int32_t v4 = v2 - v3; // 0x100003c98
    return v4 < 0 == ((v4 ^ v2) & (v3 ^ v2)) < 0 ? (int64_t)(v4 != 0) : 0xffffffff;
}

// Address range: 0x100003cdc - 0x100003d38
int64_t function_100003cdc(void) {
    // 0x100003cdc
    int64_t v1; // 0x100003cdc
    int32_t v2 = v1;
    int64_t result = 0; // 0x100003cf4
    if (v2 != 0) {
        int32_t v3 = v2 - 1; // 0x100003d14
        *(int32_t *)v1 = v3;
        result = v1 + 4 + 12 * (int64_t)v3;
    }
    // 0x100003d2c
    return result;
}

// Address range: 0x100003d38 - 0x100003dcc
int64_t function_100003d38(void) {
    // 0x100003d38
    int64_t v1; // 0x100003d38
    int32_t v2 = v1;
    int32_t v3 = -v2; // 0x100003d5c
    if (v3 < 0 == (v2 & v3) < 0) {
        // 0x100003da0
        _qsort((int64_t *)(v1 + 4), v2, 12, (int32_t (*)(int64_t *, int64_t *))0x100003c6c);
        return &g3;
    }
    int32_t v4 = 0; // 0x100003d94
    *(int32_t *)(v1 + 12 + 12 * (int64_t)v4) = _rand();
    v4++;
    int64_t v5; // 0x100003d38
    int32_t v6 = *(int32_t *)&v5; // 0x100003d58
    int32_t v7 = v4 - v6; // 0x100003d5c
    int32_t v8 = v6; // 0x100003d64
    while (v7 < 0 != ((v7 ^ v4) & (v6 ^ v4)) < 0) {
        // 0x100003d6c
        *(int32_t *)(v1 + 12 + 12 * (int64_t)v4) = _rand();
        v4++;
        v6 = *(int32_t *)&v5;
        v7 = v4 - v6;
        v8 = v6;
    }
    // 0x100003da0
    _qsort((int64_t *)(v1 + 4), v8, 12, (int32_t (*)(int64_t *, int64_t *))0x100003c6c);
    return &g3;
}

// Address range: 0x100003dcc - 0x100003ed0
int64_t entry_point(void) {
    // 0x100003dcc
    function_100003af0();
    char * v1 = _setlocale(2, (char *)&g1); // 0x100003df0
    *(int32_t *)&g2 = (int32_t)(v1 != NULL);
    _printf("New deck, ");
    function_100003bd0();
    _printf("\nShuffle and deal to three players:\n");
    function_100003d38();
    for (int32_t i = 0; i < 3; i++) {
        for (int32_t j = 0; j < 5; j++) {
            // 0x100003e6c
            function_100003cdc();
            function_100003a30();
        }
        // 0x100003e8c
        _printf("\n");
    }
    // 0x100003eac
    _printf("Left in deck ");
    function_100003bd0();
    return 0;
}

// Address range: 0x100003ed0 - 0x100003edc
int64_t * function_100003ed0(int32_t size) {
    // 0x100003ed0
    return _malloc(size);
}

// Address range: 0x100003edc - 0x100003ee8
int32_t function_100003edc(char * format, ...) {
    // 0x100003edc
    return _printf(format);
}

// Address range: 0x100003ee8 - 0x100003ef4
void function_100003ee8(int64_t * base, int32_t nmemb, int32_t size, int32_t (*compar)(int64_t *, int64_t *)) {
    // 0x100003ee8
    _qsort(base, nmemb, size, compar);
}

// Address range: 0x100003ef4 - 0x100003f00
int32_t function_100003ef4(void) {
    // 0x100003ef4
    return _rand();
}

// Address range: 0x100003f00 - 0x100003f0c
char * function_100003f00(int32_t category, char * locale) {
    // 0x100003f00
    return _setlocale(category, locale);
}

// --------------------- Meta-Information ---------------------

// Detected functions: 12

