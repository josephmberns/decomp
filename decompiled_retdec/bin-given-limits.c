//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
//

#include <stdint.h>
#include <stdlib.h>

// ------------------------ Structures ------------------------

struct _IO_FILE {
    int32_t e0;
};

// ------------------- Function Prototypes --------------------

int64_t entry_point(void);
int64_t function_10000363c(void);
int64_t function_1000036e8(void);
int64_t function_1000037b8(void);
int64_t function_100003ab8(int64_t a1);
int64_t * function_100003ac4(int32_t nmemb, int32_t size);
int32_t function_100003ad0(struct _IO_FILE * stream, char * format, ...);
void function_100003adc(int64_t * ptr);
int64_t * function_100003ae8(int64_t * dest, int64_t * src, int32_t n);
int32_t function_100003af4(char * format, ...);

// --------------------- Global Variables ---------------------

int64_t g1 = 0x150000005f; // 0x100003b88
int64_t g2 = 0x120000000e; // 0x100003c50
int64_t g3 = 0x32e000001bd; // 0x100003c78
int32_t g4;

// ------- Dynamically Linked Functions Without Header --------

int64_t ___stack_chk_fail(int64_t a1);
int64_t * _calloc(int32_t a1, int32_t a2);
int32_t _fprintf(struct _IO_FILE * a1, char * a2, ...);
void _free(int64_t * a1);
int64_t * _memcpy(int64_t * a1, int64_t * a2, int32_t a3);
int32_t _printf(char * a1, ...);

// ------------------------ Functions -------------------------

// Address range: 0x10000363c - 0x1000036e8
int64_t function_10000363c(void) {
    // 0x10000363c
    int64_t v1; // 0x10000363c
    int32_t v2 = v1; // 0x100003648
    if (v1 == 0) {
        // 0x1000036dc
        return 0;
    }
    int64_t result = 0; // 0x100003660
    int64_t v3; // 0x10000363c
    int64_t v4 = v3 / 2; // 0x100003670
    int64_t v5 = v4 + result; // 0x100003680
    int32_t v6 = *(int32_t *)(4 * v5 + v1); // 0x100003694
    int32_t v7 = v2 - v6; // 0x100003698
    int64_t v8 = result; // 0x1000036a0
    int64_t v9 = v4; // 0x1000036a0
    if (v7 < 0 == ((v7 ^ v2) & (v6 ^ v2)) < 0) {
        // 0x1000036a8
        v8 = v5 + 1;
        v9 = v3 + -1 - v4;
    }
    // 0x1000036d8
    result = v8;
    while (v9 != 0) {
        uint64_t v10 = v9;
        v4 = v10 / 2;
        v5 = v4 + result;
        v6 = *(int32_t *)(4 * v5 + v1);
        v7 = v2 - v6;
        v8 = result;
        v9 = v4;
        if (v7 < 0 == ((v7 ^ v2) & (v6 ^ v2)) < 0) {
            // 0x1000036a8
            v8 = v5 + 1;
            v9 = v10 + -1 - v4;
        }
        // 0x1000036d8
        result = v8;
    }
    // 0x1000036dc
    return result;
}

// Address range: 0x1000036e8 - 0x1000037b8
int64_t function_1000036e8(void) {
    // 0x1000036e8
    int64_t v1; // 0x1000036e8
    int64_t * v2 = _calloc((int32_t)v1 + 1, 4); // 0x100003710
    if (v2 == NULL) {
        // 0x1000037a8
        return 0;
    }
    int64_t result = (int64_t)v2; // 0x100003710
    if (v1 == 0) {
        // 0x1000037a8
        return result;
    }
    int64_t v3 = 0; // 0x10000374c
    int32_t * v4 = (int32_t *)(4 * function_10000363c() + result); // 0x10000377c
    *v4 = *v4 + 1;
    while (v3 + 1 != v1) {
        // 0x100003754
        v3++;
        v4 = (int32_t *)(4 * function_10000363c() + result);
        *v4 = *v4 + 1;
    }
    // 0x1000037a8
    return result;
}

// Address range: 0x1000037b8 - 0x1000038ec
int64_t function_1000037b8(void) {
    // 0x1000037b8
    int64_t v1; // 0x1000037b8
    if (v1 == 0) {
        // 0x1000038e0
        int64_t result; // 0x1000037b8
        return result;
    }
    // 0x1000037e8
    _printf("           < %3d: %2d\n", v1, v1);
    if (v1 == 1) {
        // 0x1000038e0
        return _printf(">= %3d          : %2d\n", v1, v1);
    }
    int64_t v2 = 1; // 0x100003834
    _printf(">= %3d and < %3d: %2d\n", v1, v1, v1);
    while (v2 + 1 != v1) {
        // 0x10000383c
        v2++;
        _printf(">= %3d and < %3d: %2d\n", v1, v1, v1);
    }
    // 0x1000038e0
    return _printf(">= %3d          : %2d\n", v1, v1);
}

// Address range: 0x1000038ec - 0x100003ab8
int64_t entry_point(void) {
    // 0x1000038ec
    int64_t v1; // bp-256, 0x1000038ec
    _memcpy(&v1, &g1, 200);
    _printf("Example 1:\n");
    int64_t v2 = function_1000036e8(); // 0x10000396c
    int64_t result; // 0x1000038ec
    int64_t v3; // 0x1000038ec
    if (v2 == 0) {
        int64_t v4 = *(int64_t *)*(int64_t *)0x100004010; // 0x100003990
        result = 1;
        v3 = _fprintf((struct _IO_FILE *)v4, "Out of memory\n");
    } else {
        // 0x1000039ac
        function_1000037b8();
        _free((int64_t *)v2);
        int64_t v5; // bp-296, 0x1000038ec
        _memcpy(&v5, &g2, 40);
        int64_t v6; // bp-1096, 0x1000038ec
        _memcpy(&v6, &g3, 800);
        _printf("\nExample 2:\n");
        int64_t v7 = function_1000036e8(); // 0x100003a18
        if (v7 == 0) {
            int64_t v8 = *(int64_t *)*(int64_t *)0x100004010; // 0x100003a3c
            result = 1;
            v3 = _fprintf((struct _IO_FILE *)v8, "Out of memory\n");
        } else {
            // 0x100003a58
            function_1000037b8();
            _free((int64_t *)v7);
            result = 0;
            v3 = &g4;
        }
    }
    int64_t v9 = *(int64_t *)*(int64_t *)0x100004008; // 0x100003a8c
    if (v9 != *(int64_t *)*(int64_t *)0x100004008) {
        // 0x100003aa0
        ___stack_chk_fail(v3);
    }
    // 0x100003aa4
    return result;
}

// Address range: 0x100003ab8 - 0x100003ac4
int64_t function_100003ab8(int64_t a1) {
    // 0x100003ab8
    return ___stack_chk_fail(a1);
}

// Address range: 0x100003ac4 - 0x100003ad0
int64_t * function_100003ac4(int32_t nmemb, int32_t size) {
    // 0x100003ac4
    return _calloc(nmemb, size);
}

// Address range: 0x100003ad0 - 0x100003adc
int32_t function_100003ad0(struct _IO_FILE * stream, char * format, ...) {
    // 0x100003ad0
    return _fprintf(stream, format);
}

// Address range: 0x100003adc - 0x100003ae8
void function_100003adc(int64_t * ptr) {
    // 0x100003adc
    _free(ptr);
}

// Address range: 0x100003ae8 - 0x100003af4
int64_t * function_100003ae8(int64_t * dest, int64_t * src, int32_t n) {
    // 0x100003ae8
    return _memcpy(dest, src, n);
}

// Address range: 0x100003af4 - 0x100003b00
int32_t function_100003af4(char * format, ...) {
    // 0x100003af4
    return _printf(format);
}

// --------------------- Meta-Information ---------------------

// Detected functions: 10

