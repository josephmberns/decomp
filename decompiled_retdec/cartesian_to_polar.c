//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
//

#include <math.h>
#include <stdint.h>

// ---------------- Integer Types Definitions -----------------

typedef int64_t int128_t;

// ----------------- Float Types Definitions ------------------

typedef float float32_t;
typedef double float64_t;

// ------------------------ Structures ------------------------

struct _IO_FILE {
    int32_t e0;
};

// ------------------- Function Prototypes --------------------

int64_t entry_point(void);
int64_t function_1000039d8(void);
int64_t function_100003c48(int64_t a1);
int64_t function_100003c98(void);
int64_t function_100003e78(char * a1, char * a2, int64_t a3, char * a4);
float64_t function_100003e84(float64_t a1);
float64_t function_100003e90(float64_t a1, float64_t a2);
int32_t function_100003e9c(struct _IO_FILE * stream, char * format, ...);
float64_t function_100003ea8(float64_t a1, float64_t a2);
int32_t function_100003eb4(char * format, ...);
int32_t function_100003ec0(void);
void function_100003ecc(int32_t seed);

// --------------------- Global Variables ---------------------

float64_t g1 = -3.1415926535897931; // 0x100003ed8
float64_t g2 = 3.1415926535897931; // 0x100003ee0
float64_t g3 = 6.2831853071795862; // 0x100003ee8
float64_t g4 = 1.5707963267948966; // 0x100003ef0
float64_t g5 = -1.5707963267948966; // 0x100003ef8
float64_t g6 = 0.01; // 0x100003f08

// ------- Dynamically Linked Functions Without Header --------

int64_t ___assert_rtn(char * a1, char * a2, int64_t a3, char * a4);
float64_t _atan(float64_t a1);
float64_t _atan2(float64_t a1, float64_t a2);
int32_t _fprintf(struct _IO_FILE * a1, char * a2, ...);
float64_t _hypot(float64_t a1, float64_t a2);
int32_t _printf(char * a1, ...);
int32_t _rand(void);
void _srand(int32_t a1);

// ------------------------ Functions -------------------------

// Address range: 0x1000039d8 - 0x100003c48
int64_t function_1000039d8(void) {
    // 0x1000039d8
    int64_t v1; // 0x1000039d8
    int64_t v2 = v1;
    float64_t v3; // 0x1000039d8
    float64_t v4 = v3;
    float64_t v5 = v3;
    *(float64_t *)v1 = sqrt(v4 * v4 + v5 * v5);
    int64_t v6; // 0x1000039d8
    float64_t result2; // 0x100003a54
    int64_t result; // 0x1000039d8
    if (v5 == 0.0) {
        if (v4 != 0.0) {
            if (v4 > 0.0 == v4 >= 0.0 == v4 <= 0.0) {
                // 0x100003bc4
                v6 = g4;
            } else {
                // 0x100003be8
                v6 = g5;
            }
            // 0x100003c30
            *(int64_t *)v2 = v6;
            return result;
        }
        // .thread77
        goto lab_0x100003c1c;
    } else {
        if (v4 == 0.0) {
            if (v5 > 0.0 == v5 >= 0.0 == v5 <= 0.0) {
                // 0x100003c30
                *(int64_t *)v2 = 0;
                return result;
            }
            goto lab_0x100003c1c;
        } else {
            int128_t v7; // 0x1000039d8
            result2 = _atan((float64_t)(int64_t)v7);
            *(float64_t *)v2 = v4 / v5;
            if (v5 > 0.0 == v5 >= 0.0 == v5 <= 0.0) {
                if (v4 > 0.0 == v4 >= 0.0 == v4 <= 0.0) {
                    goto lab_0x100003aa4;
                } else {
                    goto lab_0x100003a88;
                }
            } else {
                goto lab_0x100003a88;
            }
        }
    }
  lab_0x100003c1c:
    // 0x100003c30
    *(int64_t *)v2 = (int64_t)g1;
    return result;
  lab_0x100003a88:
    if (v5 == -v4) {
        goto lab_0x100003aa4;
      lab_0x100003aa4:
        // 0x100003c30
        *(int64_t *)v2 = v6;
        return result2;
    }
    if (v5 > 0.0) {
        if (v4 > 0.0 == v4 >= 0.0 == v4 <= 0.0) {
            // 0x100003c30
            *(int64_t *)v2 = (int64_t)(g2 + (float64_t)v2);
            return result2;
        }
        if (v4 > 0.0) {
            // 0x100003c30
            *(int64_t *)v2 = (int64_t)((float64_t)v2 - g2);
            return result2;
        }
    } else {
        if (v4 > 0.0 == v5 > 0.0 == v5 >= 0.0 == v5 <= 0.0) {
            // 0x100003c30
            *(int64_t *)v2 = (int64_t)(g3 - (float64_t)v2);
            return result2;
        }
    }
    int64_t v8 = *(int64_t *)*(int64_t *)0x100004008; // 0x100003b88
    int64_t result3 = _fprintf((struct _IO_FILE *)v8, "Should not reach here!\n");
    *(int64_t *)v2 = (int64_t)0.0;
    return result3;
}

// Address range: 0x100003c48 - 0x100003c98
int64_t function_100003c48(int64_t a1) {
    // 0x100003c48
    return _rand();
}

// Address range: 0x100003c98 - 0x100003e4c
int64_t function_100003c98(void) {
    // 0x100003c98
    _srand(10);
    int32_t v1 = 0; // 0x100003e34
    int128_t v2; // 0x100003c98
    int64_t v3 = v2; // 0x100003c98
    int64_t v4; // 0x100003c98
    int32_t v5 = _printf("Test %d.... ", v4); // 0x100003cec
    function_100003c48(function_100003c48((int64_t)v5));
    _printf("(%.2g, %.2g).... ", (float64_t)v3, (float64_t)(int64_t)v2);
    function_1000039d8();
    float64_t v6 = _hypot((float64_t)v3, (float64_t)(int64_t)v2); // 0x100003d60
    float64_t v7; // bp-40, 0x100003c98
    int64_t v8 = &v7; // 0x100003d8c
    float64_t v9; // 0x100003c98
    if (__asm_fabd(v9, -5.0) <= g6) {
        // 0x100003d94
        ___assert_rtn("test", "cartesian_to_polar.c", 111, "fabs(r - hypot(x, y)) < 0.01");
        v8 = (int64_t)"cartesian_to_polar.c";
    }
    float64_t v10 = _atan2(v6, (float64_t)(int64_t)v2); // 0x100003dc8
    int64_t v11 = v8; // 0x100003df4
    if (__asm_fabd(v7, -5.0) <= g6) {
        // 0x100003dfc
        ___assert_rtn("test", "cartesian_to_polar.c", 112, "fabs(theta - atan2(y, x)) < 0.01");
        v11 = (int64_t)"cartesian_to_polar.c";
    }
    int32_t result = _printf("passed\n"); // 0x100003e28
    v1++;
    v3 = (float32_t)v10;
    while (v1 != 5) {
        // 0x100003cd4
        v5 = _printf("Test %d.... ", v11);
        function_100003c48(function_100003c48((int64_t)v5));
        _printf("(%.2g, %.2g).... ", (float64_t)v3, (float64_t)(int64_t)v2);
        function_1000039d8();
        v6 = _hypot((float64_t)v3, (float64_t)(int64_t)v2);
        v8 = &v7;
        if (__asm_fabd(v9, -5.0) <= g6) {
            // 0x100003d94
            ___assert_rtn("test", "cartesian_to_polar.c", 111, "fabs(r - hypot(x, y)) < 0.01");
            v8 = (int64_t)"cartesian_to_polar.c";
        }
        // 0x100003db8
        v10 = _atan2(v6, (float64_t)(int64_t)v2);
        v11 = v8;
        if (__asm_fabd(v7, -5.0) <= g6) {
            // 0x100003dfc
            ___assert_rtn("test", "cartesian_to_polar.c", 112, "fabs(theta - atan2(y, x)) < 0.01");
            v11 = (int64_t)"cartesian_to_polar.c";
        }
        // 0x100003e20
        result = _printf("passed\n");
        v1++;
        v3 = (float32_t)v10;
    }
    // 0x100003e40
    return result;
}

// Address range: 0x100003e4c - 0x100003e78
int64_t entry_point(void) {
    // 0x100003e4c
    function_100003c98();
    return 0;
}

// Address range: 0x100003e78 - 0x100003e84
int64_t function_100003e78(char * a1, char * a2, int64_t a3, char * a4) {
    // 0x100003e78
    return ___assert_rtn(a1, a2, a3, a4);
}

// Address range: 0x100003e84 - 0x100003e90
float64_t function_100003e84(float64_t a1) {
    // 0x100003e84
    return _atan(a1);
}

// Address range: 0x100003e90 - 0x100003e9c
float64_t function_100003e90(float64_t a1, float64_t a2) {
    // 0x100003e90
    return _atan2(a1, a2);
}

// Address range: 0x100003e9c - 0x100003ea8
int32_t function_100003e9c(struct _IO_FILE * stream, char * format, ...) {
    // 0x100003e9c
    return _fprintf(stream, format);
}

// Address range: 0x100003ea8 - 0x100003eb4
float64_t function_100003ea8(float64_t a1, float64_t a2) {
    // 0x100003ea8
    return _hypot(a1, a2);
}

// Address range: 0x100003eb4 - 0x100003ec0
int32_t function_100003eb4(char * format, ...) {
    // 0x100003eb4
    return _printf(format);
}

// Address range: 0x100003ec0 - 0x100003ecc
int32_t function_100003ec0(void) {
    // 0x100003ec0
    return _rand();
}

// Address range: 0x100003ecc - 0x100003ed8
void function_100003ecc(int32_t seed) {
    // 0x100003ecc
    _srand(seed);
}

// --------------------- Meta-Information ---------------------

// Detected functions: 12

