//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
//

#include <stdint.h>

// ------------------------ Structures ------------------------

struct _IO_FILE {
    int32_t e0;
};

// ------------------- Function Prototypes --------------------

int64_t entry_point(void);
int64_t function_100003bc8(void);
int64_t function_100003cec(void);
int64_t function_100003dac(void);
int32_t function_100003f0c(struct _IO_FILE * stream);
struct _IO_FILE * function_100003f18(char * filename, char * modes);
int32_t function_100003f24(struct _IO_FILE * stream, char * format, ...);
int64_t * function_100003f30(int32_t size);
int32_t function_100003f3c(char * format, ...);

// ------- Dynamically Linked Functions Without Header --------

int32_t _fclose(struct _IO_FILE * a1);
struct _IO_FILE * _fopen(char * a1, char * a2);
int32_t _fscanf(struct _IO_FILE * a1, char * a2, ...);
int64_t * _malloc(int32_t a1);
int32_t _printf(char * a1, ...);

// ------------------------ Functions -------------------------

// Address range: 0x100003bc8 - 0x100003cec
int64_t function_100003bc8(void) {
    // 0x100003bc8
    int64_t v1; // 0x100003bc8
    struct _IO_FILE * v2 = _fopen((char *)v1, "r"); // 0x100003be4
    int64_t * v3 = (int64_t *)v1; // 0x100003c10
    _fscanf(v2, "%d%d", v3, (int64_t *)v1);
    int32_t result; // 0x100003bc8
    int64_t * v4 = _malloc(8 * result); // 0x100003c1c
    int32_t v5 = -result; // 0x100003c34
    if (v5 < 0 == (result & v5) < 0) {
        // 0x100003cd0
        _fclose(v2);
        return result;
    }
    int32_t v6 = -result;
    int32_t v7 = 0; // 0x100003cc4
    int64_t * v8 = _malloc(4 * result); // 0x100003c4c
    *(int64_t *)(8 * (int64_t)v7 + (int64_t)v4) = (int64_t)v8;
    int32_t v9; // 0x100003bc8
    int32_t v10; // 0x100003cb0
    int32_t v11; // 0x100003c6c
    if (v6 < 0 != (result & v6) < 0) {
        _fscanf(v2, "%d", v3);
        v10 = 1;
        v11 = v10 - result;
        v9 = v10;
        while (v11 < 0 != ((v11 ^ v10) & (v10 ^ result)) < 0) {
            // 0x100003c7c
            _fscanf(v2, "%d", v3);
            v10 = v9 + 1;
            v11 = v10 - result;
            v9 = v10;
        }
    }
    // 0x100003cc0
    v7++;
    while (v7 - result < 0 != ((v7 - result ^ v7) & (v7 ^ result)) < 0) {
        // 0x100003c44
        v8 = _malloc(4 * result);
        *(int64_t *)(8 * (int64_t)v7 + (int64_t)v4) = (int64_t)v8;
        if (v6 < 0 != (result & v6) < 0) {
            _fscanf(v2, "%d", v3);
            v10 = 1;
            v11 = v10 - result;
            v9 = v10;
            while (v11 < 0 != ((v11 ^ v10) & (v10 ^ result)) < 0) {
                // 0x100003c7c
                _fscanf(v2, "%d", v3);
                v10 = v9 + 1;
                v11 = v10 - result;
                v9 = v10;
            }
        }
        // 0x100003cc0
        v7++;
    }
    // 0x100003cd0
    _fclose(v2);
    return result;
}

// Address range: 0x100003cec - 0x100003dac
int64_t function_100003cec(void) {
    // 0x100003cec
    int64_t v1; // 0x100003cec
    int32_t v2 = v1; // 0x100003cf8
    int32_t v3 = -v2; // 0x100003d10
    if (v3 < 0 == (v3 & v2) < 0) {
        // 0x100003da0
        int64_t result; // 0x100003cec
        return result;
    }
    // 0x100003d20
    int32_t v4; // 0x100003cec
    int32_t v5 = -v4;
    int32_t v6 = 0; // 0x100003d94
    int32_t result2 = _printf("\n"); // 0x100003d44
    int32_t v7; // 0x100003cec
    int32_t v8; // 0x100003d80
    int32_t v9; // 0x100003d3c
    if (v5 < 0 != (v4 & v5) < 0) {
        v8 = 1;
        v9 = v8 - v4;
        v7 = v8;
        result2 = _printf("%3d", v1);
        while (v9 < 0 != ((v9 ^ v8) & (v8 ^ v4)) < 0) {
            // 0x100003d4c
            v8 = v7 + 1;
            v9 = v8 - v4;
            v7 = v8;
            result2 = _printf("%3d", v1);
        }
    }
    // 0x100003d90
    v6++;
    while (v6 - v2 < 0 != ((v6 - v2 ^ v6) & (v6 ^ v2)) < 0) {
        // 0x100003d20
        result2 = _printf("\n");
        if (v5 < 0 != (v4 & v5) < 0) {
            v8 = 1;
            v9 = v8 - v4;
            v7 = v8;
            result2 = _printf("%3d", v1);
            while (v9 < 0 != ((v9 ^ v8) & (v8 ^ v4)) < 0) {
                // 0x100003d4c
                v8 = v7 + 1;
                v9 = v8 - v4;
                v7 = v8;
                result2 = _printf("%3d", v1);
            }
        }
        // 0x100003d90
        v6++;
    }
    // 0x100003da0
    return result2;
}

// Address range: 0x100003dac - 0x100003e54
int64_t function_100003dac(void) {
    // 0x100003dac
    int64_t v1; // 0x100003dac
    int32_t v2 = v1; // 0x100003db0
    int32_t v3 = 1 - v2; // 0x100003dd0
    if (v3 < 0 == (v3 & v2) < 0) {
        // 0x100003e48
        return 0;
    }
    int32_t v4 = 0;
    int32_t v5 = 1;
    int32_t v6 = -v5; // 0x100003df0
    int32_t v7 = v4; // 0x100003df8
    int32_t v8; // 0x100003e18
    int32_t v9; // 0x100003e28
    int32_t v10; // 0x100003df0
    int64_t v11; // 0x100003e08
    if (v6 < 0 != (v5 & v6) < 0) {
        // 0x100003e00
        v11 = *(int64_t *)(8 * (int64_t)v5 + v1);
        v9 = 0;
        v8 = v4;
        v8 += *(int32_t *)(4 * (int64_t)v9 + v11);
        v9++;
        v10 = v9 - v5;
        v7 = v8;
        while (v10 < 0 != ((v10 ^ v9) & (v9 ^ v5)) < 0) {
            // 0x100003e00
            v8 += *(int32_t *)(4 * (int64_t)v9 + v11);
            v9++;
            v10 = v9 - v5;
            v7 = v8;
        }
    }
    int32_t result = v7;
    int32_t v12 = v5 + 1; // 0x100003e3c
    int32_t v13 = v12 - v2; // 0x100003dd0
    while (v13 < 0 != ((v13 ^ v12) & (v12 ^ v2)) < 0) {
        // 0x100003de8
        v4 = result;
        v5 = v12;
        v6 = -v5;
        v7 = v4;
        if (v6 < 0 != (v5 & v6) < 0) {
            // 0x100003e00
            v11 = *(int64_t *)(8 * (int64_t)v5 + v1);
            v9 = 0;
            v8 = v4;
            v8 += *(int32_t *)(4 * (int64_t)v9 + v11);
            v9++;
            v10 = v9 - v5;
            v7 = v8;
            while (v10 < 0 != ((v10 ^ v9) & (v9 ^ v5)) < 0) {
                // 0x100003e00
                v8 += *(int32_t *)(4 * (int64_t)v9 + v11);
                v9++;
                v10 = v9 - v5;
                v7 = v8;
            }
        }
        // 0x100003e38
        result = v7;
        v12 = v5 + 1;
        v13 = v12 - v2;
    }
    // 0x100003e48
    return result;
}

// Address range: 0x100003e54 - 0x100003f0c
int64_t entry_point(void) {
    // 0x100003e54
    int64_t result; // 0x100003e54
    int64_t v1; // 0x100003e54
    if ((int32_t)v1 == 2) {
        // 0x100003ea4
        function_100003bc8();
        _printf("\n\nMatrix is : \n\n");
        function_100003cec();
        function_100003dac();
        _printf("\n\nSum below main diagonal : %d", v1);
        result = 0;
    } else {
        // 0x100003e80
        result = _printf("Usage : %s <filename>", (char *)v1);
    }
    // 0x100003efc
    return result;
}

// Address range: 0x100003f0c - 0x100003f18
int32_t function_100003f0c(struct _IO_FILE * stream) {
    // 0x100003f0c
    return _fclose(stream);
}

// Address range: 0x100003f18 - 0x100003f24
struct _IO_FILE * function_100003f18(char * filename, char * modes) {
    // 0x100003f18
    return _fopen(filename, modes);
}

// Address range: 0x100003f24 - 0x100003f30
int32_t function_100003f24(struct _IO_FILE * stream, char * format, ...) {
    // 0x100003f24
    return _fscanf(stream, format);
}

// Address range: 0x100003f30 - 0x100003f3c
int64_t * function_100003f30(int32_t size) {
    // 0x100003f30
    return _malloc(size);
}

// Address range: 0x100003f3c - 0x100003f48
int32_t function_100003f3c(char * format, ...) {
    // 0x100003f3c
    return _printf(format);
}

// --------------------- Meta-Information ---------------------

// Detected functions: 9

