//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
//

#include <stdbool.h>
#include <stdint.h>
#include <stdlib.h>

// ------------------- Function Prototypes --------------------

int64_t entry_point(void);
int64_t function_100003b3c(void);
int64_t function_100003c40(void);
int64_t function_100003cc4(void);
int64_t function_100003e18(void);
void function_100003f30(int64_t * ptr);
int64_t * function_100003f3c(int32_t size);
int32_t function_100003f48(int16_t * pwcs, char * s, int32_t n);
int32_t function_100003f54(char * format, ...);
char * function_100003f60(int32_t category, char * locale);
int16_t * function_100003f6c(int16_t * dest, int16_t * src, int32_t n);
int32_t function_100003f78(char * s, int16_t * pwcs, int32_t n);

// --------------------- Global Variables ---------------------

char * g1; // 0x100003f95

// ------- Dynamically Linked Functions Without Header --------

void _free(int64_t * a1);
int64_t * _malloc(int32_t a1);
int32_t _mbstowcs(int16_t * a1, char * a2, int32_t a3);
int32_t _printf(char * a1, ...);
char * _setlocale(int32_t a1, char * a2);
int16_t * _wcsncpy(int16_t * a1, int16_t * a2, int32_t a3);
int32_t _wcstombs(char * a1, int16_t * a2, int32_t a3);

// ------------------------ Functions -------------------------

// Address range: 0x100003b3c - 0x100003c40
int64_t function_100003b3c(void) {
    // 0x100003b3c
    int64_t v1; // 0x100003b3c
    int32_t v2 = v1; // 0x100003b40
    if (v2 < 768 == (767 - v2 & v2) < 0) {
        int32_t v3 = v2 - 879; // 0x100003b5c
        if (v3 == 0 || v3 < 0 != (878 - v2 & v2) < 0) {
            // 0x100003c34
            return 1;
        }
    }
    if (v2 < 0x1dc0 == (0x1dbf - v2 & v2) < 0) {
        int32_t v4 = v2 - 0x1dff; // 0x100003b98
        if (v4 == 0 || v4 < 0 != (0x1dfe - v2 & v2) < 0) {
            // 0x100003c34
            return 1;
        }
    }
    if (v2 < 0x20d0 == (0x20cf - v2 & v2) < 0) {
        int32_t v5 = v2 - 0x20ff; // 0x100003bd4
        if (v5 == 0 || v5 < 0 != (0x20fe - v2 & v2) < 0) {
            // 0x100003c34
            return 1;
        }
    }
    if (v2 < 0xfe20 == (0xfe1f - v2 & v2) < 0) {
        int32_t v6 = v2 - 0xfe2f; // 0x100003c10
        if (v6 == 0 || v6 < 0 != (0xfe2e - v2 & v2) < 0) {
            // 0x100003c34
            return 1;
        }
    }
    // 0x100003c34
    return 0;
}

// Address range: 0x100003c40 - 0x100003cc4
int64_t function_100003c40(void) {
    // 0x100003c40
    int64_t v1; // 0x100003c40
    char * v2 = (char *)v1; // 0x100003c4c
    int32_t v3 = _mbstowcs(NULL, v2, 0) + 1; // 0x100003c60
    int64_t result = 0; // 0x100003c74
    if (v3 != 0) {
        int64_t * v4 = _malloc(4 * v3); // 0x100003c90
        _mbstowcs((int16_t *)v4, v2, v3);
        result = (int64_t)v4;
    }
    // 0x100003cb4
    return result;
}

// Address range: 0x100003cc4 - 0x100003e18
int64_t function_100003cc4(void) {
    int64_t v1 = 0;
    int64_t v2 = 4 * v1; // 0x100003ce4
    int64_t v3 = v1 + 1; // 0x100003cf0
    int64_t v4; // 0x100003cc4
    while (*(int32_t *)(v2 + v4) != 0) {
        // 0x100003cdc
        v1 = v3;
        v2 = 4 * v1;
        v3 = v1 + 1;
    }
    int64_t result = (int64_t)_malloc(4 * (int32_t)v1 + 4); // 0x100003d1c
    *(int32_t *)(v2 + result) = 0;
    int64_t v5 = 0; // 0x100003d48
    if (v1 == 0) {
        // 0x100003e08
        return result;
    }
    int64_t v6 = v1 - 1;
    bool v7 = true; // 0x100003d74
    int64_t v8; // 0x100003cc4
    while (v6 != 0) {
        // 0x100003d9c
        v8 = v6;
        v7 = false;
        if ((int32_t)function_100003b3c() == 0) {
            // break -> 0x100003dbc
            break;
        }
        v6 = v8 - 1;
        v7 = true;
    }
    int64_t v9 = v1 - v6; // 0x100003ddc
    _wcsncpy((int16_t *)(4 * v5 + result), (int16_t *)(4 * v6 + v4), (int32_t)v9);
    v5 += v9;
    while (!v7) {
        int64_t v10 = v6;
        v6 = v10 - 1;
        v7 = true;
        while (v6 != 0) {
            // 0x100003d9c
            v8 = v6;
            v7 = false;
            if ((int32_t)function_100003b3c() == 0) {
                // break -> 0x100003dbc
                break;
            }
            v6 = v8 - 1;
            v7 = true;
        }
        // 0x100003dbc
        v9 = v10 - v6;
        _wcsncpy((int16_t *)(4 * v5 + result), (int16_t *)(4 * v6 + v4), (int32_t)v9);
        v5 += v9;
    }
    // 0x100003e08
    return result;
}

// Address range: 0x100003e18 - 0x100003e94
int64_t function_100003e18(void) {
    int64_t v1 = function_100003c40(); // 0x100003e2c
    int64_t v2 = function_100003cc4(); // 0x100003e38
    int16_t * v3 = (int16_t *)v2; // 0x100003e4c
    int32_t v4 = _wcstombs(NULL, v3, 0) + 1; // 0x100003e50
    int64_t * v5 = _malloc(v4); // 0x100003e5c
    _wcstombs((char *)v5, v3, v4);
    _free((int64_t *)v1);
    _free((int64_t *)v2);
    return (int64_t)v5;
}

// Address range: 0x100003e94 - 0x100003f30
int64_t entry_point(void) {
    // 0x100003e94
    _setlocale(2, (char *)&g1);
    function_100003e18();
    int64_t v1; // 0x100003e94
    char * v2 = (char *)v1; // 0x100003eec
    _printf("%s => %s\n", (char *)&g1, v2);
    function_100003e18();
    _printf("%s => %s\n", (char *)&g1, v2);
    return 0;
}

// Address range: 0x100003f30 - 0x100003f3c
void function_100003f30(int64_t * ptr) {
    // 0x100003f30
    _free(ptr);
}

// Address range: 0x100003f3c - 0x100003f48
int64_t * function_100003f3c(int32_t size) {
    // 0x100003f3c
    return _malloc(size);
}

// Address range: 0x100003f48 - 0x100003f54
int32_t function_100003f48(int16_t * pwcs, char * s, int32_t n) {
    // 0x100003f48
    return _mbstowcs(pwcs, s, n);
}

// Address range: 0x100003f54 - 0x100003f60
int32_t function_100003f54(char * format, ...) {
    // 0x100003f54
    return _printf(format);
}

// Address range: 0x100003f60 - 0x100003f6c
char * function_100003f60(int32_t category, char * locale) {
    // 0x100003f60
    return _setlocale(category, locale);
}

// Address range: 0x100003f6c - 0x100003f78
int16_t * function_100003f6c(int16_t * dest, int16_t * src, int32_t n) {
    // 0x100003f6c
    return _wcsncpy(dest, src, n);
}

// Address range: 0x100003f78 - 0x100003f84
int32_t function_100003f78(char * s, int16_t * pwcs, int32_t n) {
    // 0x100003f78
    return _wcstombs(s, pwcs, n);
}

// --------------------- Meta-Information ---------------------

// Detected functions: 12

